
> vite-react-starter@0.0.0 test
> vitest --run


 RUN  v3.2.4 /Users/raul/Desktop/MIS COSAS/02_Set_Lux/SetLux_Beta

stderr | src/app/layouts/MainLayout.test.jsx > MainLayout > renders without crashing
‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

stderr | src/app/layouts/MainLayout.test.jsx > MainLayout > shows navigation links when not on index page
Invalid value for prop `className` on <a> tag. Either remove it from the element, or pass a string or number value to keep it in the DOM. For details, see https://react.dev/link/attribute-behavior 

 ‚ùØ src/app/layouts/MainLayout.test.jsx (7 tests | 2 failed) 517ms
   √ó MainLayout > renders without crashing 381ms
     ‚Üí Unable to find an element with the text: ‚Üê Volver a proyectos. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"min-h-screen grid grid-cols-[260px_1fr] bg-neutral-bg text-neutral-text pb-12"[39m
    [36m>[39m
      [36m<aside[39m
        [33mclass[39m=[32m"border-r border-neutral-border p-4 space-y-4"[39m
      [36m>[39m
        [36m<button[39m
          [33mclass[39m=[32m"w-full px-3 py-2 rounded-lg border border-neutral-border hover:border-brand text-sm"[39m
        [36m>[39m
          [0m‚Üê [0m
          [0m‚Üê Volver a proyectos[0m
        [36m</button>[39m
        [36m<div[39m
          [33mclass[39m=[32m"text-xs text-zinc-400"[39m
        [36m>[39m
          [0mProyecto[0m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"text-sm font-semibold break-words"[39m
        [36m>[39m
          [0mTest Project[0m
        [36m</div>[39m
      [36m</aside>[39m
      [36m<main[39m
        [33mclass[39m=[32m"p-5"[39m
      [36m>[39m
        [36m<div[39m
          [33mdata-testid[39m=[32m"outlet"[39m
        [36m>[39m
          [0mOutlet Content[0m
        [36m</div>[39m
      [36m</main>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
   ‚úì MainLayout > displays project name correctly 23ms
   ‚úì MainLayout > shows navigation links when not on index page 24ms
   ‚úì MainLayout > hides navigation links when on index page 17ms
   √ó MainLayout > calls onBack when back button is clicked 46ms
     ‚Üí Unable to find an element with the text: ‚Üê Volver a proyectos. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"min-h-screen grid grid-cols-[260px_1fr] bg-neutral-bg text-neutral-text pb-12"[39m
    [36m>[39m
      [36m<aside[39m
        [33mclass[39m=[32m"border-r border-neutral-border p-4 space-y-4"[39m
      [36m>[39m
        [36m<button[39m
          [33mclass[39m=[32m"w-full px-3 py-2 rounded-lg border border-neutral-border hover:border-brand text-sm"[39m
        [36m>[39m
          [0m‚Üê [0m
          [0m‚Üê Volver a proyectos[0m
        [36m</button>[39m
        [36m<div[39m
          [33mclass[39m=[32m"text-xs text-zinc-400"[39m
        [36m>[39m
          [0mProyecto[0m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"text-sm font-semibold break-words"[39m
        [36m>[39m
          [0mTest Project[0m
        [36m</div>[39m
      [36m</aside>[39m
      [36m<main[39m
        [33mclass[39m=[32m"p-5"[39m
      [36m>[39m
        [36m<div[39m
          [33mdata-testid[39m=[32m"outlet"[39m
        [36m>[39m
          [0mOutlet Content[0m
        [36m</div>[39m
      [36m</main>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
   ‚úì MainLayout > renders outlet content 12ms
   ‚úì MainLayout > handles missing project gracefully 11ms
 ‚úì src/features/nomina/components/DietasSummary.test.jsx (2 tests) 116ms
 ‚úì src/features/nomina/components/ExtrasSummary.test.jsx (7 tests) 102ms
stderr | src/screens/UsuarioScreen.test.jsx > UsuarioScreen > renders without crashing
‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

stderr | src/features/necesidades/pages/NecesidadesTab.test.jsx > NecesidadesTab (smoke) > muestra mensaje cuando no hay semanas
‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

 ‚úì src/features/necesidades/components/Chip.test.jsx (1 test) 813ms
   ‚úì Chip (smoke) > renderiza y llama onRemove al click  808ms
stderr | src/features/projects/pages/ProfilePage.test.tsx > ProfilePage > renders header and form with loaded values
‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

 ‚ùØ src/features/necesidades/utils/export.test.jsx (14 tests | 1 failed) 250ms
   ‚úì necesidades/utils/export > renderExportHTML > should render valid HTML structure 10ms
   √ó necesidades/utils/export > renderExportHTML > should include project name and week label in title 196ms
     ‚Üí expected '\n    <!DOCTYPE html>\n    <html>\n  ‚Ä¶' to contain '<h1>Necesidades - Producci√≥n</h1>'
   ‚úì necesidades/utils/export > renderExportHTML > should render table with correct structure 2ms
   ‚úì necesidades/utils/export > renderExportHTML > should render day headers 2ms
   ‚úì necesidades/utils/export > renderExportHTML > should render standard rows 4ms
   ‚úì necesidades/utils/export > renderExportHTML > should render team lists 1ms
   ‚úì necesidades/utils/export > renderExportHTML > should escape HTML characters in content 7ms
   ‚úì necesidades/utils/export > renderExportHTML > should handle empty values gracefully 3ms
   ‚úì necesidades/utils/export > renderExportAllHTML > should render valid HTML structure 8ms
   ‚úì necesidades/utils/export > renderExportAllHTML > should include project name in title 2ms
   ‚úì necesidades/utils/export > renderExportAllHTML > should render multiple weeks 3ms
   ‚úì necesidades/utils/export > renderExportAllHTML > should handle empty week entries 1ms
   ‚úì necesidades/utils/export > renderExportAllHTML > should include footer 1ms
   ‚úì necesidades/utils/export > renderExportAllHTML > should escape HTML characters in project name 6ms
 ‚ùØ src/features/nomina/utils/export.test.jsx (23 tests | 2 failed) 90ms
   ‚úì nomina/utils/export > buildNominaMonthHTML > generates HTML with correct structure 12ms
   ‚úì nomina/utils/export > buildNominaMonthHTML > includes correct title and project name 1ms
   √ó nomina/utils/export > buildNominaMonthHTML > includes all required table headers 39ms
     ‚Üí expected '<!DOCTYPE html>\n<html>\n<head>\n  <m‚Ä¶' to contain 'D√≠as Travel Day'
   ‚úì nomina/utils/export > buildNominaMonthHTML > includes data rows with correct values 1ms
   ‚úì nomina/utils/export > buildNominaMonthHTML > includes second row data 2ms
   ‚úì nomina/utils/export > buildNominaMonthHTML > handles empty rows array 0ms
   ‚úì nomina/utils/export > buildNominaMonthHTML > handles project without nombre 1ms
   ‚úì nomina/utils/export > buildNominaMonthHTML > handles null project 0ms
   ‚úì nomina/utils/export > buildNominaMonthHTML > escapes HTML characters in data 2ms
   ‚úì nomina/utils/export > buildNominaMonthHTML > includes footer with SetLux branding 1ms
   ‚úì nomina/utils/export > buildNominaMonthHTML > applies correct CSS styles 1ms
   ‚úì nomina/utils/export > buildNominaMonthHTML > handles rows with missing properties 0ms
   ‚úì nomina/utils/export > buildNominaMonthHTML > handles rows with null/undefined values 0ms
   ‚úì nomina/utils/export > buildNominaMonthHTML > hides empty columns when no data is present 1ms
   ‚úì nomina/utils/export > buildNominaMonthHTML > shows only relevant columns based on data 1ms
   ‚úì nomina/utils/export > buildNominaMonthHTML > includes holiday columns in export when present 1ms
   √ó nomina/utils/export > buildNominaMonthHTML > should format extras correctly with pills format 12ms
     ‚Üí expected '<!DOCTYPE html>\n<html>\n<head>\n  <m‚Ä¶' to contain 'Hora extra x2'
   ‚úì nomina/utils/export > buildNominaMonthHTML > should handle empty extras correctly 0ms
   ‚úì nomina/utils/export > openPrintWindow > opens new window and writes HTML 4ms
   ‚úì nomina/utils/export > openPrintWindow > handles window.open returning null 3ms
   ‚úì nomina/utils/export > openPrintWindow > handles window being undefined (SSR) 0ms
   ‚úì nomina/utils/export > openPrintWindow > handles empty HTML string 1ms
   ‚úì nomina/utils/export > openPrintWindow > handles HTML with special characters 2ms
 ‚úì src/features/necesidades/pages/NecesidadesTab.test.jsx (2 tests) 1272ms
   ‚úì NecesidadesTab (smoke) > muestra mensaje cuando no hay semanas  387ms
   ‚úì NecesidadesTab (smoke) > renderiza una semana abierta y permite Exportar TODO y Exportar semana  880ms
 ‚úì src/features/projects/pages/ProfilePage.test.tsx (3 tests) 1507ms
   ‚úì ProfilePage > renders header and form with loaded values  985ms
   ‚úì ProfilePage > has clickable SetLux breadcrumb that navigates to projects  320ms
 ‚úì src/features/necesidades/components/ListRow.test.jsx (1 test) 2470ms
   ‚úì ListRow (smoke) > muestra chips y llama removeFromList  2466ms
stderr | src/features/reportes/pages/ReportesTab.test.jsx > ReportesTab (smoke) > renders empty hint when no weeks in Planificaci√≥n
Not implemented: Window's scrollTo() method
‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

 ‚úì src/screens/UsuarioScreen.test.jsx (12 tests) 2866ms
   ‚úì UsuarioScreen > renders without crashing  337ms
   ‚úì UsuarioScreen > has proper accessibility attributes  2086ms
 ‚úì src/features/planificacion/components/Accordion.test.jsx (1 test) 3021ms
   ‚úì Accordion (smoke) > renders title and buttons and triggers handlers  3008ms
 ‚ùØ src/features/reportes/components/ReportWeekHeader.test.jsx (1 test | 1 failed) 3334ms
   √ó ReportWeekHeader (smoke) > renders title and triggers actions 3331ms
     ‚Üí Unable to find an accessible element with the role "button" and name "Alternar semana"

Here are the accessible roles:

  button:

  Name "Contenido de la semana":
  [36m<button[39m
    [33maria-expanded[39m=[32m"true"[39m
    [33maria-label[39m=[32m"Contenido de la semana"[39m
    [33mclass[39m=[32m"w-6 h-6 rounded-lg border border-neutral-border flex items-center justify-center text-sm hover:border-accent "[39m
    [33mtitle[39m=[32m"Contraer"[39m
    [33mtype[39m=[32m"button"[39m
  [36m/>[39m

  Name "PDF":
  [36m<button[39m
    [33mclass[39m=[32m"btn"[39m
    [33mstyle[39m=[32m"background: rgb(245, 158, 11);"[39m
    [33mtitle[39m=[32m"Exportar semana (PDF)"[39m
    [33mtype[39m=[32m"button"[39m
  [36m/>[39m

  --------------------------------------------------
  heading:

  Name "Semana A":
  [36m<h4[39m
    [33mclass[39m=[32m"text-brand font-semibold m-0"[39m
  [36m/>[39m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex items-center gap-2 px-5 py-4"[39m
    [36m>[39m
      [36m<button[39m
        [33maria-expanded[39m=[32m"true"[39m
        [33maria-label[39m=[32m"Contenido de la semana"[39m
        [33mclass[39m=[32m"w-6 h-6 rounded-lg border border-neutral-border flex items-center justify-center text-sm hover:border-accent "[39m
        [33mtitle[39m=[32m"Contraer"[39m
        [33mtype[39m=[32m"button"[39m
      [36m>[39m
        [0m‚àí[0m
      [36m</button>[39m
      [36m<h4[39m
        [33mclass[39m=[32m"text-brand font-semibold m-0"[39m
      [36m>[39m
        [0mSemana A[0m
      [36m</h4>[39m
      [36m<div[39m
        [33mclass[39m=[32m"ml-auto flex gap-2"[39m
      [36m>[39m
        [36m<button[39m
          [33mclass[39m=[32m"btn"[39m
          [33mstyle[39m=[32m"background: rgb(245, 158, 11);"[39m
          [33mtitle[39m=[32m"Exportar semana (PDF)"[39m
          [33mtype[39m=[32m"button"[39m
        [36m>[39m
          [0mPDF[0m
        [36m</button>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
stderr | src/features/reportes/pages/ReportesTab.test.jsx > ReportesTab (smoke) > renders week content when Planificaci√≥n has data and people
Not implemented: Window's scrollTo() method

 ‚úì src/features/reportes/pages/ReportesTab.test.jsx (2 tests) 1783ms
   ‚úì ReportesTab (smoke) > renders empty hint when no weeks in Planificaci√≥n  689ms
   ‚úì ReportesTab (smoke) > renders week content when Planificaci√≥n has data and people  1090ms
 ‚úì src/features/equipo/pages/EquipoTab.test.jsx (2 tests) 5030ms
   ‚úì EquipoTab (smoke) > renderiza secciones b√°sicas y botones de grupos opcionales  4045ms
   ‚úì EquipoTab (smoke) > permite activar y eliminar el grupo Prelight  976ms
 ‚úì src/features/projects/pages/ProjectsScreen.test.jsx (17 tests) 9310ms
   ‚úì ProjectsScreen > renders without crashing  2062ms
   ‚úì ProjectsScreen > displays user name and welcome message  405ms
   ‚úì ProjectsScreen > shows create project button  543ms
   ‚úì ProjectsScreen > opens new project modal when create button is clicked  1094ms
   ‚úì ProjectsScreen > creates new project when form is submitted  1438ms
   ‚úì ProjectsScreen > opens edit modal when edit button is clicked  426ms
   ‚úì ProjectsScreen > updates project when edit form is submitted  1143ms
   ‚úì ProjectsScreen > opens project when project card is clicked  434ms
   ‚úì ProjectsScreen > calls onSalir when Salir is clicked in user menu  507ms
   ‚úì ProjectsScreen > handles keyboard navigation for project cards  365ms
stderr | src/app/routes/AppRouter.test.jsx > AppRouter > renders without crashing
‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

1:15:24 AM [vite] (client) warning: Duplicate key "onclone" in object literal
727 |            }
728 |          },
729 |          onclone: (clonedDoc) => {
    |          ^
730 |            const footer = clonedDoc.querySelector('.footer') as HTMLElement;
731 |            if (footer) {

  Plugin: vite:esbuild
  File: /Users/raul/Desktop/MIS COSAS/02_Set_Lux/SetLux_Beta/src/features/condiciones/utils/exportPDF.ts
 ‚úì src/features/necesidades/components/FieldRow.test.jsx (1 test) 1437ms
   ‚úì FieldRow (smoke) > dispara setCell al cambiar textarea  1431ms
 ‚úì src/app/routes/AppRouter.test.jsx (7 tests) 791ms
   ‚úì AppRouter > renders without crashing  401ms
   ‚úì AppRouter > renders ProjectDetail when project is active  323ms
 ‚úì src/features/reportes/components/ReportPersonRows.test.jsx (2 tests) 669ms
   ‚úì ReportPersonRows (smoke) > renders a person row and allows collapse toggle  613ms
stdout | src/features/nomina/components/MonthSection.test.jsx > MonthSection with holiday days and conditional columns > should display holiday days columns when there are holiday days
[NOMINA.MONTH] getDaysInMonth: 2025-01 -> 31 days
[NOMINA.MONTH] getDaysInMonth: 2025-01 -> 31 days
[NOMINA.MONTH] Role prices for GAFFE : {
  jornada: 100,
  travelDay: 50,
  horaExtra: 15,
  holidayDay: 175,
  transporte: 15,
  km: 0.25,
  dietas: {
    Comida: 12,
    Cena: 18,
    'Dieta sin pernoctar': 25,
    'Dieta completa + desayuno': 35,
    'Gastos de bolsillo': 8
  }
}

stderr | src/shared/components/TextArea.test.jsx > TextArea > interactions > updates value when controlled
You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.

stdout | src/features/nomina/components/MonthSection.test.jsx > MonthSection with holiday days and conditional columns > should calculate and display holiday totals correctly
[NOMINA.MONTH] getDaysInMonth: 2025-01 -> 31 days
[NOMINA.MONTH] getDaysInMonth: 2025-01 -> 31 days
[NOMINA.MONTH] Role prices for GAFFE : {
  jornada: 100,
  travelDay: 50,
  horaExtra: 15,
  holidayDay: 175,
  transporte: 15,
  km: 0.25,
  dietas: {
    Comida: 12,
    Cena: 18,
    'Dieta sin pernoctar': 25,
    'Dieta completa + desayuno': 35,
    'Gastos de bolsillo': 8
  }
}

stderr | src/shared/components/Select.test.jsx > Select > interactions > updates value when controlled
You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set `onChange`.

 ‚úì src/shared/components/ToggleIconButton.test.jsx (14 tests) 2210ms
   ‚úì ToggleIconButton > renders without crashing  645ms
stdout | src/features/nomina/components/MonthSection.test.jsx > MonthSection with holiday days and conditional columns > should include holiday total in bruto calculation
[NOMINA.MONTH] getDaysInMonth: 2025-01 -> 31 days
[NOMINA.MONTH] getDaysInMonth: 2025-01 -> 31 days
[NOMINA.MONTH] Role prices for GAFFE : {
  jornada: 100,
  travelDay: 50,
  horaExtra: 15,
  holidayDay: 175,
  transporte: 15,
  km: 0.25,
  dietas: {
    Comida: 12,
    Cena: 18,
    'Dieta sin pernoctar': 25,
    'Dieta completa + desayuno': 35,
    'Gastos de bolsillo': 8
  }
}

stderr | src/shared/components/TextArea.test.jsx > TextArea > edge cases > handles empty value
You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.

stderr | src/shared/components/TextArea.test.jsx > TextArea > edge cases > handles null value
`value` prop on `textarea` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.

stdout | src/features/nomina/components/MonthSection.test.jsx > MonthSection with holiday days and conditional columns > should hide empty columns when no data is present
[NOMINA.MONTH] getDaysInMonth: 2025-01 -> 31 days
[NOMINA.MONTH] getDaysInMonth: 2025-01 -> 31 days
[NOMINA.MONTH] Role prices for GAFFE : {
  jornada: 100,
  travelDay: 50,
  horaExtra: 15,
  holidayDay: 175,
  transporte: 15,
  km: 0.25,
  dietas: {
    Comida: 12,
    Cena: 18,
    'Dieta sin pernoctar': 25,
    'Dieta completa + desayuno': 35,
    'Gastos de bolsillo': 8
  }
}

stderr | src/shared/components/Select.test.jsx > Select > edge cases > handles options with duplicate values
Encountered two children with the same key, `same`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted ‚Äî the behavior is unsupported and could change in a future version.

 ‚úì src/shared/components/Select.test.jsx (27 tests) 3109ms
   ‚úì Select > rendering > renders without crashing  878ms
stderr | src/shared/components/TextArea.test.jsx > TextArea > edge cases > handles multiline text
You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.

stdout | src/features/nomina/components/MonthSection.test.jsx > MonthSection with holiday days and conditional columns > should show correct dynamic colspan for empty state
[NOMINA.MONTH] getDaysInMonth: 2025-01 -> 31 days
[NOMINA.MONTH] getDaysInMonth: 2025-01 -> 31 days

stderr | src/shared/components/TextArea.test.jsx > TextArea > edge cases > handles special characters
You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.

stdout | src/features/nomina/components/MonthSection.test.jsx > MonthSection with holiday days and conditional columns > should show only base columns when all optional data is empty
[NOMINA.MONTH] getDaysInMonth: 2025-01 -> 31 days
[NOMINA.MONTH] getDaysInMonth: 2025-01 -> 31 days
[NOMINA.MONTH] Role prices for GAFFE : {
  jornada: 100,
  travelDay: 50,
  horaExtra: 15,
  holidayDay: 175,
  transporte: 15,
  km: 0.25,
  dietas: {
    Comida: 12,
    Cena: 18,
    'Dieta sin pernoctar': 25,
    'Dieta completa + desayuno': 35,
    'Gastos de bolsillo': 8
  }
}

 ‚úì src/features/nomina/components/MonthSection.test.jsx (6 tests) 1718ms
   ‚úì MonthSection with holiday days and conditional columns > should display holiday days columns when there are holiday days  720ms
 ‚úì src/shared/components/TextArea.test.jsx (30 tests) 3736ms
   ‚úì TextArea > rendering > renders without crashing  1000ms
   ‚úì TextArea > interactions > calls onChange when text is entered  421ms
stdout | src/features/condiciones/condiciones/publicidad.test.jsx > CondicionesPublicidad (smoke) > renderiza sin explotar y muestra tabla
[STORAGE.DEBUG] setString called: cond_p1_publicidad {"roles":["Gaffer","El√©ctrico"],"prices":{"Gaffer":{"Precio jornada":"510","Precio D√≠a extra/Festivo":"892.5","Travel day":"510","Horas extras":"75","Carga/descarga":"225","Localizaci√≥n t√©cnica":"420"},"Best boy":{"Precio jornada":"410","Precio D√≠a extra/Festivo":"717.5","Travel day":"410","Horas extras":"60","Carga/descarga":"180","Localizaci√≥n t√©cnica":"320"},"El√©ctrico":{"Precio jornada":"310","Precio D√≠a extra/Festivo":"542.5","Travel day":"310","Horas extras":"45","Carga/descarga":"135"},"Auxiliar":{"Precio jornada":"250","Precio D√≠a extra/Festivo":"437.5","Travel day":"250","Horas extras":"35","Carga/descarga":"105"},"T√©cnico de mesa":{"Precio jornada":"350","Precio D√≠a extra/Festivo":"612.5","Travel day":"350","Horas extras":"50","Carga/descarga":"150"},"Finger boy":{"Precio jornada":"350","Precio D√≠a extra/Festivo":"612.5","Travel day":"350","Horas extras":"50","Carga/descarga":"150"}},"legendTemplate":"<strong>Precio jornada:</strong> Importe base por jornada.\n<strong>Precio d√≠a extra/festivo:</strong> Equivale al precio de jornada multiplicado por {{FACTOR_FESTIVO}}. Horas extras festivas equivale al precio de jornada multiplicado por {{FACTOR_HORA_EXTRA_FESTIVA}}.\n<strong>Localizaci√≥n t√©cnica:</strong> Importe por d√≠a de trabajo en localizaciones t√©cnicas previas al rodaje. Si la localizaci√≥n t√©cnica es mayor de 5h + 1h, se contar√° como jornada completa.\n<strong>Carga/descarga:</strong> Importe por jornada de carga y descarga de material. Esto equivale a 3 horas extras.\n<strong>Travel day:</strong> Equivale al precio de jornada.\n<strong>Horas extras:</strong> Se considera hora extra a partir de {{CORTESIA_MIN}} minutos despu√©s del fin de la jornada pactada. A partir de la segunda hora extra no habr√° cortes√≠a de {{CORTESIA_MIN}}‚Ä≤. Las horas extras son voluntarias y deber√°n comunicarse antes del final de la jornada pactada.","festivosTemplate":"La jornada y horas en d√≠as festivos tendr√°n un incremento del 75%. (Festivos 2025: 01/01, 06/01, 29/03, 01/04, 01/05, 24/06, 15/08, 11/09, 12/10, 01/11, 06/12, 25/12, 26/12)","horariosTemplate":"<strong>Turn around:</strong> El descanso entre jornadas ser√° de {{TA_DIARIO}}h entre d√≠as laborables y de {{TA_FINDE}}h los fines de semana. Todas las horas que no se descansen ser√°n consideradas horas extras.\n<strong>Nocturnidad:</strong> Se considerar√° jornada nocturna cuando el inicio o final de la jornada sea entre las {{NOCTURNO_INI}} y las {{NOCTURNO_FIN}}. Se bonificar√° con un complemento salarial equivalente a {{NOCTURNIDAD_COMPLEMENTO}}‚Ç¨. Aparte, tambien las horas nocturnas se bonificar√°n con un factor {{FACTOR_HORA_EXTRA_FESTIVA}} a las horas extras.","dietasTemplate":"Se ingresar√°n en n√≥mina (importe libre de impuestos) las siguientes cantidades cuando no se disponga de manutenci√≥n en el rodaje as√≠ como cuando se trabaje fuera del centro de actividades habitual. Se incrementar√° en un 50% fuera del territorio nacional. Tambi√©n se efectuar√° un anticipo de √©stas.\n<strong>Desayuno:</strong> {{DIETA_DESAYUNO}}‚Ç¨\n<strong>Comida:</strong> {{DIETA_COMIDA}}‚Ç¨\n<strong>Cena:</strong> {{DIETA_CENA}}‚Ç¨\n<strong>Dieta completa sin pernocta:</strong> {{DIETA_SIN_PERNOCTA}} ‚Ç¨\n<strong>Dieta completa y desayuno:</strong> {{DIETA_ALOJ_DES}}‚Ç¨\n<strong>Gastos de bolsillo:</strong> {{GASTOS_BOLSILLO}}‚Ç¨","transportesTemplate":"Cuando por necesidades de rodaje, el trabajador se desplace fuera del centro habitual de trabajo, se abonar√° la cantidad de {{KM_EURO}}‚Ç¨/km m√°s los peajes y gastos de estacionamiento pertinentes.\nEn caso de transportar a miembros del equipo se bonificar√° tambi√©n con la cantidad de {{TRANSPORTE_DIA}}‚Ç¨/d√≠a extra.","alojamientoTemplate":"En caso de tener que pernoctar fuera del domicilio habitual del trabajador, la productora deber√° facilitar un hotel (m√≠nimo 3 estrellas) con habitaci√≥n individual y las dietas y gastos de bolsillo pertinentes.","convenioTemplate":"Tambi√©n se tendr√° en cuenta el convenio \"Resoluci√≥n de 22 de marzo de 2024, de la Direcci√≥n General de Trabajo, por la que se registra y publica el III Convenio colectivo de √°mbito estatal de la industria de producci√≥n audiovisual (t√©cnicos).","params":{"jornadaTrabajo":"10","jornadaComida":"1","factorFestivo":"1.75","factorHoraExtraFestiva":"1.5","cortesiaMin":"15","taDiario":"10","taFinde":"12","nocturnidadComplemento":"50","nocturnoIni":"02:00","nocturnoFin":"06:00","dietaDesayuno":"10","dietaComida":"20","dietaCena":"30","dietaSinPernocta":"50","dietaAlojDes":"60","gastosBolsillo":"10","kilometrajeKm":"0.40","transporteDia":"15"}}
[STORAGE.DEBUG] setString success
üéØ Getting dynamic festivos for ES for year 2026
üåç Calendarific ‚Üí https://calendarific.com/api/v2/holidays?api_key=jK2TCivfYYBnF5CnM39fNdRv1mfVnT18&country=ES&year=2026
[STORAGE.DEBUG] setString called: cond_p1_publicidad {"roles":["Gaffer","El√©ctrico"],"prices":{"Gaffer":{"Precio jornada":"510","Precio D√≠a extra/Festivo":"892.5","Travel day":"510","Horas extras":"75","Carga/descarga":"225","Localizaci√≥n t√©cnica":"420"},"Best boy":{"Precio jornada":"410","Precio D√≠a extra/Festivo":"717.5","Travel day":"410","Horas extras":"60","Carga/descarga":"180","Localizaci√≥n t√©cnica":"320"},"El√©ctrico":{"Precio jornada":"310","Precio D√≠a extra/Festivo":"542.5","Travel day":"310","Horas extras":"45","Carga/descarga":"135"},"Auxiliar":{"Precio jornada":"250","Precio D√≠a extra/Festivo":"437.5","Travel day":"250","Horas extras":"35","Carga/descarga":"105"},"T√©cnico de mesa":{"Precio jornada":"350","Precio D√≠a extra/Festivo":"612.5","Travel day":"350","Horas extras":"50","Carga/descarga":"150"},"Finger boy":{"Precio jornada":"350","Precio D√≠a extra/Festivo":"612.5","Travel day":"350","Horas extras":"50","Carga/descarga":"150"}},"legendTemplate":"<strong>Precio jornada:</strong> Importe base por jornada.\n<strong>Precio d√≠a extra/festivo:</strong> Equivale al precio de jornada multiplicado por {{FACTOR_FESTIVO}}. Horas extras festivas equivale al precio de jornada multiplicado por {{FACTOR_HORA_EXTRA_FESTIVA}}.\n<strong>Localizaci√≥n t√©cnica:</strong> Importe por d√≠a de trabajo en localizaciones t√©cnicas previas al rodaje. Si la localizaci√≥n t√©cnica es mayor de 5h + 1h, se contar√° como jornada completa.\n<strong>Carga/descarga:</strong> Importe por jornada de carga y descarga de material. Esto equivale a 3 horas extras.\n<strong>Travel day:</strong> Equivale al precio de jornada.\n<strong>Horas extras:</strong> Se considera hora extra a partir de {{CORTESIA_MIN}} minutos despu√©s del fin de la jornada pactada. A partir de la segunda hora extra no habr√° cortes√≠a de {{CORTESIA_MIN}}‚Ä≤. Las horas extras son voluntarias y deber√°n comunicarse antes del final de la jornada pactada.","festivosTemplate":"La jornada y horas en d√≠as festivos tendr√°n un incremento del 75%. (Festivos 2025: 01/01, 06/01, 29/03, 01/04, 01/05, 24/06, 15/08, 11/09, 12/10, 01/11, 06/12, 25/12, 26/12)","horariosTemplate":"<strong>Turn around:</strong> El descanso entre jornadas ser√° de {{TA_DIARIO}}h entre d√≠as laborables y de {{TA_FINDE}}h los fines de semana. Todas las horas que no se descansen ser√°n consideradas horas extras.\n<strong>Nocturnidad:</strong> Se considerar√° jornada nocturna cuando el inicio o final de la jornada sea entre las {{NOCTURNO_INI}} y las {{NOCTURNO_FIN}}. Se bonificar√° con un complemento salarial equivalente a {{NOCTURNIDAD_COMPLEMENTO}}‚Ç¨. Aparte, tambien las horas nocturnas se bonificar√°n con un factor {{FACTOR_HORA_EXTRA_FESTIVA}} a las horas extras.","dietasTemplate":"Se ingresar√°n en n√≥mina (importe libre de impuestos) las siguientes cantidades cuando no se disponga de manutenci√≥n en el rodaje as√≠ como cuando se trabaje fuera del centro de actividades habitual. Se incrementar√° en un 50% fuera del territorio nacional. Tambi√©n se efectuar√° un anticipo de √©stas.\n<strong>Desayuno:</strong> {{DIETA_DESAYUNO}}‚Ç¨\n<strong>Comida:</strong> {{DIETA_COMIDA}}‚Ç¨\n<strong>Cena:</strong> {{DIETA_CENA}}‚Ç¨\n<strong>Dieta completa sin pernocta:</strong> {{DIETA_SIN_PERNOCTA}} ‚Ç¨\n<strong>Dieta completa y desayuno:</strong> {{DIETA_ALOJ_DES}}‚Ç¨\n<strong>Gastos de bolsillo:</strong> {{GASTOS_BOLSILLO}}‚Ç¨","transportesTemplate":"Cuando por necesidades de rodaje, el trabajador se desplace fuera del centro habitual de trabajo, se abonar√° la cantidad de {{KM_EURO}}‚Ç¨/km m√°s los peajes y gastos de estacionamiento pertinentes.\nEn caso de transportar a miembros del equipo se bonificar√° tambi√©n con la cantidad de {{TRANSPORTE_DIA}}‚Ç¨/d√≠a extra.","alojamientoTemplate":"En caso de tener que pernoctar fuera del domicilio habitual del trabajador, la productora deber√° facilitar un hotel (m√≠nimo 3 estrellas) con habitaci√≥n individual y las dietas y gastos de bolsillo pertinentes.","convenioTemplate":"Tambi√©n se tendr√° en cuenta el convenio \"Resoluci√≥n de 22 de marzo de 2024, de la Direcci√≥n General de Trabajo, por la que se registra y publica el III Convenio colectivo de √°mbito estatal de la industria de producci√≥n audiovisual (t√©cnicos).","params":{"jornadaTrabajo":"10","jornadaComida":"1","factorFestivo":"1.75","factorHoraExtraFestiva":"1.5","cortesiaMin":"15","taDiario":"10","taFinde":"12","nocturnidadComplemento":"50","nocturnoIni":"02:00","nocturnoFin":"06:00","dietaDesayuno":"10","dietaComida":"20","dietaCena":"30","dietaSinPernocta":"50","dietaAlojDes":"60","gastosBolsillo":"10","kilometrajeKm":"0.40","transporteDia":"15"}}
[STORAGE.DEBUG] setString success

 ‚úì src/features/condiciones/condiciones/publicidad.test.jsx (1 test) 997ms
   ‚úì CondicionesPublicidad (smoke) > renderiza sin explotar y muestra tabla  989ms
stdout | src/features/condiciones/condiciones/mensual.test.jsx > CondicionesMensual (smoke) > renderiza sin explotar y muestra tabla
üéØ Getting dynamic festivos for ES for year 2026
üåç Calendarific ‚Üí https://calendarific.com/api/v2/holidays?api_key=jK2TCivfYYBnF5CnM39fNdRv1mfVnT18&country=ES&year=2026

 ‚úì src/features/condiciones/condiciones/mensual.test.jsx (1 test) 1230ms
   ‚úì CondicionesMensual (smoke) > renderiza sin explotar y muestra tabla  1228ms
stdout | src/features/reportes/pages/ReportesSemana.test.jsx > ReportesSemana (smoke) > renders header and table for a week
[REPORTES.DEBUG] ReportesSemana initialized with mode: semanal project: p3 title: Semana X
[REPORTES.DEBUG] dietasOpciones selected: [
  '',  'e', 'p',
  'o', 'r', 't',
  's'
]
[REPORTES.DEBUG] storageKey generated: reportes_p3_2025-01-06_2025-01-07_2025-01-08_2025-01-09_2025-01-10_2025-01-11_2025-01-12
[REPORTES.DEBUG] useReportData initialized with storageKey: reportes_p3_2025-01-06_2025-01-07_2025-01-08_2025-01-09_2025-01-10_2025-01-11_2025-01-12 personas: 1 semana: [
  '2025-01-06',
  '2025-01-07',
  '2025-01-08',
  '2025-01-09',
  '2025-01-10',
  '2025-01-11',
  '2025-01-12'
]
[LOCALSTORAGE.DEBUG] Setting key: repstate_p3_2025-01-06_2025-01-07_2025-01-08_2025-01-09_2025-01-10_2025-01-11_2025-01-12_collapsed value: { EL__Juan: false }
[STORAGE.DEBUG] setString called: repstate_p3_2025-01-06_2025-01-07_2025-01-08_2025-01-09_2025-01-10_2025-01-11_2025-01-12_collapsed {"EL__Juan":false}
[STORAGE.DEBUG] setString success
[STORAGE.DEBUG] setString called: repstate_p3_2025-01-06_2025-01-07_2025-01-08_2025-01-09_2025-01-10_2025-01-11_2025-01-12_open true
[STORAGE.DEBUG] setString success
[REPORTES.DEBUG] ReportesSemana initialized with mode: semanal project: p3 title: Semana X
[REPORTES.DEBUG] dietasOpciones selected: [
  '',  'e', 'p',
  'o', 'r', 't',
  's'
]
[REPORTES.DEBUG] useReportData initialized with storageKey: reportes_p3_2025-01-06_2025-01-07_2025-01-08_2025-01-09_2025-01-10_2025-01-11_2025-01-12 personas: 1 semana: [
  '2025-01-06',
  '2025-01-07',
  '2025-01-08',
  '2025-01-09',
  '2025-01-10',
  '2025-01-11',
  '2025-01-12'
]
[LOCALSTORAGE.DEBUG] Setting key: reportes_p3_2025-01-06_2025-01-07_2025-01-08_2025-01-09_2025-01-10_2025-01-11_2025-01-12 value: {
  EL__Juan: {
    'Horas extra': {
      '2025-01-06': '',
      '2025-01-07': '',
      '2025-01-08': '',
      '2025-01-09': '',
      '2025-01-10': '',
      '2025-01-11': '',
      '2025-01-12': ''
    },
    'Turn Around': {
      '2025-01-06': '',
      '2025-01-07': '',
      '2025-01-08': '',
      '2025-01-09': '',
      '2025-01-10': '',
      '2025-01-11': '',
      '2025-01-12': ''
    },
    Nocturnidad: {
      '2025-01-06': '',
      '2025-01-07': '',
      '2025-01-08': '',
      '2025-01-09': '',
      '2025-01-10': '',
      '2025-01-11': '',
      '2025-01-12': ''
    },
    'Penalty lunch': {
      '2025-01-06': '',
      '2025-01-07': '',
      '2025-01-08': '',
      '2025-01-09': '',
      '2025-01-10': '',
      '2025-01-11': '',
      '2025-01-12': ''
    },
    Dietas: {
      '2025-01-06': '',
      '2025-01-07': '',
      '2025-01-08': '',
      '2025-01-09': '',
      '2025-01-10': '',
      '2025-01-11': '',
      '2025-01-12': ''
    },
    Kilometraje: {
      '2025-01-06': '',
      '2025-01-07': '',
      '2025-01-08': '',
      '2025-01-09': '',
      '2025-01-10': '',
      '2025-01-11': '',
      '2025-01-12': ''
    },
    Transporte: {
      '2025-01-06': '',
      '2025-01-07': '',
      '2025-01-08': '',
      '2025-01-09': '',
      '2025-01-10': '',
      '2025-01-11': '',
      '2025-01-12': ''
    }
  }
}
[STORAGE.DEBUG] setString called: reportes_p3_2025-01-06_2025-01-07_2025-01-08_2025-01-09_2025-01-10_2025-01-11_2025-01-12 {"EL__Juan":{"Horas extra":{"2025-01-06":"","2025-01-07":"","2025-01-08":"","2025-01-09":"","2025-01-10":"","2025-01-11":"","2025-01-12":""},"Turn Around":{"2025-01-06":"","2025-01-07":"","2025-01-08":"","2025-01-09":"","2025-01-10":"","2025-01-11":"","2025-01-12":""},"Nocturnidad":{"2025-01-06":"","2025-01-07":"","2025-01-08":"","2025-01-09":"","2025-01-10":"","2025-01-11":"","2025-01-12":""},"Penalty lunch":{"2025-01-06":"","2025-01-07":"","2025-01-08":"","2025-01-09":"","2025-01-10":"","2025-01-11":"","2025-01-12":""},"Dietas":{"2025-01-06":"","2025-01-07":"","2025-01-08":"","2025-01-09":"","2025-01-10":"","2025-01-11":"","2025-01-12":""},"Kilometraje":{"2025-01-06":"","2025-01-07":"","2025-01-08":"","2025-01-09":"","2025-01-10":"","2025-01-11":"","2025-01-12":""},"Transporte":{"2025-01-06":"","2025-01-07":"","2025-01-08":"","2025-01-09":"","2025-01-10":"","2025-01-11":"","2025-01-12":""}}}
[STORAGE.DEBUG] setString success
[horasExtra.DEBUG] {
  "iso": "2025-01-06",
  "pk": "EL__Juan",
  "currExtra": "",
  "horasExtraTipo": "Hora Extra - Normal",
  "autoExtra": "",
  "manualExtra": false,
  "convertedValue": "",
  "horasExtraTipoChanged": false,
  "shouldRecalculate": false
}
[horasExtra.DEBUG] {
  "iso": "2025-01-07",
  "pk": "EL__Juan",
  "currExtra": "",
  "horasExtraTipo": "Hora Extra - Normal",
  "autoExtra": "",
  "manualExtra": false,
  "convertedValue": "",
  "horasExtraTipoChanged": false,
  "shouldRecalculate": false
}
[horasExtra.DEBUG] {
  "iso": "2025-01-08",
  "pk": "EL__Juan",
  "currExtra": "",
  "horasExtraTipo": "Hora Extra - Normal",
  "autoExtra": "",
  "manualExtra": false,
  "convertedValue": "",
  "horasExtraTipoChanged": false,
  "shouldRecalculate": false
}
[horasExtra.DEBUG] {
  "iso": "2025-01-09",
  "pk": "EL__Juan",
  "currExtra": "",
  "horasExtraTipo": "Hora Extra - Normal",
  "autoExtra": "",
  "manualExtra": false,
  "convertedValue": "",
  "horasExtraTipoChanged": false,
  "shouldRecalculate": false
}
[horasExtra.DEBUG] {
  "iso": "2025-01-10",
  "pk": "EL__Juan",
  "currExtra": "",
  "horasExtraTipo": "Hora Extra - Normal",
  "autoExtra": "",
  "manualExtra": false,
  "convertedValue": "",
  "horasExtraTipoChanged": false,
  "shouldRecalculate": false
}
[horasExtra.DEBUG] {
  "iso": "2025-01-11",
  "pk": "EL__Juan",
  "currExtra": "",
  "horasExtraTipo": "Hora Extra - Normal",
  "autoExtra": "",
  "manualExtra": false,
  "convertedValue": "",
  "horasExtraTipoChanged": false,
  "shouldRecalculate": false
}
[horasExtra.DEBUG] {
  "iso": "2025-01-12",
  "pk": "EL__Juan",
  "currExtra": "",
  "horasExtraTipo": "Hora Extra - Normal",
  "autoExtra": "",
  "manualExtra": false,
  "convertedValue": "",
  "horasExtraTipoChanged": false,
  "shouldRecalculate": false
}
[LOCALSTORAGE.DEBUG] Setting key: reportes_p3_2025-01-06_2025-01-07_2025-01-08_2025-01-09_2025-01-10_2025-01-11_2025-01-12 value: {
  EL__Juan: {
    'Horas extra': {
      '2025-01-06': '',
      '2025-01-07': '',
      '2025-01-08': '',
      '2025-01-09': '',
      '2025-01-10': '',
      '2025-01-11': '',
      '2025-01-12': ''
    },
    'Turn Around': {
      '2025-01-06': '',
      '2025-01-07': '',
      '2025-01-08': '',
      '2025-01-09': '',
      '2025-01-10': '',
      '2025-01-11': '',
      '2025-01-12': ''
    },
    Nocturnidad: {
      '2025-01-06': '',
      '2025-01-07': '',
      '2025-01-08': '',
      '2025-01-09': '',
      '2025-01-10': '',
      '2025-01-11': '',
      '2025-01-12': ''
    },
    'Penalty lunch': {
      '2025-01-06': '',
      '2025-01-07': '',
      '2025-01-08': '',
      '2025-01-09': '',
      '2025-01-10': '',
      '2025-01-11': '',
      '2025-01-12': ''
    },
    Dietas: {
      '2025-01-06': '',
      '2025-01-07': '',
      '2025-01-08': '',
      '2025-01-09': '',
      '2025-01-10': '',
      '2025-01-11': '',
      '2025-01-12': ''
    },
    Kilometraje: {
      '2025-01-06': '',
      '2025-01-07': '',
      '2025-01-08': '',
      '2025-01-09': '',
      '2025-01-10': '',
      '2025-01-11': '',
      '2025-01-12': ''
    },
    Transporte: {
      '2025-01-06': '',
      '2025-01-07': '',
      '2025-01-08': '',
      '2025-01-09': '',
      '2025-01-10': '',
      '2025-01-11': '',
      '2025-01-12': ''
    },
    __manual__: {}
  }
}
[STORAGE.DEBUG] setString called: reportes_p3_2025-01-06_2025-01-07_2025-01-08_2025-01-09_2025-01-10_2025-01-11_2025-01-12 {"EL__Juan":{"Horas extra":{"2025-01-06":"","2025-01-07":"","2025-01-08":"","2025-01-09":"","2025-01-10":"","2025-01-11":"","2025-01-12":""},"Turn Around":{"2025-01-06":"","2025-01-07":"","2025-01-08":"","2025-01-09":"","2025-01-10":"","2025-01-11":"","2025-01-12":""},"Nocturnidad":{"2025-01-06":"","2025-01-07":"","2025-01-08":"","2025-01-09":"","2025-01-10":"","2025-01-11":"","2025-01-12":""},"Penalty lunch":{"2025-01-06":"","2025-01-07":"","2025-01-08":"","2025-01-09":"","2025-01-10":"","2025-01-11":"","2025-01-12":""},"Dietas":{"2025-01-06":"","2025-01-07":"","2025-01-08":"","2025-01-09":"","2025-01-10":"","2025-01-11":"","2025-01-12":""},"Kilometraje":{"2025-01-06":"","2025-01-07":"","2025-01-08":"","2025-01-09":"","2025-01-10":"","2025-01-11":"","2025-01-12":""},"Transporte":{"2025-01-06":"","2025-01-07":"","2025-01-08":"","2025-01-09":"","2025-01-10":"","2025-01-11":"","2025-01-12":""},"__manual__":{}}}
[STORAGE.DEBUG] setString success

 ‚úì src/features/reportes/pages/ReportesSemana.test.jsx (1 test) 2665ms
   ‚úì ReportesSemana (smoke) > renders header and table for a week  2660ms
stderr | src/features/projects/pages/ProjectDetail.test.jsx > ProjectDetail (smoke) > renders title and phase cards
‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

 ‚úì src/features/projects/pages/ProjectDetail.test.jsx (1 test) 2170ms
   ‚úì ProjectDetail (smoke) > renders title and phase cards  2162ms
stdout | src/features/planificacion/pages/PlanificacionTab.test.jsx > PlanificacionTab (smoke) > renders and shows empty hints and Exportar TODO
üåç Calendarific ‚Üí https://calendarific.com/api/v2/holidays?api_key=jK2TCivfYYBnF5CnM39fNdRv1mfVnT18&country=ES&year=2026&location=ES-CT

 ‚úì src/features/planificacion/pages/PlanificacionTab.test.jsx (1 test) 4069ms
   ‚úì PlanificacionTab (smoke) > renders and shows empty hints and Exportar TODO  4062ms
 ‚ùØ src/features/planificacion/components/WeekCard.test.jsx (1 test | 1 failed) 5217ms
   √ó WeekCard (smoke) > renders header and actions 5210ms
     ‚Üí Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
stdout | src/features/condiciones/pages/CondicionesTab.test.jsx > CondicionesTab (smoke) > renderiza semanal y bot√≥n PDF
üéØ Getting dynamic festivos for ES for year 2026
üåç Calendarific ‚Üí https://calendarific.com/api/v2/holidays?api_key=jK2TCivfYYBnF5CnM39fNdRv1mfVnT18&country=ES&year=2026

stderr | src/features/projects/pages/SettingsPage.test.tsx > SettingsPage > renders header and loads settings
‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

stderr | src/features/projects/pages/SettingsPage.test.tsx > SettingsPage > saves settings and shows feedback
An update to LogoIcon2 inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/features/projects/pages/SettingsPage.test.tsx > SettingsPage > has clickable SetLux breadcrumb that navigates to projects
An update to LogoIcon2 inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 ‚úì src/features/projects/pages/SettingsPage.test.tsx (3 tests) 1606ms
   ‚úì SettingsPage > renders header and loads settings  993ms
   ‚úì SettingsPage > saves settings and shows feedback  434ms
stdout | src/features/condiciones/pages/CondicionesTab.test.jsx > CondicionesTab (smoke) > renderiza mensual y bot√≥n PDF
üéØ Getting dynamic festivos for ES for year 2026
üåç Calendarific ‚Üí https://calendarific.com/api/v2/holidays?api_key=jK2TCivfYYBnF5CnM39fNdRv1mfVnT18&country=ES&year=2026

stdout | src/features/condiciones/pages/CondicionesTab.test.jsx > CondicionesTab (smoke) > renderiza publicidad y bot√≥n PDF
[STORAGE.DEBUG] setString called: cond_p1_publicidad {"roles":["Gaffer","El√©ctrico"],"prices":{"Gaffer":{"Precio jornada":"510","Precio D√≠a extra/Festivo":"892.5","Travel day":"510","Horas extras":"75","Carga/descarga":"225","Localizaci√≥n t√©cnica":"420"},"Best boy":{"Precio jornada":"410","Precio D√≠a extra/Festivo":"717.5","Travel day":"410","Horas extras":"60","Carga/descarga":"180","Localizaci√≥n t√©cnica":"320"},"El√©ctrico":{"Precio jornada":"310","Precio D√≠a extra/Festivo":"542.5","Travel day":"310","Horas extras":"45","Carga/descarga":"135"},"Auxiliar":{"Precio jornada":"250","Precio D√≠a extra/Festivo":"437.5","Travel day":"250","Horas extras":"35","Carga/descarga":"105"},"T√©cnico de mesa":{"Precio jornada":"350","Precio D√≠a extra/Festivo":"612.5","Travel day":"350","Horas extras":"50","Carga/descarga":"150"},"Finger boy":{"Precio jornada":"350","Precio D√≠a extra/Festivo":"612.5","Travel day":"350","Horas extras":"50","Carga/descarga":"150"}},"legendTemplate":"<strong>Precio jornada:</strong> Importe base por jornada.\n<strong>Precio d√≠a extra/festivo:</strong> Equivale al precio de jornada multiplicado por {{FACTOR_FESTIVO}}. Horas extras festivas equivale al precio de jornada multiplicado por {{FACTOR_HORA_EXTRA_FESTIVA}}.\n<strong>Localizaci√≥n t√©cnica:</strong> Importe por d√≠a de trabajo en localizaciones t√©cnicas previas al rodaje. Si la localizaci√≥n t√©cnica es mayor de 5h + 1h, se contar√° como jornada completa.\n<strong>Carga/descarga:</strong> Importe por jornada de carga y descarga de material. Esto equivale a 3 horas extras.\n<strong>Travel day:</strong> Equivale al precio de jornada.\n<strong>Horas extras:</strong> Se considera hora extra a partir de {{CORTESIA_MIN}} minutos despu√©s del fin de la jornada pactada. A partir de la segunda hora extra no habr√° cortes√≠a de {{CORTESIA_MIN}}‚Ä≤. Las horas extras son voluntarias y deber√°n comunicarse antes del final de la jornada pactada.","festivosTemplate":"La jornada y horas en d√≠as festivos tendr√°n un incremento del 75%. (Festivos 2025: 01/01, 06/01, 29/03, 01/04, 01/05, 24/06, 15/08, 11/09, 12/10, 01/11, 06/12, 25/12, 26/12)","horariosTemplate":"<strong>Turn around:</strong> El descanso entre jornadas ser√° de {{TA_DIARIO}}h entre d√≠as laborables y de {{TA_FINDE}}h los fines de semana. Todas las horas que no se descansen ser√°n consideradas horas extras.\n<strong>Nocturnidad:</strong> Se considerar√° jornada nocturna cuando el inicio o final de la jornada sea entre las {{NOCTURNO_INI}} y las {{NOCTURNO_FIN}}. Se bonificar√° con un complemento salarial equivalente a {{NOCTURNIDAD_COMPLEMENTO}}‚Ç¨. Aparte, tambien las horas nocturnas se bonificar√°n con un factor {{FACTOR_HORA_EXTRA_FESTIVA}} a las horas extras.","dietasTemplate":"Se ingresar√°n en n√≥mina (importe libre de impuestos) las siguientes cantidades cuando no se disponga de manutenci√≥n en el rodaje as√≠ como cuando se trabaje fuera del centro de actividades habitual. Se incrementar√° en un 50% fuera del territorio nacional. Tambi√©n se efectuar√° un anticipo de √©stas.\n<strong>Desayuno:</strong> {{DIETA_DESAYUNO}}‚Ç¨\n<strong>Comida:</strong> {{DIETA_COMIDA}}‚Ç¨\n<strong>Cena:</strong> {{DIETA_CENA}}‚Ç¨\n<strong>Dieta completa sin pernocta:</strong> {{DIETA_SIN_PERNOCTA}} ‚Ç¨\n<strong>Dieta completa y desayuno:</strong> {{DIETA_ALOJ_DES}}‚Ç¨\n<strong>Gastos de bolsillo:</strong> {{GASTOS_BOLSILLO}}‚Ç¨","transportesTemplate":"Cuando por necesidades de rodaje, el trabajador se desplace fuera del centro habitual de trabajo, se abonar√° la cantidad de {{KM_EURO}}‚Ç¨/km m√°s los peajes y gastos de estacionamiento pertinentes.\nEn caso de transportar a miembros del equipo se bonificar√° tambi√©n con la cantidad de {{TRANSPORTE_DIA}}‚Ç¨/d√≠a extra.","alojamientoTemplate":"En caso de tener que pernoctar fuera del domicilio habitual del trabajador, la productora deber√° facilitar un hotel (m√≠nimo 3 estrellas) con habitaci√≥n individual y las dietas y gastos de bolsillo pertinentes.","convenioTemplate":"Tambi√©n se tendr√° en cuenta el convenio \"Resoluci√≥n de 22 de marzo de 2024, de la Direcci√≥n General de Trabajo, por la que se registra y publica el III Convenio colectivo de √°mbito estatal de la industria de producci√≥n audiovisual (t√©cnicos).","params":{"jornadaTrabajo":"10","jornadaComida":"1","factorFestivo":"1.75","factorHoraExtraFestiva":"1.5","cortesiaMin":"15","taDiario":"10","taFinde":"12","nocturnidadComplemento":"50","nocturnoIni":"02:00","nocturnoFin":"06:00","dietaDesayuno":"10","dietaComida":"20","dietaCena":"30","dietaSinPernocta":"50","dietaAlojDes":"60","gastosBolsillo":"10","kilometrajeKm":"0.40","transporteDia":"15"}}
[STORAGE.DEBUG] setString success
üéØ Getting dynamic festivos for ES for year 2026
üåç Calendarific ‚Üí https://calendarific.com/api/v2/holidays?api_key=jK2TCivfYYBnF5CnM39fNdRv1mfVnT18&country=ES&year=2026
[STORAGE.DEBUG] setString called: cond_p1_publicidad {"roles":["Gaffer","El√©ctrico"],"prices":{"Gaffer":{"Precio jornada":"510","Precio D√≠a extra/Festivo":"892.5","Travel day":"510","Horas extras":"75","Carga/descarga":"225","Localizaci√≥n t√©cnica":"420"},"Best boy":{"Precio jornada":"410","Precio D√≠a extra/Festivo":"717.5","Travel day":"410","Horas extras":"60","Carga/descarga":"180","Localizaci√≥n t√©cnica":"320"},"El√©ctrico":{"Precio jornada":"310","Precio D√≠a extra/Festivo":"542.5","Travel day":"310","Horas extras":"45","Carga/descarga":"135"},"Auxiliar":{"Precio jornada":"250","Precio D√≠a extra/Festivo":"437.5","Travel day":"250","Horas extras":"35","Carga/descarga":"105"},"T√©cnico de mesa":{"Precio jornada":"350","Precio D√≠a extra/Festivo":"612.5","Travel day":"350","Horas extras":"50","Carga/descarga":"150"},"Finger boy":{"Precio jornada":"350","Precio D√≠a extra/Festivo":"612.5","Travel day":"350","Horas extras":"50","Carga/descarga":"150"}},"legendTemplate":"<strong>Precio jornada:</strong> Importe base por jornada.\n<strong>Precio d√≠a extra/festivo:</strong> Equivale al precio de jornada multiplicado por {{FACTOR_FESTIVO}}. Horas extras festivas equivale al precio de jornada multiplicado por {{FACTOR_HORA_EXTRA_FESTIVA}}.\n<strong>Localizaci√≥n t√©cnica:</strong> Importe por d√≠a de trabajo en localizaciones t√©cnicas previas al rodaje. Si la localizaci√≥n t√©cnica es mayor de 5h + 1h, se contar√° como jornada completa.\n<strong>Carga/descarga:</strong> Importe por jornada de carga y descarga de material. Esto equivale a 3 horas extras.\n<strong>Travel day:</strong> Equivale al precio de jornada.\n<strong>Horas extras:</strong> Se considera hora extra a partir de {{CORTESIA_MIN}} minutos despu√©s del fin de la jornada pactada. A partir de la segunda hora extra no habr√° cortes√≠a de {{CORTESIA_MIN}}‚Ä≤. Las horas extras son voluntarias y deber√°n comunicarse antes del final de la jornada pactada.","festivosTemplate":"La jornada y horas en d√≠as festivos tendr√°n un incremento del 75%. (Festivos 2025: 01/01, 06/01, 29/03, 01/04, 01/05, 24/06, 15/08, 11/09, 12/10, 01/11, 06/12, 25/12, 26/12)","horariosTemplate":"<strong>Turn around:</strong> El descanso entre jornadas ser√° de {{TA_DIARIO}}h entre d√≠as laborables y de {{TA_FINDE}}h los fines de semana. Todas las horas que no se descansen ser√°n consideradas horas extras.\n<strong>Nocturnidad:</strong> Se considerar√° jornada nocturna cuando el inicio o final de la jornada sea entre las {{NOCTURNO_INI}} y las {{NOCTURNO_FIN}}. Se bonificar√° con un complemento salarial equivalente a {{NOCTURNIDAD_COMPLEMENTO}}‚Ç¨. Aparte, tambien las horas nocturnas se bonificar√°n con un factor {{FACTOR_HORA_EXTRA_FESTIVA}} a las horas extras.","dietasTemplate":"Se ingresar√°n en n√≥mina (importe libre de impuestos) las siguientes cantidades cuando no se disponga de manutenci√≥n en el rodaje as√≠ como cuando se trabaje fuera del centro de actividades habitual. Se incrementar√° en un 50% fuera del territorio nacional. Tambi√©n se efectuar√° un anticipo de √©stas.\n<strong>Desayuno:</strong> {{DIETA_DESAYUNO}}‚Ç¨\n<strong>Comida:</strong> {{DIETA_COMIDA}}‚Ç¨\n<strong>Cena:</strong> {{DIETA_CENA}}‚Ç¨\n<strong>Dieta completa sin pernocta:</strong> {{DIETA_SIN_PERNOCTA}} ‚Ç¨\n<strong>Dieta completa y desayuno:</strong> {{DIETA_ALOJ_DES}}‚Ç¨\n<strong>Gastos de bolsillo:</strong> {{GASTOS_BOLSILLO}}‚Ç¨","transportesTemplate":"Cuando por necesidades de rodaje, el trabajador se desplace fuera del centro habitual de trabajo, se abonar√° la cantidad de {{KM_EURO}}‚Ç¨/km m√°s los peajes y gastos de estacionamiento pertinentes.\nEn caso de transportar a miembros del equipo se bonificar√° tambi√©n con la cantidad de {{TRANSPORTE_DIA}}‚Ç¨/d√≠a extra.","alojamientoTemplate":"En caso de tener que pernoctar fuera del domicilio habitual del trabajador, la productora deber√° facilitar un hotel (m√≠nimo 3 estrellas) con habitaci√≥n individual y las dietas y gastos de bolsillo pertinentes.","convenioTemplate":"Tambi√©n se tendr√° en cuenta el convenio \"Resoluci√≥n de 22 de marzo de 2024, de la Direcci√≥n General de Trabajo, por la que se registra y publica el III Convenio colectivo de √°mbito estatal de la industria de producci√≥n audiovisual (t√©cnicos).","params":{"jornadaTrabajo":"10","jornadaComida":"1","factorFestivo":"1.75","factorHoraExtraFestiva":"1.5","cortesiaMin":"15","taDiario":"10","taFinde":"12","nocturnidadComplemento":"50","nocturnoIni":"02:00","nocturnoFin":"06:00","dietaDesayuno":"10","dietaComida":"20","dietaCena":"30","dietaSinPernocta":"50","dietaAlojDes":"60","gastosBolsillo":"10","kilometrajeKm":"0.40","transporteDia":"15"}}
[STORAGE.DEBUG] setString success

stdout | src/features/condiciones/pages/CondicionesTab.test.jsx > CondicionesTab (smoke) > permite click en PDF sin crash
üéØ Getting dynamic festivos for ES for year 2026
üåç Calendarific ‚Üí https://calendarific.com/api/v2/holidays?api_key=jK2TCivfYYBnF5CnM39fNdRv1mfVnT18&country=ES&year=2026

 ‚ùØ src/test/setup.test.jsx (9 tests | 9 failed) 586ms
   √ó setup.ts > sets up localStorage mock correctly 485ms
     ‚Üí Module "file:///Users/raul/Desktop/MIS%20COSAS/02_Set_Lux/SetLux_Beta/src/locales/es.json" needs an import attribute of "type: json"
   √ó setup.ts > sets up matchMedia mock correctly 17ms
     ‚Üí Module "file:///Users/raul/Desktop/MIS%20COSAS/02_Set_Lux/SetLux_Beta/src/locales/es.json" needs an import attribute of "type: json"
   √ó setup.ts > sets up ResizeObserver mock correctly 10ms
     ‚Üí Module "file:///Users/raul/Desktop/MIS%20COSAS/02_Set_Lux/SetLux_Beta/src/locales/es.json" needs an import attribute of "type: json"
   √ó setup.ts > sets up IntersectionObserver mock correctly 27ms
     ‚Üí Module "file:///Users/raul/Desktop/MIS%20COSAS/02_Set_Lux/SetLux_Beta/src/locales/es.json" needs an import attribute of "type: json"
   √ó setup.ts > suppresses ReactDOM.render warnings 6ms
     ‚Üí Module "file:///Users/raul/Desktop/MIS%20COSAS/02_Set_Lux/SetLux_Beta/src/locales/es.json" needs an import attribute of "type: json"
   √ó setup.ts > allows other console.error messages through 11ms
     ‚Üí Module "file:///Users/raul/Desktop/MIS%20COSAS/02_Set_Lux/SetLux_Beta/src/locales/es.json" needs an import attribute of "type: json"
   √ó setup.ts > restores console.error after tests 7ms
     ‚Üí Module "file:///Users/raul/Desktop/MIS%20COSAS/02_Set_Lux/SetLux_Beta/src/locales/es.json" needs an import attribute of "type: json"
   √ó setup.ts > handles multiple matchMedia calls 6ms
     ‚Üí Module "file:///Users/raul/Desktop/MIS%20COSAS/02_Set_Lux/SetLux_Beta/src/locales/es.json" needs an import attribute of "type: json"
   √ó setup.ts > provides working mock methods 11ms
     ‚Üí Module "file:///Users/raul/Desktop/MIS%20COSAS/02_Set_Lux/SetLux_Beta/src/locales/es.json" needs an import attribute of "type: json"
 ‚úì src/features/condiciones/pages/CondicionesTab.test.jsx (4 tests) 8476ms
   ‚úì CondicionesTab (smoke) > renderiza semanal y bot√≥n PDF  4648ms
   ‚úì CondicionesTab (smoke) > renderiza mensual y bot√≥n PDF  1237ms
   ‚úì CondicionesTab (smoke) > renderiza publicidad y bot√≥n PDF  1248ms
   ‚úì CondicionesTab (smoke) > permite click en PDF sin crash  1334ms
 ‚úì src/shared/components/Chip.test.jsx (11 tests) 1691ms
   ‚úì Chip > renders without crashing  442ms
   ‚úì Chip > applies correct label styles  691ms
 ‚úì src/main.test.jsx (6 tests) 414ms
 ‚úì src/shared/components/LogoIcon.test.jsx (9 tests) 1208ms
   ‚úì LogoIcon > has transparent background  727ms
stdout | src/features/condiciones/condiciones/semanal.test.jsx > CondicionesSemanal (smoke) > renderiza sin explotar (muestra par√°metros)
üéØ Getting dynamic festivos for ES for year 2026
üåç Calendarific ‚Üí https://calendarific.com/api/v2/holidays?api_key=jK2TCivfYYBnF5CnM39fNdRv1mfVnT18&country=ES&year=2026

stdout | src/shared/hooks/useLocalStorage.test.jsx > useLocalStorage > setValue > updates value and stores in localStorage
[LOCALSTORAGE.DEBUG] Setting key: test-key value: new-value
[STORAGE.DEBUG] setString called: test-key "new-value"
[STORAGE.DEBUG] setString success

stdout | src/shared/hooks/useLocalStorage.test.jsx > useLocalStorage > setValue > updates value with function updater
[LOCALSTORAGE.DEBUG] Setting key: test-key value: 1
[STORAGE.DEBUG] setString called: test-key 1
[STORAGE.DEBUG] setString success

stdout | src/shared/hooks/useLocalStorage.test.jsx > useLocalStorage > setValue > handles complex object updates
[LOCALSTORAGE.DEBUG] Setting key: test-key value: { count: 5, name: 'test' }
[STORAGE.DEBUG] setString called: test-key {"count":5,"name":"test"}
[STORAGE.DEBUG] setString success

 ‚úì src/features/condiciones/condiciones/semanal.test.jsx (1 test) 1181ms
   ‚úì CondicionesSemanal (smoke) > renderiza sin explotar (muestra par√°metros)  1127ms
stderr | src/App.test.jsx > App > renders without crashing
An update to AppInner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stdout | src/shared/hooks/useLocalStorage.test.jsx > useLocalStorage > setValue > handles localStorage errors gracefully
[LOCALSTORAGE.DEBUG] Setting key: test-key value: new-value
[STORAGE.DEBUG] setString called: test-key "new-value"

stderr | src/shared/hooks/useLocalStorage.test.jsx > useLocalStorage > setValue > handles localStorage errors gracefully
[STORAGE.DEBUG] setString error: Error: Storage quota exceeded
    at Object.<anonymous> (/Users/raul/Desktop/MIS COSAS/02_Set_Lux/SetLux_Beta/src/shared/hooks/useLocalStorage.test.jsx:139:15)
    at Object.mockCall (file:///Users/raul/Desktop/MIS%20COSAS/02_Set_Lux/SetLux_Beta/node_modules/@vitest/spy/dist/index.js:96:15)
    at Object.spy [as setItem] (file:///Users/raul/Desktop/MIS%20COSAS/02_Set_Lux/SetLux_Beta/node_modules/tinyspy/dist/index.js:47:80)
    at Object.setString (/Users/raul/Desktop/MIS COSAS/02_Set_Lux/SetLux_Beta/src/shared/services/localStorage.service.ts:25:27)
    at /Users/raul/Desktop/MIS COSAS/02_Set_Lux/SetLux_Beta/src/shared/hooks/useLocalStorage.ts:54:15
    at basicStateReducer (/Users/raul/Desktop/MIS COSAS/02_Set_Lux/SetLux_Beta/node_modules/react-dom/cjs/react-dom-client.development.js:5802:45)
    at dispatchSetStateInternal (/Users/raul/Desktop/MIS COSAS/02_Set_Lux/SetLux_Beta/node_modules/react-dom/cjs/react-dom-client.development.js:6951:28)
    at dispatchSetState (/Users/raul/Desktop/MIS COSAS/02_Set_Lux/SetLux_Beta/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
    at Array.<anonymous> (/Users/raul/Desktop/MIS COSAS/02_Set_Lux/SetLux_Beta/src/shared/hooks/useLocalStorage.ts:51:5)
    at /Users/raul/Desktop/MIS COSAS/02_Set_Lux/SetLux_Beta/src/shared/hooks/useLocalStorage.test.jsx:147:25

 ‚úì src/shared/hooks/useLocalStorage.test.jsx (22 tests) 413ms
stderr | src/App.test.jsx > App > renders auth provider
An update to AppInner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 ‚úì src/shared/components/TableCells.test.jsx (7 tests) 467ms
stderr | src/App.test.jsx > App > renders main content
An update to AppInner inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 ‚úì src/shared/components/LogoSetLux.test.jsx (13 tests) 1148ms
   ‚úì LogoSetLux > has correct text colors  363ms
 ‚úì src/App.test.jsx (3 tests) 570ms
 ‚úì src/shared/components/BrandHero.test.jsx (7 tests) 575ms
   ‚úì BrandHero > renders without crashing  449ms
stderr | src/features/nomina/nominas/NominaMensual.test.jsx > NominaMensual - calcWorkedBreakdown with holidayDays > should calculate holiday days correctly
‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

 ‚úì src/features/nomina/nominas/NominaMensual.test.jsx (3 tests) 323ms
 ‚úì src/test/utils.test.jsx (21 tests) 511ms
stderr | src/shared/components/Input.test.jsx > Input > accepts value prop
You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.

 ‚úì src/shared/components/Input.test.jsx (6 tests) 444ms
 ‚úì src/shared/components/Button.test.jsx (6 tests) 323ms
 ‚úì src/shared/components/index.test.jsx (16 tests) 588ms
   ‚úì shared/components/index > exports > exports all components  574ms
 ‚úì src/features/necesidades/components/TextAreaAuto.test.jsx (1 test) 200ms
 ‚úì src/features/planificacion/components/PlanScopeSection.test.jsx (1 test) 231ms
 ‚úì src/features/reportes/hooks/useAutoCalculations.test.jsx (12 tests) 243ms
 ‚úì src/features/reportes/components/ReportTableHead.test.jsx (1 test) 118ms
stdout | src/features/nomina/utils/calc.test.jsx > nomina/utils/calc > makeRolePrices > creates role prices function with project data
[NOMINA.MAIN] makeRolePrices - project type: semanal
[NOMINA] makeRolePrices - model: {
  prices: {
    G: {
      'Precio jornada': '100',
      'Travel day': '50',
      'Horas extras': '15'
    },
    E: {
      'Precio jornada': '80',
      'Travel day': '40',
      'Horas extras': '12'
    }
  },
  params: {
    divTravel: '2',
    transporteDia: '20',
    kilometrajeKm: '0.5',
    dietaComida: '15',
    dietaCena: '25',
    dietaSinPernocta: '30',
    dietaAlojDes: '50',
    gastosBolsillo: '10'
  }
}
[NOMINA] makeRolePrices - priceRows: {
  G: { 'Precio jornada': '100', 'Travel day': '50', 'Horas extras': '15' },
  E: { 'Precio jornada': '80', 'Travel day': '40', 'Horas extras': '12' }
}
[NOMINA] makeRolePrices - params: {
  divTravel: '2',
  transporteDia: '20',
  kilometrajeKm: '0.5',
  dietaComida: '15',
  dietaCena: '25',
  dietaSinPernocta: '30',
  dietaAlojDes: '50',
  gastosBolsillo: '10'
}
[NOMINA] getForRole - roleCode: G baseRoleCode: null
[NOMINA] getForRole - normalized: G baseNorm: G
[NOMINA] getForRole - row for G => key: G { 'Precio jornada': '100', 'Travel day': '50', 'Horas extras': '15' }
[NOMINA] getForRole - baseRow for G => key: G { 'Precio jornada': '100', 'Travel day': '50', 'Horas extras': '15' }
[NOMINA] getForRole - elecRow => key: E { 'Precio jornada': '80', 'Travel day': '40', 'Horas extras': '12' }
[NOMINA] getForRole - calculating for non-REF role: G
[NOMINA] getNumField - candidates: [
  'Precio jornada',
  'Precio Jornada',
  'Jornada',
  'Precio dia',
  'Precio d√≠a'
]
[NOMINA] getNumField - row keys: [ 'Precio jornada', 'Travel day', 'Horas extras' ]
[NOMINA] getNumField - row: { 'Precio jornada': '100', 'Travel day': '50', 'Horas extras': '15' }
[NOMINA] getNumField - trying direct key "Precio jornada": 100
[NOMINA] getNumField - candidates: [
  'Travel day',
  'Travel Day',
  'Travel',
  'D√≠a de viaje',
  'Dia de viaje',
  'D√≠a travel',
  'Dia travel',
  'TD'
]
[NOMINA] getNumField - row keys: [ 'Precio jornada', 'Travel day', 'Horas extras' ]
[NOMINA] getNumField - row: { 'Precio jornada': '100', 'Travel day': '50', 'Horas extras': '15' }
[NOMINA] getNumField - trying direct key "Travel day": 50
[NOMINA] getNumField - candidates: [
  'Horas extras',
  'Horas Extras',
  'Hora extra',
  'Horas extra',
  'HE',
  'Hora Extra'
]
[NOMINA] getNumField - row keys: [ 'Precio jornada', 'Travel day', 'Horas extras' ]
[NOMINA] getNumField - row: { 'Precio jornada': '100', 'Travel day': '50', 'Horas extras': '15' }
[NOMINA] getNumField - trying direct key "Horas extras": 15
[NOMINA] getNumField - candidates: [
  'Precio D√≠a extra/Festivo',
  'Precio D√≠a extra/festivo',
  'D√≠a extra/Festivo',
  'D√≠a festivo',
  'Festivo'
]
[NOMINA] getNumField - row keys: [ 'Precio jornada', 'Travel day', 'Horas extras' ]
[NOMINA] getNumField - row: { 'Precio jornada': '100', 'Travel day': '50', 'Horas extras': '15' }
[NOMINA] getNumField - trying direct key "Precio D√≠a extra/Festivo": undefined
[NOMINA] getNumField - trying direct key "Precio D√≠a extra/festivo": undefined
[NOMINA] getNumField - trying direct key "D√≠a extra/Festivo": undefined
[NOMINA] getNumField - trying direct key "D√≠a festivo": undefined
[NOMINA] getNumField - trying direct key "Festivo": undefined
[NOMINA] getNumField - trying lowercase "precio d√≠a extra/festivo": undefined
[NOMINA] getNumField - trying lowercase "precio d√≠a extra/festivo": undefined
[NOMINA] getNumField - trying lowercase "d√≠a extra/festivo": undefined
[NOMINA] getNumField - trying lowercase "d√≠a festivo": undefined
[NOMINA] getNumField - trying lowercase "festivo": undefined
[NOMINA] getForRole - calculated values: { jornada: 100, travelDay: 50, horaExtra: 15 }
[NOMINA] getForRole - result for G : {
  jornada: 100,
  travelDay: 50,
  horaExtra: 15,
  holidayDay: 0,
  transporte: 20,
  km: 0.5,
  dietas: {
    Comida: 15,
    Cena: 25,
    'Dieta sin pernoctar': 30,
    'Dieta completa + desayuno': 50,
    'Gastos de bolsillo': 10
  }
}

stdout | src/features/nomina/utils/calc.test.jsx > nomina/utils/calc > makeRolePrices > handles REF role with base role fallback
[NOMINA.MAIN] makeRolePrices - project type: semanal
[NOMINA] makeRolePrices - model: {
  prices: {
    BB: {
      'Precio jornada': '90',
      'Travel day': '45',
      'Horas extras': '14'
    },
    E: {
      'Precio refuerzo': '70',
      'Precio jornada': '80',
      'Horas extras': '12'
    }
  },
  params: { divTravel: '2' }
}
[NOMINA] makeRolePrices - priceRows: {
  BB: { 'Precio jornada': '90', 'Travel day': '45', 'Horas extras': '14' },
  E: {
    'Precio refuerzo': '70',
    'Precio jornada': '80',
    'Horas extras': '12'
  }
}
[NOMINA] makeRolePrices - params: { divTravel: '2' }
[NOMINA] getForRole - roleCode: REF baseRoleCode: BB
[NOMINA] getForRole - normalized: REF baseNorm: BB
[NOMINA] getForRole - row for REF => key:  {}
[NOMINA] getForRole - baseRow for BB => key: BB { 'Precio jornada': '90', 'Travel day': '45', 'Horas extras': '14' }
[NOMINA] getForRole - elecRow => key: E {
  'Precio refuerzo': '70',
  'Precio jornada': '80',
  'Horas extras': '12'
}
[NOMINA] getNumField - candidates: [ 'Precio refuerzo', 'Precio Refuerzo', 'Refuerzo' ]
[NOMINA] getNumField - row keys: [ 'Precio jornada', 'Travel day', 'Horas extras' ]
[NOMINA] getNumField - row: { 'Precio jornada': '90', 'Travel day': '45', 'Horas extras': '14' }
[NOMINA] getNumField - trying direct key "Precio refuerzo": undefined
[NOMINA] getNumField - trying direct key "Precio Refuerzo": undefined
[NOMINA] getNumField - trying direct key "Refuerzo": undefined
[NOMINA] getNumField - trying lowercase "precio refuerzo": undefined
[NOMINA] getNumField - trying lowercase "precio refuerzo": undefined
[NOMINA] getNumField - trying lowercase "refuerzo": undefined
[NOMINA] getNumField - candidates: [
  'Precio jornada',
  'Precio Jornada',
  'Jornada',
  'Precio dia',
  'Precio d√≠a'
]
[NOMINA] getNumField - row keys: [ 'Precio jornada', 'Travel day', 'Horas extras' ]
[NOMINA] getNumField - row: { 'Precio jornada': '90', 'Travel day': '45', 'Horas extras': '14' }
[NOMINA] getNumField - trying direct key "Precio jornada": 90
[NOMINA] getNumField - candidates: [ 'Precio refuerzo', 'Precio Refuerzo', 'Refuerzo' ]
[NOMINA] getNumField - row keys: [ 'Precio refuerzo', 'Precio jornada', 'Horas extras' ]
[NOMINA] getNumField - row: {
  'Precio refuerzo': '70',
  'Precio jornada': '80',
  'Horas extras': '12'
}
[NOMINA] getNumField - trying direct key "Precio refuerzo": 70
[NOMINA] getNumField - candidates: [
  'Precio jornada',
  'Precio Jornada',
  'Jornada',
  'Precio dia',
  'Precio d√≠a'
]
[NOMINA] getNumField - row keys: [ 'Precio refuerzo', 'Precio jornada', 'Horas extras' ]
[NOMINA] getNumField - row: {
  'Precio refuerzo': '70',
  'Precio jornada': '80',
  'Horas extras': '12'
}
[NOMINA] getNumField - trying direct key "Precio jornada": 80
[NOMINA] getNumField - candidates: [
  'Travel day',
  'Travel Day',
  'Travel',
  'D√≠a de viaje',
  'Dia de viaje',
  'D√≠a travel',
  'Dia travel',
  'TD'
]
[NOMINA] getNumField - row keys: [ 'Precio jornada', 'Travel day', 'Horas extras' ]
[NOMINA] getNumField - row: { 'Precio jornada': '90', 'Travel day': '45', 'Horas extras': '14' }
[NOMINA] getNumField - trying direct key "Travel day": 45
[NOMINA] getNumField - candidates: [
  'Horas extras',
  'Horas Extras',
  'Hora extra',
  'Horas extra',
  'HE',
  'Hora Extra'
]
[NOMINA] getNumField - row keys: [ 'Precio refuerzo', 'Precio jornada', 'Horas extras' ]
[NOMINA] getNumField - row: {
  'Precio refuerzo': '70',
  'Precio jornada': '80',
  'Horas extras': '12'
}
[NOMINA] getNumField - trying direct key "Horas extras": 12
[NOMINA] getNumField - candidates: [
  'Precio D√≠a extra/Festivo',
  'Precio D√≠a extra/festivo',
  'D√≠a extra/Festivo',
  'D√≠a festivo',
  'Festivo'
]
[NOMINA] getNumField - row keys: [ 'Precio refuerzo', 'Precio jornada', 'Horas extras' ]
[NOMINA] getNumField - row: {
  'Precio refuerzo': '70',
  'Precio jornada': '80',
  'Horas extras': '12'
}
[NOMINA] getNumField - trying direct key "Precio D√≠a extra/Festivo": undefined
[NOMINA] getNumField - trying direct key "Precio D√≠a extra/festivo": undefined
[NOMINA] getNumField - trying direct key "D√≠a extra/Festivo": undefined
[NOMINA] getNumField - trying direct key "D√≠a festivo": undefined
[NOMINA] getNumField - trying direct key "Festivo": undefined
[NOMINA] getNumField - trying lowercase "precio d√≠a extra/festivo": undefined
[NOMINA] getNumField - trying lowercase "precio d√≠a extra/festivo": undefined
[NOMINA] getNumField - trying lowercase "d√≠a extra/festivo": undefined
[NOMINA] getNumField - trying lowercase "d√≠a festivo": undefined
[NOMINA] getNumField - trying lowercase "festivo": undefined
[NOMINA] getNumField - candidates: [
  'Precio D√≠a extra/Festivo',
  'Precio D√≠a extra/festivo',
  'D√≠a extra/Festivo',
  'D√≠a festivo',
  'Festivo'
]
[NOMINA] getNumField - row keys: [ 'Precio jornada', 'Travel day', 'Horas extras' ]
[NOMINA] getNumField - row: { 'Precio jornada': '90', 'Travel day': '45', 'Horas extras': '14' }
[NOMINA] getNumField - trying direct key "Precio D√≠a extra/Festivo": undefined
[NOMINA] getNumField - trying direct key "Precio D√≠a extra/festivo": undefined
[NOMINA] getNumField - trying direct key "D√≠a extra/Festivo": undefined
[NOMINA] getNumField - trying direct key "D√≠a festivo": undefined
[NOMINA] getNumField - trying direct key "Festivo": undefined
[NOMINA] getNumField - trying lowercase "precio d√≠a extra/festivo": undefined
[NOMINA] getNumField - trying lowercase "precio d√≠a extra/festivo": undefined
[NOMINA] getNumField - trying lowercase "d√≠a extra/festivo": undefined
[NOMINA] getNumField - trying lowercase "d√≠a festivo": undefined
[NOMINA] getNumField - trying lowercase "festivo": undefined
[NOMINA] getForRole - result for REF : {
  jornada: 90,
  travelDay: 45,
  horaExtra: 12,
  holidayDay: 0,
  transporte: 0,
  km: 0,
  dietas: {
    Comida: 0,
    Cena: 0,
    'Dieta sin pernoctar': 0,
    'Dieta completa + desayuno': 0,
    'Gastos de bolsillo': 0
  }
}

stdout | src/features/nomina/utils/calc.test.jsx > nomina/utils/calc > makeRolePrices > handles missing data gracefully
[NOMINA.MAIN] makeRolePrices - project type: semanal
[NOMINA] makeRolePrices - model: { prices: {}, params: {} }
[NOMINA] makeRolePrices - priceRows: {}
[NOMINA] makeRolePrices - params: {}
[NOMINA] getForRole - roleCode: UNKNOWN baseRoleCode: null
[NOMINA] getForRole - normalized: UNKNOWN baseNorm: UNKNOWN
[NOMINA] getForRole - row for UNKNOWN => key:  {}
[NOMINA] getForRole - baseRow for UNKNOWN => key:  {}
[NOMINA] getForRole - elecRow => key:  {}
[NOMINA] getForRole - calculating for non-REF role: UNKNOWN
[NOMINA] getNumField - candidates: [
  'Precio jornada',
  'Precio Jornada',
  'Jornada',
  'Precio dia',
  'Precio d√≠a'
]
[NOMINA] getNumField - row keys: []
[NOMINA] getNumField - row: {}
[NOMINA] getNumField - trying direct key "Precio jornada": undefined
[NOMINA] getNumField - trying direct key "Precio Jornada": undefined
[NOMINA] getNumField - trying direct key "Jornada": undefined
[NOMINA] getNumField - trying direct key "Precio dia": undefined
[NOMINA] getNumField - trying direct key "Precio d√≠a": undefined
[NOMINA] getNumField - trying lowercase "precio jornada": undefined
[NOMINA] getNumField - trying lowercase "precio jornada": undefined
[NOMINA] getNumField - trying lowercase "jornada": undefined
[NOMINA] getNumField - trying lowercase "precio dia": undefined
[NOMINA] getNumField - trying lowercase "precio d√≠a": undefined
[NOMINA] getNumField - candidates: [
  'Travel day',
  'Travel Day',
  'Travel',
  'D√≠a de viaje',
  'Dia de viaje',
  'D√≠a travel',
  'Dia travel',
  'TD'
]
[NOMINA] getNumField - row keys: []
[NOMINA] getNumField - row: {}
[NOMINA] getNumField - trying direct key "Travel day": undefined
[NOMINA] getNumField - trying direct key "Travel Day": undefined
[NOMINA] getNumField - trying direct key "Travel": undefined
[NOMINA] getNumField - trying direct key "D√≠a de viaje": undefined
[NOMINA] getNumField - trying direct key "Dia de viaje": undefined
[NOMINA] getNumField - trying direct key "D√≠a travel": undefined
[NOMINA] getNumField - trying direct key "Dia travel": undefined
[NOMINA] getNumField - trying direct key "TD": undefined
[NOMINA] getNumField - trying lowercase "travel day": undefined
[NOMINA] getNumField - trying lowercase "travel day": undefined
[NOMINA] getNumField - trying lowercase "travel": undefined
[NOMINA] getNumField - trying lowercase "d√≠a de viaje": undefined
[NOMINA] getNumField - trying lowercase "dia de viaje": undefined
[NOMINA] getNumField - trying lowercase "d√≠a travel": undefined
[NOMINA] getNumField - trying lowercase "dia travel": undefined
[NOMINA] getNumField - trying lowercase "td": undefined
[NOMINA] getNumField - candidates: [
  'Horas extras',
  'Horas Extras',
  'Hora extra',
  'Horas extra',
  'HE',
  'Hora Extra'
]
[NOMINA] getNumField - row keys: []
[NOMINA] getNumField - row: {}
[NOMINA] getNumField - trying direct key "Horas extras": undefined
[NOMINA] getNumField - trying direct key "Horas Extras": undefined
[NOMINA] getNumField - trying direct key "Hora extra": undefined
[NOMINA] getNumField - trying direct key "Horas extra": undefined
[NOMINA] getNumField - trying direct key "HE": undefined
[NOMINA] getNumField - trying direct key "Hora Extra": undefined
[NOMINA] getNumField - trying lowercase "horas extras": undefined
[NOMINA] getNumField - trying lowercase "horas extras": undefined
[NOMINA] getNumField - trying lowercase "hora extra": undefined
[NOMINA] getNumField - trying lowercase "horas extra": undefined
[NOMINA] getNumField - trying lowercase "he": undefined
[NOMINA] getNumField - trying lowercase "hora extra": undefined
[NOMINA] getNumField - candidates: [
  'Precio D√≠a extra/Festivo',
  'Precio D√≠a extra/festivo',
  'D√≠a extra/Festivo',
  'D√≠a festivo',
  'Festivo'
]
[NOMINA] getNumField - row keys: []
[NOMINA] getNumField - row: {}
[NOMINA] getNumField - trying direct key "Precio D√≠a extra/Festivo": undefined
[NOMINA] getNumField - trying direct key "Precio D√≠a extra/festivo": undefined
[NOMINA] getNumField - trying direct key "D√≠a extra/Festivo": undefined
[NOMINA] getNumField - trying direct key "D√≠a festivo": undefined
[NOMINA] getNumField - trying direct key "Festivo": undefined
[NOMINA] getNumField - trying lowercase "precio d√≠a extra/festivo": undefined
[NOMINA] getNumField - trying lowercase "precio d√≠a extra/festivo": undefined
[NOMINA] getNumField - trying lowercase "d√≠a extra/festivo": undefined
[NOMINA] getNumField - trying lowercase "d√≠a festivo": undefined
[NOMINA] getNumField - trying lowercase "festivo": undefined
[NOMINA] getForRole - calculated values: { jornada: 0, travelDay: 0, horaExtra: 0 }
[NOMINA] getForRole - result for UNKNOWN : {
  jornada: 0,
  travelDay: 0,
  horaExtra: 0,
  holidayDay: 0,
  transporte: 0,
  km: 0,
  dietas: {
    Comida: 0,
    Cena: 0,
    'Dieta sin pernoctar': 0,
    'Dieta completa + desayuno': 0,
    'Gastos de bolsillo': 0
  }
}

stdout | src/features/nomina/utils/calc.test.jsx > nomina/utils/calc > makeRolePrices > handles role codes with PR suffix
[NOMINA.MAIN] makeRolePrices - project type: semanal
[NOMINA] makeRolePrices - model: {
  prices: {
    G: {
      'Precio jornada': '100',
      'Travel day': '50',
      'Horas extras': '15'
    }
  },
  params: { divTravel: '2' }
}
[NOMINA] makeRolePrices - priceRows: {
  G: { 'Precio jornada': '100', 'Travel day': '50', 'Horas extras': '15' }
}
[NOMINA] makeRolePrices - params: { divTravel: '2' }
[NOMINA] getForRole - roleCode: GP baseRoleCode: null
[NOMINA] getForRole - normalized: G baseNorm: G
[NOMINA] getForRole - row for G => key: G { 'Precio jornada': '100', 'Travel day': '50', 'Horas extras': '15' }
[NOMINA] getForRole - baseRow for G => key: G { 'Precio jornada': '100', 'Travel day': '50', 'Horas extras': '15' }
[NOMINA] getForRole - elecRow => key:  {}
[NOMINA] getForRole - calculating for non-REF role: G
[NOMINA] getNumField - candidates: [
  'Precio jornada',
  'Precio Jornada',
  'Jornada',
  'Precio dia',
  'Precio d√≠a'
]
[NOMINA] getNumField - row keys: [ 'Precio jornada', 'Travel day', 'Horas extras' ]
[NOMINA] getNumField - row: { 'Precio jornada': '100', 'Travel day': '50', 'Horas extras': '15' }
[NOMINA] getNumField - trying direct key "Precio jornada": 100
[NOMINA] getNumField - candidates: [
  'Travel day',
  'Travel Day',
  'Travel',
  'D√≠a de viaje',
  'Dia de viaje',
  'D√≠a travel',
  'Dia travel',
  'TD'
]
[NOMINA] getNumField - row keys: [ 'Precio jornada', 'Travel day', 'Horas extras' ]
[NOMINA] getNumField - row: { 'Precio jornada': '100', 'Travel day': '50', 'Horas extras': '15' }
[NOMINA] getNumField - trying direct key "Travel day": 50
[NOMINA] getNumField - candidates: [
  'Horas extras',
  'Horas Extras',
  'Hora extra',
  'Horas extra',
  'HE',
  'Hora Extra'
]
[NOMINA] getNumField - row keys: [ 'Precio jornada', 'Travel day', 'Horas extras' ]
[NOMINA] getNumField - row: { 'Precio jornada': '100', 'Travel day': '50', 'Horas extras': '15' }
[NOMINA] getNumField - trying direct key "Horas extras": 15
[NOMINA] getNumField - candidates: [
  'Precio D√≠a extra/Festivo',
  'Precio D√≠a extra/festivo',
  'D√≠a extra/Festivo',
  'D√≠a festivo',
  'Festivo'
]
[NOMINA] getNumField - row keys: [ 'Precio jornada', 'Travel day', 'Horas extras' ]
[NOMINA] getNumField - row: { 'Precio jornada': '100', 'Travel day': '50', 'Horas extras': '15' }
[NOMINA] getNumField - trying direct key "Precio D√≠a extra/Festivo": undefined
[NOMINA] getNumField - trying direct key "Precio D√≠a extra/festivo": undefined
[NOMINA] getNumField - trying direct key "D√≠a extra/Festivo": undefined
[NOMINA] getNumField - trying direct key "D√≠a festivo": undefined
[NOMINA] getNumField - trying direct key "Festivo": undefined
[NOMINA] getNumField - trying lowercase "precio d√≠a extra/festivo": undefined
[NOMINA] getNumField - trying lowercase "precio d√≠a extra/festivo": undefined
[NOMINA] getNumField - trying lowercase "d√≠a extra/festivo": undefined
[NOMINA] getNumField - trying lowercase "d√≠a festivo": undefined
[NOMINA] getNumField - trying lowercase "festivo": undefined
[NOMINA] getForRole - calculated values: { jornada: 100, travelDay: 50, horaExtra: 15 }
[NOMINA] getForRole - result for GP : {
  jornada: 100,
  travelDay: 50,
  horaExtra: 15,
  holidayDay: 0,
  transporte: 0,
  km: 0,
  dietas: {
    Comida: 0,
    Cena: 0,
    'Dieta sin pernoctar': 0,
    'Dieta completa + desayuno': 0,
    'Gastos de bolsillo': 0
  }
}

stdout | src/features/nomina/utils/calc.test.jsx > nomina/utils/calc > makeRolePrices > calculates travel day from jornada when not specified
[NOMINA.MAIN] makeRolePrices - project type: semanal
[NOMINA] makeRolePrices - model: {
  prices: { G: { 'Precio jornada': '100', 'Horas extras': '15' } },
  params: { divTravel: '2' }
}
[NOMINA] makeRolePrices - priceRows: { G: { 'Precio jornada': '100', 'Horas extras': '15' } }
[NOMINA] makeRolePrices - params: { divTravel: '2' }
[NOMINA] getForRole - roleCode: G baseRoleCode: null
[NOMINA] getForRole - normalized: G baseNorm: G
[NOMINA] getForRole - row for G => key: G { 'Precio jornada': '100', 'Horas extras': '15' }
[NOMINA] getForRole - baseRow for G => key: G { 'Precio jornada': '100', 'Horas extras': '15' }
[NOMINA] getForRole - elecRow => key:  {}
[NOMINA] getForRole - calculating for non-REF role: G
[NOMINA] getNumField - candidates: [
  'Precio jornada',
  'Precio Jornada',
  'Jornada',
  'Precio dia',
  'Precio d√≠a'
]
[NOMINA] getNumField - row keys: [ 'Precio jornada', 'Horas extras' ]
[NOMINA] getNumField - row: { 'Precio jornada': '100', 'Horas extras': '15' }
[NOMINA] getNumField - trying direct key "Precio jornada": 100
[NOMINA] getNumField - candidates: [
  'Travel day',
  'Travel Day',
  'Travel',
  'D√≠a de viaje',
  'Dia de viaje',
  'D√≠a travel',
  'Dia travel',
  'TD'
]
[NOMINA] getNumField - row keys: [ 'Precio jornada', 'Horas extras' ]
[NOMINA] getNumField - row: { 'Precio jornada': '100', 'Horas extras': '15' }
[NOMINA] getNumField - trying direct key "Travel day": undefined
[NOMINA] getNumField - trying direct key "Travel Day": undefined
[NOMINA] getNumField - trying direct key "Travel": undefined
[NOMINA] getNumField - trying direct key "D√≠a de viaje": undefined
[NOMINA] getNumField - trying direct key "Dia de viaje": undefined
[NOMINA] getNumField - trying direct key "D√≠a travel": undefined
[NOMINA] getNumField - trying direct key "Dia travel": undefined
[NOMINA] getNumField - trying direct key "TD": undefined
[NOMINA] getNumField - trying lowercase "travel day": undefined
[NOMINA] getNumField - trying lowercase "travel day": undefined
[NOMINA] getNumField - trying lowercase "travel": undefined
[NOMINA] getNumField - trying lowercase "d√≠a de viaje": undefined
[NOMINA] getNumField - trying lowercase "dia de viaje": undefined
[NOMINA] getNumField - trying lowercase "d√≠a travel": undefined
[NOMINA] getNumField - trying lowercase "dia travel": undefined
[NOMINA] getNumField - trying lowercase "td": undefined
[NOMINA] getNumField - candidates: [
  'Horas extras',
  'Horas Extras',
  'Hora extra',
  'Horas extra',
  'HE',
  'Hora Extra'
]
[NOMINA] getNumField - row keys: [ 'Precio jornada', 'Horas extras' ]
[NOMINA] getNumField - row: { 'Precio jornada': '100', 'Horas extras': '15' }
[NOMINA] getNumField - trying direct key "Horas extras": 15
[NOMINA] getNumField - candidates: [
  'Precio D√≠a extra/Festivo',
  'Precio D√≠a extra/festivo',
  'D√≠a extra/Festivo',
  'D√≠a festivo',
  'Festivo'
]
[NOMINA] getNumField - row keys: [ 'Precio jornada', 'Horas extras' ]
[NOMINA] getNumField - row: { 'Precio jornada': '100', 'Horas extras': '15' }
[NOMINA] getNumField - trying direct key "Precio D√≠a extra/Festivo": undefined
[NOMINA] getNumField - trying direct key "Precio D√≠a extra/festivo": undefined
[NOMINA] getNumField - trying direct key "D√≠a extra/Festivo": undefined
[NOMINA] getNumField - trying direct key "D√≠a festivo": undefined
[NOMINA] getNumField - trying direct key "Festivo": undefined
[NOMINA] getNumField - trying lowercase "precio d√≠a extra/festivo": undefined
[NOMINA] getNumField - trying lowercase "precio d√≠a extra/festivo": undefined
[NOMINA] getNumField - trying lowercase "d√≠a extra/festivo": undefined
[NOMINA] getNumField - trying lowercase "d√≠a festivo": undefined
[NOMINA] getNumField - trying lowercase "festivo": undefined
[NOMINA] getForRole - calculated values: { jornada: 100, travelDay: 50, horaExtra: 15 }
[NOMINA] getForRole - result for G : {
  jornada: 100,
  travelDay: 50,
  horaExtra: 15,
  holidayDay: 0,
  transporte: 0,
  km: 0,
  dietas: {
    Comida: 0,
    Cena: 0,
    'Dieta sin pernoctar': 0,
    'Dieta completa + desayuno': 0,
    'Gastos de bolsillo': 0
  }
}

 ‚úì src/features/nomina/utils/plan.test.jsx (46 tests) 235ms
stdout | src/features/nomina/utils/calc.test.jsx > nomina/utils/calc > aggregateReports > aggregates reports from weeks data
[NOMINA.MAIN] aggregateReports - project type: semanal
[NOMINA.DEBUG] Semana reportes_test-project_2023-01-01_2023-01-02: {
  'G__John Doe': {
    'Horas extra': { '2023-01-01': '2' },
    'Turn Around': { '2023-01-01': '1' },
    Nocturnidad: { '2023-01-01': 'SI' },
    Dietas: { '2023-01-01': 'Comida' },
    Kilometraje: { '2023-01-01': '50' },
    Transporte: { '2023-01-01': 'SI' }
  }
}
[NOMINA.DEBUG] Claves disponibles: [ 'G__John Doe' ]
[NOMINA.DEBUG] Claves que contienen "cccc": []
[NOMINA.SKV] G__John Doe => 7 variants: [
  'G__John Doe',
  'GP__John Doe',
  'GR__John Doe',
  'G.pre__John Doe',
  'G.pick__John Doe',
  'G_pre__John Doe',
  'G_pick__John Doe'
]
[NOMINA.AGG] week agg person= John Doe roleVis= G pk= G__John Doe iso= 2023-01-01 keysToUse= [
  'G__John Doe',
  'GP__John Doe',
  'GR__John Doe',
  'G.pre__John Doe',
  'G.pick__John Doe',
  'G_pre__John Doe',
  'G_pick__John Doe'
]
[NOMINA.GCVC] Looking for [ 'Horas extra', 'Horas extras', 'HE' ] on 2023-01-01 in keys: [
  'G__John Doe',
  'GP__John Doe',
  'GR__John Doe',
  'G.pre__John Doe',
  'G.pick__John Doe',
  'G_pre__John Doe',
  'G_pick__John Doe'
]
[NOMINA.GCVC] No data for key: G.pre__John Doe
[NOMINA.GCVC] No data for key: G.pick__John Doe
[NOMINA.GCVC] Found data for key: G__John Doe columns: [
  'Horas extra',
  'Turn Around',
  'Nocturnidad',
  'Dietas',
  'Kilometraje',
  'Transporte'
]
[NOMINA.GCVC] Found direct match: G__John Doe Horas extra 2023-01-01 = 2
[NOMINA.GCVC] Looking for [ 'Turn Around', 'TA' ] on 2023-01-01 in keys: [
  'G__John Doe',
  'GP__John Doe',
  'GR__John Doe',
  'G.pre__John Doe',
  'G.pick__John Doe',
  'G_pre__John Doe',
  'G_pick__John Doe'
]
[NOMINA.GCVC] No data for key: G.pre__John Doe
[NOMINA.GCVC] No data for key: G.pick__John Doe
[NOMINA.GCVC] Found data for key: G__John Doe columns: [
  'Horas extra',
  'Turn Around',
  'Nocturnidad',
  'Dietas',
  'Kilometraje',
  'Transporte'
]
[NOMINA.GCVC] Found direct match: G__John Doe Turn Around 2023-01-01 = 1
[NOMINA.GCVC] Looking for [ 'Nocturnidad', 'Noct', 'Nocturnidades' ] on 2023-01-01 in keys: [
  'G__John Doe',
  'GP__John Doe',
  'GR__John Doe',
  'G.pre__John Doe',
  'G.pick__John Doe',
  'G_pre__John Doe',
  'G_pick__John Doe'
]
[NOMINA.GCVC] No data for key: G.pre__John Doe
[NOMINA.GCVC] No data for key: G.pick__John Doe
[NOMINA.GCVC] Found data for key: G__John Doe columns: [
  'Horas extra',
  'Turn Around',
  'Nocturnidad',
  'Dietas',
  'Kilometraje',
  'Transporte'
]
[NOMINA.GCVC] Found direct match: G__John Doe Nocturnidad 2023-01-01 = SI
[NOMINA.GCVC] Looking for [ 'Penalty lunch', 'Penalty Lunch', 'Penalty', 'PL' ] on 2023-01-01 in keys: [
  'G__John Doe',
  'GP__John Doe',
  'GR__John Doe',
  'G.pre__John Doe',
  'G.pick__John Doe',
  'G_pre__John Doe',
  'G_pick__John Doe'
]
[NOMINA.GCVC] No data for key: G.pre__John Doe
[NOMINA.GCVC] No data for key: G.pick__John Doe
[NOMINA.GCVC] Found data for key: G__John Doe columns: [
  'Horas extra',
  'Turn Around',
  'Nocturnidad',
  'Dietas',
  'Kilometraje',
  'Transporte'
]
[NOMINA.GCVC] No data for key: GP__John Doe
[NOMINA.GCVC] No data for key: GR__John Doe
[NOMINA.GCVC] No data for key: G_pre__John Doe
[NOMINA.GCVC] No data for key: G_pick__John Doe
[NOMINA.GCVC] No match found for [ 'Penalty lunch', 'Penalty Lunch', 'Penalty', 'PL' ] on 2023-01-01
[NOMINA.GCVC] Looking for [ 'Transporte', 'Transportes' ] on 2023-01-01 in keys: [
  'G__John Doe',
  'GP__John Doe',
  'GR__John Doe',
  'G.pre__John Doe',
  'G.pick__John Doe',
  'G_pre__John Doe',
  'G_pick__John Doe'
]
[NOMINA.GCVC] No data for key: G.pre__John Doe
[NOMINA.GCVC] No data for key: G.pick__John Doe
[NOMINA.GCVC] Found data for key: G__John Doe columns: [
  'Horas extra',
  'Turn Around',
  'Nocturnidad',
  'Dietas',
  'Kilometraje',
  'Transporte'
]
[NOMINA.GCVC] Found direct match: G__John Doe Transporte 2023-01-01 = SI
[NOMINA.AGG] iso 2023-01-01 he 2 ta 1 noct SI noctYes true pen undefined penYes false transp SI transpYes true
[NOMINA.GCVC] Looking for [ 'Kilometraje', 'KM', 'Km' ] on 2023-01-01 in keys: [
  'G__John Doe',
  'GP__John Doe',
  'GR__John Doe',
  'G.pre__John Doe',
  'G.pick__John Doe',
  'G_pre__John Doe',
  'G_pick__John Doe'
]
[NOMINA.GCVC] No data for key: G.pre__John Doe
[NOMINA.GCVC] No data for key: G.pick__John Doe
[NOMINA.GCVC] Found data for key: G__John Doe columns: [
  'Horas extra',
  'Turn Around',
  'Nocturnidad',
  'Dietas',
  'Kilometraje',
  'Transporte'
]
[NOMINA.GCVC] Found direct match: G__John Doe Kilometraje 2023-01-01 = 50
[NOMINA.GCVC] Looking for [ 'Dietas', 'Dietas / Ticket', 'Ticket', 'Tickets' ] on 2023-01-01 in keys: [ 'G__John Doe' ]
[NOMINA.GCVC] Found data for key: G__John Doe columns: [
  'Horas extra',
  'Turn Around',
  'Nocturnidad',
  'Dietas',
  'Kilometraje',
  'Transporte'
]
[NOMINA.GCVC] Found direct match: G__John Doe Dietas 2023-01-01 = Comida
[NOMINA.SKV] G__John Doe => 7 variants: [
  'G__John Doe',
  'GP__John Doe',
  'GR__John Doe',
  'G.pre__John Doe',
  'G.pick__John Doe',
  'G_pre__John Doe',
  'G_pick__John Doe'
]
[NOMINA.AGG] week agg person= John Doe roleVis= G pk= G__John Doe iso= 2023-01-02 keysToUse= [
  'G__John Doe',
  'GP__John Doe',
  'GR__John Doe',
  'G.pre__John Doe',
  'G.pick__John Doe',
  'G_pre__John Doe',
  'G_pick__John Doe'
]
[NOMINA.GCVC] Looking for [ 'Horas extra', 'Horas extras', 'HE' ] on 2023-01-02 in keys: [
  'G__John Doe',
  'GP__John Doe',
  'GR__John Doe',
  'G.pre__John Doe',
  'G.pick__John Doe',
  'G_pre__John Doe',
  'G_pick__John Doe'
]
[NOMINA.GCVC] No data for key: G.pre__John Doe
[NOMINA.GCVC] No data for key: G.pick__John Doe
[NOMINA.GCVC] Found data for key: G__John Doe columns: [
  'Horas extra',
  'Turn Around',
  'Nocturnidad',
  'Dietas',
  'Kilometraje',
  'Transporte'
]
[NOMINA.GCVC] No data for key: GP__John Doe
[NOMINA.GCVC] No data for key: GR__John Doe
[NOMINA.GCVC] No data for key: G_pre__John Doe
[NOMINA.GCVC] No data for key: G_pick__John Doe
[NOMINA.GCVC] No match found for [ 'Horas extra', 'Horas extras', 'HE' ] on 2023-01-02
[NOMINA.GCVC] Looking for [ 'Turn Around', 'TA' ] on 2023-01-02 in keys: [
  'G__John Doe',
  'GP__John Doe',
  'GR__John Doe',
  'G.pre__John Doe',
  'G.pick__John Doe',
  'G_pre__John Doe',
  'G_pick__John Doe'
]
[NOMINA.GCVC] No data for key: G.pre__John Doe
[NOMINA.GCVC] No data for key: G.pick__John Doe
[NOMINA.GCVC] Found data for key: G__John Doe columns: [
  'Horas extra',
  'Turn Around',
  'Nocturnidad',
  'Dietas',
  'Kilometraje',
  'Transporte'
]
[NOMINA.GCVC] No data for key: GP__John Doe
[NOMINA.GCVC] No data for key: GR__John Doe
[NOMINA.GCVC] No data for key: G_pre__John Doe
[NOMINA.GCVC] No data for key: G_pick__John Doe
[NOMINA.GCVC] No match found for [ 'Turn Around', 'TA' ] on 2023-01-02
[NOMINA.GCVC] Looking for [ 'Nocturnidad', 'Noct', 'Nocturnidades' ] on 2023-01-02 in keys: [
  'G__John Doe',
  'GP__John Doe',
  'GR__John Doe',
  'G.pre__John Doe',
  'G.pick__John Doe',
  'G_pre__John Doe',
  'G_pick__John Doe'
]
[NOMINA.GCVC] No data for key: G.pre__John Doe
[NOMINA.GCVC] No data for key: G.pick__John Doe
[NOMINA.GCVC] Found data for key: G__John Doe columns: [
  'Horas extra',
  'Turn Around',
  'Nocturnidad',
  'Dietas',
  'Kilometraje',
  'Transporte'
]
[NOMINA.GCVC] No data for key: GP__John Doe
[NOMINA.GCVC] No data for key: GR__John Doe
[NOMINA.GCVC] No data for key: G_pre__John Doe
[NOMINA.GCVC] No data for key: G_pick__John Doe
[NOMINA.GCVC] No match found for [ 'Nocturnidad', 'Noct', 'Nocturnidades' ] on 2023-01-02
[NOMINA.GCVC] Looking for [ 'Penalty lunch', 'Penalty Lunch', 'Penalty', 'PL' ] on 2023-01-02 in keys: [
  'G__John Doe',
  'GP__John Doe',
  'GR__John Doe',
  'G.pre__John Doe',
  'G.pick__John Doe',
  'G_pre__John Doe',
  'G_pick__John Doe'
]
[NOMINA.GCVC] No data for key: G.pre__John Doe
[NOMINA.GCVC] No data for key: G.pick__John Doe
[NOMINA.GCVC] Found data for key: G__John Doe columns: [
  'Horas extra',
  'Turn Around',
  'Nocturnidad',
  'Dietas',
  'Kilometraje',
  'Transporte'
]
[NOMINA.GCVC] No data for key: GP__John Doe
[NOMINA.GCVC] No data for key: GR__John Doe
[NOMINA.GCVC] No data for key: G_pre__John Doe
[NOMINA.GCVC] No data for key: G_pick__John Doe
[NOMINA.GCVC] No match found for [ 'Penalty lunch', 'Penalty Lunch', 'Penalty', 'PL' ] on 2023-01-02
[NOMINA.GCVC] Looking for [ 'Transporte', 'Transportes' ] on 2023-01-02 in keys: [
  'G__John Doe',
  'GP__John Doe',
  'GR__John Doe',
  'G.pre__John Doe',
  'G.pick__John Doe',
  'G_pre__John Doe',
  'G_pick__John Doe'
]
[NOMINA.GCVC] No data for key: G.pre__John Doe
[NOMINA.GCVC] No data for key: G.pick__John Doe
[NOMINA.GCVC] Found data for key: G__John Doe columns: [
  'Horas extra',
  'Turn Around',
  'Nocturnidad',
  'Dietas',
  'Kilometraje',
  'Transporte'
]
[NOMINA.GCVC] No data for key: GP__John Doe
[NOMINA.GCVC] No data for key: GR__John Doe
[NOMINA.GCVC] No data for key: G_pre__John Doe
[NOMINA.GCVC] No data for key: G_pick__John Doe
[NOMINA.GCVC] No match found for [ 'Transporte', 'Transportes' ] on 2023-01-02
[NOMINA.AGG] iso 2023-01-02 he 0 ta 0 noct undefined noctYes false pen undefined penYes false transp undefined transpYes false
[NOMINA.GCVC] Looking for [ 'Kilometraje', 'KM', 'Km' ] on 2023-01-02 in keys: [
  'G__John Doe',
  'GP__John Doe',
  'GR__John Doe',
  'G.pre__John Doe',
  'G.pick__John Doe',
  'G_pre__John Doe',
  'G_pick__John Doe'
]
[NOMINA.GCVC] No data for key: G.pre__John Doe
[NOMINA.GCVC] No data for key: G.pick__John Doe
[NOMINA.GCVC] Found data for key: G__John Doe columns: [
  'Horas extra',
  'Turn Around',
  'Nocturnidad',
  'Dietas',
  'Kilometraje',
  'Transporte'
]
[NOMINA.GCVC] No data for key: GP__John Doe
[NOMINA.GCVC] No data for key: GR__John Doe
[NOMINA.GCVC] No data for key: G_pre__John Doe
[NOMINA.GCVC] No data for key: G_pick__John Doe
[NOMINA.GCVC] No match found for [ 'Kilometraje', 'KM', 'Km' ] on 2023-01-02
[NOMINA.GCVC] Looking for [ 'Dietas', 'Dietas / Ticket', 'Ticket', 'Tickets' ] on 2023-01-02 in keys: [ 'G__John Doe' ]
[NOMINA.GCVC] Found data for key: G__John Doe columns: [
  'Horas extra',
  'Turn Around',
  'Nocturnidad',
  'Dietas',
  'Kilometraje',
  'Transporte'
]
[NOMINA.GCVC] No match found for [ 'Dietas', 'Dietas / Ticket', 'Ticket', 'Tickets' ] on 2023-01-02
[NOMINA.SKV] E__Jane Smith => 7 variants: [
  'E__Jane Smith',
  'EP__Jane Smith',
  'ER__Jane Smith',
  'E.pre__Jane Smith',
  'E.pick__Jane Smith',
  'E_pre__Jane Smith',
  'E_pick__Jane Smith'
]
[NOMINA.AGG] week agg person= Jane Smith roleVis= E pk= E__Jane Smith iso= 2023-01-01 keysToUse= [
  'E__Jane Smith',
  'EP__Jane Smith',
  'ER__Jane Smith',
  'E.pre__Jane Smith',
  'E.pick__Jane Smith',
  'E_pre__Jane Smith',
  'E_pick__Jane Smith'
]
[NOMINA.GCVC] Looking for [ 'Horas extra', 'Horas extras', 'HE' ] on 2023-01-01 in keys: [
  'E__Jane Smith',
  'EP__Jane Smith',
  'ER__Jane Smith',
  'E.pre__Jane Smith',
  'E.pick__Jane Smith',
  'E_pre__Jane Smith',
  'E_pick__Jane Smith'
]
[NOMINA.GCVC] No data for key: E.pre__Jane Smith
[NOMINA.GCVC] No data for key: E.pick__Jane Smith
[NOMINA.GCVC] No data for key: E__Jane Smith
[NOMINA.GCVC] No data for key: EP__Jane Smith
[NOMINA.GCVC] No data for key: ER__Jane Smith
[NOMINA.GCVC] No data for key: E_pre__Jane Smith
[NOMINA.GCVC] No data for key: E_pick__Jane Smith
[NOMINA.GCVC] No match found for [ 'Horas extra', 'Horas extras', 'HE' ] on 2023-01-01
[NOMINA.GCVC] Looking for [ 'Turn Around', 'TA' ] on 2023-01-01 in keys: [
  'E__Jane Smith',
  'EP__Jane Smith',
  'ER__Jane Smith',
  'E.pre__Jane Smith',
  'E.pick__Jane Smith',
  'E_pre__Jane Smith',
  'E_pick__Jane Smith'
]
[NOMINA.GCVC] No data for key: E.pre__Jane Smith
[NOMINA.GCVC] No data for key: E.pick__Jane Smith
[NOMINA.GCVC] No data for key: E__Jane Smith
[NOMINA.GCVC] No data for key: EP__Jane Smith
[NOMINA.GCVC] No data for key: ER__Jane Smith
[NOMINA.GCVC] No data for key: E_pre__Jane Smith
[NOMINA.GCVC] No data for key: E_pick__Jane Smith
[NOMINA.GCVC] No match found for [ 'Turn Around', 'TA' ] on 2023-01-01
[NOMINA.GCVC] Looking for [ 'Nocturnidad', 'Noct', 'Nocturnidades' ] on 2023-01-01 in keys: [
  'E__Jane Smith',
  'EP__Jane Smith',
  'ER__Jane Smith',
  'E.pre__Jane Smith',
  'E.pick__Jane Smith',
  'E_pre__Jane Smith',
  'E_pick__Jane Smith'
]
[NOMINA.GCVC] No data for key: E.pre__Jane Smith
[NOMINA.GCVC] No data for key: E.pick__Jane Smith
[NOMINA.GCVC] No data for key: E__Jane Smith
[NOMINA.GCVC] No data for key: EP__Jane Smith
[NOMINA.GCVC] No data for key: ER__Jane Smith
[NOMINA.GCVC] No data for key: E_pre__Jane Smith
[NOMINA.GCVC] No data for key: E_pick__Jane Smith
[NOMINA.GCVC] No match found for [ 'Nocturnidad', 'Noct', 'Nocturnidades' ] on 2023-01-01
[NOMINA.GCVC] Looking for [ 'Penalty lunch', 'Penalty Lunch', 'Penalty', 'PL' ] on 2023-01-01 in keys: [
  'E__Jane Smith',
  'EP__Jane Smith',
  'ER__Jane Smith',
  'E.pre__Jane Smith',
  'E.pick__Jane Smith',
  'E_pre__Jane Smith',
  'E_pick__Jane Smith'
]
[NOMINA.GCVC] No data for key: E.pre__Jane Smith
[NOMINA.GCVC] No data for key: E.pick__Jane Smith
[NOMINA.GCVC] No data for key: E__Jane Smith
[NOMINA.GCVC] No data for key: EP__Jane Smith
[NOMINA.GCVC] No data for key: ER__Jane Smith
[NOMINA.GCVC] No data for key: E_pre__Jane Smith
[NOMINA.GCVC] No data for key: E_pick__Jane Smith
[NOMINA.GCVC] No match found for [ 'Penalty lunch', 'Penalty Lunch', 'Penalty', 'PL' ] on 2023-01-01
[NOMINA.GCVC] Looking for [ 'Transporte', 'Transportes' ] on 2023-01-01 in keys: [
  'E__Jane Smith',
  'EP__Jane Smith',
  'ER__Jane Smith',
  'E.pre__Jane Smith',
  'E.pick__Jane Smith',
  'E_pre__Jane Smith',
  'E_pick__Jane Smith'
]
[NOMINA.GCVC] No data for key: E.pre__Jane Smith
[NOMINA.GCVC] No data for key: E.pick__Jane Smith
[NOMINA.GCVC] No data for key: E__Jane Smith
[NOMINA.GCVC] No data for key: EP__Jane Smith
[NOMINA.GCVC] No data for key: ER__Jane Smith
[NOMINA.GCVC] No data for key: E_pre__Jane Smith
[NOMINA.GCVC] No data for key: E_pick__Jane Smith
[NOMINA.GCVC] No match found for [ 'Transporte', 'Transportes' ] on 2023-01-01
[NOMINA.AGG] iso 2023-01-01 he 0 ta 0 noct undefined noctYes false pen undefined penYes false transp undefined transpYes false
[NOMINA.GCVC] Looking for [ 'Kilometraje', 'KM', 'Km' ] on 2023-01-01 in keys: [
  'E__Jane Smith',
  'EP__Jane Smith',
  'ER__Jane Smith',
  'E.pre__Jane Smith',
  'E.pick__Jane Smith',
  'E_pre__Jane Smith',
  'E_pick__Jane Smith'
]
[NOMINA.GCVC] No data for key: E.pre__Jane Smith
[NOMINA.GCVC] No data for key: E.pick__Jane Smith
[NOMINA.GCVC] No data for key: E__Jane Smith
[NOMINA.GCVC] No data for key: EP__Jane Smith
[NOMINA.GCVC] No data for key: ER__Jane Smith
[NOMINA.GCVC] No data for key: E_pre__Jane Smith
[NOMINA.GCVC] No data for key: E_pick__Jane Smith
[NOMINA.GCVC] No match found for [ 'Kilometraje', 'KM', 'Km' ] on 2023-01-01
[NOMINA.GCVC] Looking for [ 'Dietas', 'Dietas / Ticket', 'Ticket', 'Tickets' ] on 2023-01-01 in keys: [ 'E__Jane Smith' ]
[NOMINA.GCVC] No data for key: E__Jane Smith
[NOMINA.GCVC] No match found for [ 'Dietas', 'Dietas / Ticket', 'Ticket', 'Tickets' ] on 2023-01-01
[NOMINA.SKV] E__Jane Smith => 7 variants: [
  'E__Jane Smith',
  'EP__Jane Smith',
  'ER__Jane Smith',
  'E.pre__Jane Smith',
  'E.pick__Jane Smith',
  'E_pre__Jane Smith',
  'E_pick__Jane Smith'
]
[NOMINA.AGG] week agg person= Jane Smith roleVis= E pk= E__Jane Smith iso= 2023-01-02 keysToUse= [
  'E__Jane Smith',
  'EP__Jane Smith',
  'ER__Jane Smith',
  'E.pre__Jane Smith',
  'E.pick__Jane Smith',
  'E_pre__Jane Smith',
  'E_pick__Jane Smith'
]
[NOMINA.GCVC] Looking for [ 'Horas extra', 'Horas extras', 'HE' ] on 2023-01-02 in keys: [
  'E__Jane Smith',
  'EP__Jane Smith',
  'ER__Jane Smith',
  'E.pre__Jane Smith',
  'E.pick__Jane Smith',
  'E_pre__Jane Smith',
  'E_pick__Jane Smith'
]
[NOMINA.GCVC] No data for key: E.pre__Jane Smith
[NOMINA.GCVC] No data for key: E.pick__Jane Smith
[NOMINA.GCVC] No data for key: E__Jane Smith
[NOMINA.GCVC] No data for key: EP__Jane Smith
[NOMINA.GCVC] No data for key: ER__Jane Smith
[NOMINA.GCVC] No data for key: E_pre__Jane Smith
[NOMINA.GCVC] No data for key: E_pick__Jane Smith
[NOMINA.GCVC] No match found for [ 'Horas extra', 'Horas extras', 'HE' ] on 2023-01-02
[NOMINA.GCVC] Looking for [ 'Turn Around', 'TA' ] on 2023-01-02 in keys: [
  'E__Jane Smith',
  'EP__Jane Smith',
  'ER__Jane Smith',
  'E.pre__Jane Smith',
  'E.pick__Jane Smith',
  'E_pre__Jane Smith',
  'E_pick__Jane Smith'
]
[NOMINA.GCVC] No data for key: E.pre__Jane Smith
[NOMINA.GCVC] No data for key: E.pick__Jane Smith
[NOMINA.GCVC] No data for key: E__Jane Smith
[NOMINA.GCVC] No data for key: EP__Jane Smith
[NOMINA.GCVC] No data for key: ER__Jane Smith
[NOMINA.GCVC] No data for key: E_pre__Jane Smith
[NOMINA.GCVC] No data for key: E_pick__Jane Smith
[NOMINA.GCVC] No match found for [ 'Turn Around', 'TA' ] on 2023-01-02
[NOMINA.GCVC] Looking for [ 'Nocturnidad', 'Noct', 'Nocturnidades' ] on 2023-01-02 in keys: [
  'E__Jane Smith',
  'EP__Jane Smith',
  'ER__Jane Smith',
  'E.pre__Jane Smith',
  'E.pick__Jane Smith',
  'E_pre__Jane Smith',
  'E_pick__Jane Smith'
]
[NOMINA.GCVC] No data for key: E.pre__Jane Smith
[NOMINA.GCVC] No data for key: E.pick__Jane Smith
[NOMINA.GCVC] No data for key: E__Jane Smith
[NOMINA.GCVC] No data for key: EP__Jane Smith
[NOMINA.GCVC] No data for key: ER__Jane Smith
[NOMINA.GCVC] No data for key: E_pre__Jane Smith
[NOMINA.GCVC] No data for key: E_pick__Jane Smith
[NOMINA.GCVC] No match found for [ 'Nocturnidad', 'Noct', 'Nocturnidades' ] on 2023-01-02
[NOMINA.GCVC] Looking for [ 'Penalty lunch', 'Penalty Lunch', 'Penalty', 'PL' ] on 2023-01-02 in keys: [
  'E__Jane Smith',
  'EP__Jane Smith',
  'ER__Jane Smith',
  'E.pre__Jane Smith',
  'E.pick__Jane Smith',
  'E_pre__Jane Smith',
  'E_pick__Jane Smith'
]
[NOMINA.GCVC] No data for key: E.pre__Jane Smith
[NOMINA.GCVC] No data for key: E.pick__Jane Smith
[NOMINA.GCVC] No data for key: E__Jane Smith
[NOMINA.GCVC] No data for key: EP__Jane Smith
[NOMINA.GCVC] No data for key: ER__Jane Smith
[NOMINA.GCVC] No data for key: E_pre__Jane Smith
[NOMINA.GCVC] No data for key: E_pick__Jane Smith
[NOMINA.GCVC] No match found for [ 'Penalty lunch', 'Penalty Lunch', 'Penalty', 'PL' ] on 2023-01-02
[NOMINA.GCVC] Looking for [ 'Transporte', 'Transportes' ] on 2023-01-02 in keys: [
  'E__Jane Smith',
  'EP__Jane Smith',
  'ER__Jane Smith',
  'E.pre__Jane Smith',
  'E.pick__Jane Smith',
  'E_pre__Jane Smith',
  'E_pick__Jane Smith'
]
[NOMINA.GCVC] No data for key: E.pre__Jane Smith
[NOMINA.GCVC] No data for key: E.pick__Jane Smith
[NOMINA.GCVC] No data for key: E__Jane Smith
[NOMINA.GCVC] No data for key: EP__Jane Smith
[NOMINA.GCVC] No data for key: ER__Jane Smith
[NOMINA.GCVC] No data for key: E_pre__Jane Smith
[NOMINA.GCVC] No data for key: E_pick__Jane Smith
[NOMINA.GCVC] No match found for [ 'Transporte', 'Transportes' ] on 2023-01-02
[NOMINA.AGG] iso 2023-01-02 he 0 ta 0 noct undefined noctYes false pen undefined penYes false transp undefined transpYes false
[NOMINA.GCVC] Looking for [ 'Kilometraje', 'KM', 'Km' ] on 2023-01-02 in keys: [
  'E__Jane Smith',
  'EP__Jane Smith',
  'ER__Jane Smith',
  'E.pre__Jane Smith',
  'E.pick__Jane Smith',
  'E_pre__Jane Smith',
  'E_pick__Jane Smith'
]
[NOMINA.GCVC] No data for key: E.pre__Jane Smith
[NOMINA.GCVC] No data for key: E.pick__Jane Smith
[NOMINA.GCVC] No data for key: E__Jane Smith
[NOMINA.GCVC] No data for key: EP__Jane Smith
[NOMINA.GCVC] No data for key: ER__Jane Smith
[NOMINA.GCVC] No data for key: E_pre__Jane Smith
[NOMINA.GCVC] No data for key: E_pick__Jane Smith
[NOMINA.GCVC] No match found for [ 'Kilometraje', 'KM', 'Km' ] on 2023-01-02
[NOMINA.GCVC] Looking for [ 'Dietas', 'Dietas / Ticket', 'Ticket', 'Tickets' ] on 2023-01-02 in keys: [ 'E__Jane Smith' ]
[NOMINA.GCVC] No data for key: E__Jane Smith
[NOMINA.GCVC] No match found for [ 'Dietas', 'Dietas / Ticket', 'Ticket', 'Tickets' ] on 2023-01-02

stdout | src/features/nomina/utils/calc.test.jsx > nomina/utils/calc > aggregateReports > handles empty weeks array
[NOMINA.MAIN] aggregateReports - project type: semanal

stdout | src/features/nomina/utils/calc.test.jsx > nomina/utils/calc > aggregateReports > filters by ISO dates when filter provided
[NOMINA.MAIN] aggregateReports - project type: semanal
[NOMINA.DEBUG] Semana reportes_test_2023-01-01_2023-01-02: {}
[NOMINA.DEBUG] Claves disponibles: []
[NOMINA.DEBUG] Claves que contienen "cccc": []

stdout | src/features/nomina/utils/calc.test.jsx > nomina/utils/calc > aggregateReports > handles localStorage errors gracefully
[NOMINA.MAIN] aggregateReports - project type: semanal
[NOMINA.DEBUG] Semana reportes_test_2023-01-01: {}
[NOMINA.DEBUG] Claves disponibles: []
[NOMINA.DEBUG] Claves que contienen "cccc": []

stdout | src/features/nomina/utils/calc.test.jsx > nomina/utils/calc > aggregateReports > handles penalty lunch correctly
[NOMINA.MAIN] aggregateReports - project type: semanal
[NOMINA.DEBUG] Semana reportes_test_2023-01-01: { G__John: { 'Penalty lunch': { '2023-01-01': 'SI' } } }
[NOMINA.DEBUG] Claves disponibles: [ 'G__John' ]
[NOMINA.DEBUG] Claves que contienen "cccc": []
[NOMINA.SKV] G__John => 7 variants: [
  'G__John',
  'GP__John',
  'GR__John',
  'G.pre__John',
  'G.pick__John',
  'G_pre__John',
  'G_pick__John'
]
[NOMINA.AGG] week agg person= John roleVis= G pk= G__John iso= 2023-01-01 keysToUse= [
  'G__John',
  'GP__John',
  'GR__John',
  'G.pre__John',
  'G.pick__John',
  'G_pre__John',
  'G_pick__John'
]
[NOMINA.GCVC] Looking for [ 'Horas extra', 'Horas extras', 'HE' ] on 2023-01-01 in keys: [
  'G__John',
  'GP__John',
  'GR__John',
  'G.pre__John',
  'G.pick__John',
  'G_pre__John',
  'G_pick__John'
]
[NOMINA.GCVC] No data for key: G.pre__John
[NOMINA.GCVC] No data for key: G.pick__John
[NOMINA.GCVC] Found data for key: G__John columns: [ 'Penalty lunch' ]
[NOMINA.GCVC] No data for key: GP__John
[NOMINA.GCVC] No data for key: GR__John
[NOMINA.GCVC] No data for key: G_pre__John
[NOMINA.GCVC] No data for key: G_pick__John
[NOMINA.GCVC] No match found for [ 'Horas extra', 'Horas extras', 'HE' ] on 2023-01-01
[NOMINA.GCVC] Looking for [ 'Turn Around', 'TA' ] on 2023-01-01 in keys: [
  'G__John',
  'GP__John',
  'GR__John',
  'G.pre__John',
  'G.pick__John',
  'G_pre__John',
  'G_pick__John'
]
[NOMINA.GCVC] No data for key: G.pre__John
[NOMINA.GCVC] No data for key: G.pick__John
[NOMINA.GCVC] Found data for key: G__John columns: [ 'Penalty lunch' ]
[NOMINA.GCVC] No data for key: GP__John
[NOMINA.GCVC] No data for key: GR__John
[NOMINA.GCVC] No data for key: G_pre__John
[NOMINA.GCVC] No data for key: G_pick__John
[NOMINA.GCVC] No match found for [ 'Turn Around', 'TA' ] on 2023-01-01
[NOMINA.GCVC] Looking for [ 'Nocturnidad', 'Noct', 'Nocturnidades' ] on 2023-01-01 in keys: [
  'G__John',
  'GP__John',
  'GR__John',
  'G.pre__John',
  'G.pick__John',
  'G_pre__John',
  'G_pick__John'
]
[NOMINA.GCVC] No data for key: G.pre__John
[NOMINA.GCVC] No data for key: G.pick__John
[NOMINA.GCVC] Found data for key: G__John columns: [ 'Penalty lunch' ]
[NOMINA.GCVC] No data for key: GP__John
[NOMINA.GCVC] No data for key: GR__John
[NOMINA.GCVC] No data for key: G_pre__John
[NOMINA.GCVC] No data for key: G_pick__John
[NOMINA.GCVC] No match found for [ 'Nocturnidad', 'Noct', 'Nocturnidades' ] on 2023-01-01
[NOMINA.GCVC] Looking for [ 'Penalty lunch', 'Penalty Lunch', 'Penalty', 'PL' ] on 2023-01-01 in keys: [
  'G__John',
  'GP__John',
  'GR__John',
  'G.pre__John',
  'G.pick__John',
  'G_pre__John',
  'G_pick__John'
]
[NOMINA.GCVC] No data for key: G.pre__John
[NOMINA.GCVC] No data for key: G.pick__John
[NOMINA.GCVC] Found data for key: G__John columns: [ 'Penalty lunch' ]
[NOMINA.GCVC] Found direct match: G__John Penalty lunch 2023-01-01 = SI
[NOMINA.GCVC] Looking for [ 'Transporte', 'Transportes' ] on 2023-01-01 in keys: [
  'G__John',
  'GP__John',
  'GR__John',
  'G.pre__John',
  'G.pick__John',
  'G_pre__John',
  'G_pick__John'
]
[NOMINA.GCVC] No data for key: G.pre__John
[NOMINA.GCVC] No data for key: G.pick__John
[NOMINA.GCVC] Found data for key: G__John columns: [ 'Penalty lunch' ]
[NOMINA.GCVC] No data for key: GP__John
[NOMINA.GCVC] No data for key: GR__John
[NOMINA.GCVC] No data for key: G_pre__John
[NOMINA.GCVC] No data for key: G_pick__John
[NOMINA.GCVC] No match found for [ 'Transporte', 'Transportes' ] on 2023-01-01
[NOMINA.AGG] iso 2023-01-01 he 0 ta 0 noct undefined noctYes false pen SI penYes true transp undefined transpYes false
[NOMINA.GCVC] Looking for [ 'Kilometraje', 'KM', 'Km' ] on 2023-01-01 in keys: [
  'G__John',
  'GP__John',
  'GR__John',
  'G.pre__John',
  'G.pick__John',
  'G_pre__John',
  'G_pick__John'
]
[NOMINA.GCVC] No data for key: G.pre__John
[NOMINA.GCVC] No data for key: G.pick__John
[NOMINA.GCVC] Found data for key: G__John columns: [ 'Penalty lunch' ]
[NOMINA.GCVC] No data for key: GP__John
[NOMINA.GCVC] No data for key: GR__John
[NOMINA.GCVC] No data for key: G_pre__John
[NOMINA.GCVC] No data for key: G_pick__John
[NOMINA.GCVC] No match found for [ 'Kilometraje', 'KM', 'Km' ] on 2023-01-01
[NOMINA.GCVC] Looking for [ 'Dietas', 'Dietas / Ticket', 'Ticket', 'Tickets' ] on 2023-01-01 in keys: [ 'G__John' ]
[NOMINA.GCVC] Found data for key: G__John columns: [ 'Penalty lunch' ]
[NOMINA.GCVC] No match found for [ 'Dietas', 'Dietas / Ticket', 'Ticket', 'Tickets' ] on 2023-01-01

stdout | src/features/nomina/utils/calc.test.jsx > nomina/utils/calc > getCondParams > returns params from project conditions
[NOMINA.MAIN] getCondParams - project type: semanal

stdout | src/features/nomina/utils/calc.test.jsx > nomina/utils/calc > getCondParams > returns empty object when no model found
[NOMINA.MAIN] getCondParams - project type: semanal

stdout | src/features/nomina/utils/calc.test.jsx > nomina/utils/calc > getOvertimeWindowForPayrollMonth > returns valid date range for valid parameters
[NOMINA.MAIN] getOvertimeWindowForPayrollMonth - project type: semanal

stdout | src/features/nomina/utils/calc.test.jsx > nomina/utils/calc > getOvertimeWindowForPayrollMonth > returns null for invalid day parameters
[NOMINA.MAIN] getOvertimeWindowForPayrollMonth - project type: semanal

stdout | src/features/nomina/utils/calc.test.jsx > nomina/utils/calc > getOvertimeWindowForPayrollMonth > returns null for missing parameters
[NOMINA.MAIN] getOvertimeWindowForPayrollMonth - project type: semanal

stdout | src/features/nomina/utils/calc.test.jsx > nomina/utils/calc > getOvertimeWindowForPayrollMonth > returns null for non-integer parameters
[NOMINA.MAIN] getOvertimeWindowForPayrollMonth - project type: semanal

stdout | src/features/nomina/utils/calc.test.jsx > nomina/utils/calc > getOvertimeWindowForPayrollMonth > handles edge case day 1
[NOMINA.MAIN] getOvertimeWindowForPayrollMonth - project type: semanal

stdout | src/features/nomina/utils/calc.test.jsx > nomina/utils/calc > getOvertimeWindowForPayrollMonth > handles edge case day 31
[NOMINA.MAIN] getOvertimeWindowForPayrollMonth - project type: semanal

stdout | src/features/nomina/utils/calc.test.jsx > nomina/utils/calc > aggregateWindowedReport > aggregates windowed reports correctly
[NOMINA.MAIN] aggregateWindowedReport - project type: semanal
[NOMINA.SKV] G__John => 7 variants: [
  'G__John',
  'GP__John',
  'GR__John',
  'G.pre__John',
  'G.pick__John',
  'G_pre__John',
  'G_pick__John'
]
[NOMINA.AGG] window agg roleVis= G sk= G__John iso= 2023-01-01 keysToUse= [
  'G__John',
  'GP__John',
  'GR__John',
  'G.pre__John',
  'G.pick__John',
  'G_pre__John',
  'G_pick__John'
]
[NOMINA.GCVC] Looking for [ 'Horas extra', 'Horas extras', 'HE' ] on 2023-01-01 in keys: [
  'G__John',
  'GP__John',
  'GR__John',
  'G.pre__John',
  'G.pick__John',
  'G_pre__John',
  'G_pick__John'
]
[NOMINA.GCVC] No data for key: G.pre__John
[NOMINA.GCVC] No data for key: G.pick__John
[NOMINA.GCVC] Found data for key: G__John columns: [ 'Horas extra', 'Dietas' ]
[NOMINA.GCVC] Found direct match: G__John Horas extra 2023-01-01 = 2
[NOMINA.GCVC] Looking for [ 'Turn Around', 'TA' ] on 2023-01-01 in keys: [
  'G__John',
  'GP__John',
  'GR__John',
  'G.pre__John',
  'G.pick__John',
  'G_pre__John',
  'G_pick__John'
]
[NOMINA.GCVC] No data for key: G.pre__John
[NOMINA.GCVC] No data for key: G.pick__John
[NOMINA.GCVC] Found data for key: G__John columns: [ 'Horas extra', 'Dietas' ]
[NOMINA.GCVC] No data for key: GP__John
[NOMINA.GCVC] No data for key: GR__John
[NOMINA.GCVC] No data for key: G_pre__John
[NOMINA.GCVC] No data for key: G_pick__John
[NOMINA.GCVC] No match found for [ 'Turn Around', 'TA' ] on 2023-01-01
[NOMINA.GCVC] Looking for [ 'Nocturnidad', 'Noct', 'Nocturnidades' ] on 2023-01-01 in keys: [
  'G__John',
  'GP__John',
  'GR__John',
  'G.pre__John',
  'G.pick__John',
  'G_pre__John',
  'G_pick__John'
]
[NOMINA.GCVC] No data for key: G.pre__John
[NOMINA.GCVC] No data for key: G.pick__John
[NOMINA.GCVC] Found data for key: G__John columns: [ 'Horas extra', 'Dietas' ]
[NOMINA.GCVC] No data for key: GP__John
[NOMINA.GCVC] No data for key: GR__John
[NOMINA.GCVC] No data for key: G_pre__John
[NOMINA.GCVC] No data for key: G_pick__John
[NOMINA.GCVC] No match found for [ 'Nocturnidad', 'Noct', 'Nocturnidades' ] on 2023-01-01
[NOMINA.GCVC] Looking for [ 'Penalty lunch', 'Penalty Lunch', 'Penalty', 'PL' ] on 2023-01-01 in keys: [
  'G__John',
  'GP__John',
  'GR__John',
  'G.pre__John',
  'G.pick__John',
  'G_pre__John',
  'G_pick__John'
]
[NOMINA.GCVC] No data for key: G.pre__John
[NOMINA.GCVC] No data for key: G.pick__John
[NOMINA.GCVC] Found data for key: G__John columns: [ 'Horas extra', 'Dietas' ]
[NOMINA.GCVC] No data for key: GP__John
[NOMINA.GCVC] No data for key: GR__John
[NOMINA.GCVC] No data for key: G_pre__John
[NOMINA.GCVC] No data for key: G_pick__John
[NOMINA.GCVC] No match found for [ 'Penalty lunch', 'Penalty Lunch', 'Penalty', 'PL' ] on 2023-01-01
[NOMINA.GCVC] Looking for [ 'Transporte', 'Transportes' ] on 2023-01-01 in keys: [
  'G__John',
  'GP__John',
  'GR__John',
  'G.pre__John',
  'G.pick__John',
  'G_pre__John',
  'G_pick__John'
]
[NOMINA.GCVC] No data for key: G.pre__John
[NOMINA.GCVC] No data for key: G.pick__John
[NOMINA.GCVC] Found data for key: G__John columns: [ 'Horas extra', 'Dietas' ]
[NOMINA.GCVC] No data for key: GP__John
[NOMINA.GCVC] No data for key: GR__John
[NOMINA.GCVC] No data for key: G_pre__John
[NOMINA.GCVC] No data for key: G_pick__John
[NOMINA.GCVC] No match found for [ 'Transporte', 'Transportes' ] on 2023-01-01
[NOMINA.AGG] iso 2023-01-01 he+ ta added noct undefined noctYes false pen undefined penYes false transp undefined transpYes false
[NOMINA.GCVC] Looking for [ 'Kilometraje', 'KM', 'Km' ] on 2023-01-01 in keys: [
  'G__John',
  'GP__John',
  'GR__John',
  'G.pre__John',
  'G.pick__John',
  'G_pre__John',
  'G_pick__John'
]
[NOMINA.GCVC] No data for key: G.pre__John
[NOMINA.GCVC] No data for key: G.pick__John
[NOMINA.GCVC] Found data for key: G__John columns: [ 'Horas extra', 'Dietas' ]
[NOMINA.GCVC] No data for key: GP__John
[NOMINA.GCVC] No data for key: GR__John
[NOMINA.GCVC] No data for key: G_pre__John
[NOMINA.GCVC] No data for key: G_pick__John
[NOMINA.GCVC] No match found for [ 'Kilometraje', 'KM', 'Km' ] on 2023-01-01
[NOMINA.GCVC] Looking for [ 'Dietas', 'Dietas / Ticket', 'Ticket', 'Tickets' ] on 2023-01-01 in keys: [ 'G__John' ]
[NOMINA.GCVC] Found data for key: G__John columns: [ 'Horas extra', 'Dietas' ]
[NOMINA.GCVC] Found direct match: G__John Dietas 2023-01-01 = Comida

stdout | src/features/nomina/utils/calc.test.jsx > nomina/utils/calc > aggregateWindowedReport > handles empty weeks
[NOMINA.MAIN] aggregateWindowedReport - project type: semanal

stdout | src/features/nomina/utils/calc.test.jsx > nomina/utils/calc > aggregateWindowedReport > handles localStorage errors gracefully
[NOMINA.MAIN] aggregateWindowedReport - project type: semanal

 ‚úì src/features/nomina/utils/calc.test.jsx (24 tests) 158ms
 ‚úì src/features/reportes/hooks/useCollapsedState.test.jsx (11 tests) 207ms
 ‚úì src/app/providers/AuthProvider.test.jsx (2 tests) 180ms
stdout | src/shared/services/holidays.service.test.ts > holidays.service (Calendarific) > fetchHolidays should return dates from Calendarific (with region)
üåç Calendarific ‚Üí https://calendarific.com/api/v2/holidays?api_key=test-key&country=ES&year=2025&location=ES-MD

stdout | src/shared/services/holidays.service.test.ts > holidays.service (Calendarific) > fetchHolidays should return dates from Calendarific (with region)
‚úÖ Calendarific ES-MD 2025: [ '2025-01-01', '2025-05-02' ]

stdout | src/shared/services/holidays.service.test.ts > holidays.service (Calendarific) > fetchHolidays should return dates from Calendarific (with region)
[STORAGE.DEBUG] setString called: holidays_v2_ES_2025_MD {"source":"calendarific","holidays":[{"date":"2025-01-01","name":"A√±o Nuevo","localName":"A√±o Nuevo"},{"date":"2025-01-06"},{"date":"2025-03-29"},{"date":"2025-04-01"},{"date":"2025-05-01"},{"date":"2025-05-02","name":"D√≠a de la Comunidad de Madrid","localName":"D√≠a de la Comunidad de Madrid"},{"date":"2025-05-15"},{"date":"2025-08-15"},{"date":"2025-10-12"},{"date":"2025-11-01"},{"date":"2025-12-06"},{"date":"2025-12-25"}],"expiresAt":1767485742844}
[STORAGE.DEBUG] setString success

stdout | src/shared/services/holidays.service.test.ts > holidays.service (Calendarific) > fetchHolidays fallback-local for ES if Calendarific fails
üåç Calendarific ‚Üí https://calendarific.com/api/v2/holidays?api_key=test-key&country=ES&year=2025&location=ES-CT

stdout | src/features/nomina/pages/NominaTab.test.jsx > NominaTab (smoke) > renderiza el mensaje vac√≠o de n√≥mina mensual
[NOMINA.TAB] mode: undefined project.conditions?.tipo: undefined
[NOMINA.TAB] project: { id: 'p1', nombre: 'Demo' }

stderr | src/features/nomina/pages/NominaTab.test.jsx > NominaTab (smoke) > renderiza el mensaje vac√≠o de n√≥mina mensual
‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

stderr | src/shared/services/holidays.service.test.ts > holidays.service (Calendarific) > fetchHolidays fallback-local for ES if Calendarific fails
‚ùå Calendarific error: Error: Calendarific failed: 500
    at fetchFromCalendarific (/Users/raul/Desktop/MIS COSAS/02_Set_Lux/SetLux_Beta/src/shared/services/holidays.service.ts:62:25)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at fetchHolidays (/Users/raul/Desktop/MIS COSAS/02_Set_Lux/SetLux_Beta/src/shared/services/holidays.service.ts:97:16)
    at /Users/raul/Desktop/MIS COSAS/02_Set_Lux/SetLux_Beta/src/shared/services/holidays.service.test.ts:61:34
    at file:///Users/raul/Desktop/MIS%20COSAS/02_Set_Lux/SetLux_Beta/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20

stdout | src/shared/services/holidays.service.test.ts > holidays.service (Calendarific) > fetchHolidays fallback-local for ES if Calendarific fails
[STORAGE.DEBUG] setString called: holidays_v2_ES_2025_CT {"source":"fallback-local","holidays":[{"date":"2025-01-01"},{"date":"2025-01-06"},{"date":"2025-03-29"},{"date":"2025-04-01"},{"date":"2025-05-01"},{"date":"2025-06-24"},{"date":"2025-08-15"},{"date":"2025-09-11"},{"date":"2025-11-01"},{"date":"2025-12-25"},{"date":"2025-12-26"}],"expiresAt":1767485742949}
[STORAGE.DEBUG] setString success

 ‚úì src/features/nomina/pages/NominaTab.test.jsx (1 test) 464ms
   ‚úì NominaTab (smoke) > renderiza el mensaje vac√≠o de n√≥mina mensual  461ms
 ‚úì src/shared/services/holidays.service.test.ts (3 tests) 209ms
stdout | src/features/nomina/nominas/index.test.jsx > nominas/index > makeRolePrices > creates role prices function with project data
[NOMINA.MAIN] makeRolePrices - project type: semanal
[NOMINA] makeRolePrices - model: {
  prices: {
    G: {
      'Precio jornada': '100',
      'Travel day': '50',
      'Horas extras': '15'
    },
    E: {
      'Precio jornada': '80',
      'Travel day': '40',
      'Horas extras': '12'
    }
  },
  params: {
    divTravel: '2',
    transporteDia: '20',
    kilometrajeKm: '0.5',
    dietaComida: '15',
    dietaCena: '25',
    dietaSinPernocta: '30',
    dietaAlojDes: '50',
    gastosBolsillo: '10'
  }
}
[NOMINA] makeRolePrices - priceRows: {
  G: { 'Precio jornada': '100', 'Travel day': '50', 'Horas extras': '15' },
  E: { 'Precio jornada': '80', 'Travel day': '40', 'Horas extras': '12' }
}
[NOMINA] makeRolePrices - params: {
  divTravel: '2',
  transporteDia: '20',
  kilometrajeKm: '0.5',
  dietaComida: '15',
  dietaCena: '25',
  dietaSinPernocta: '30',
  dietaAlojDes: '50',
  gastosBolsillo: '10'
}
[NOMINA] getForRole - roleCode: G baseRoleCode: null
[NOMINA] getForRole - normalized: G baseNorm: G
[NOMINA] getForRole - row for G => key: G { 'Precio jornada': '100', 'Travel day': '50', 'Horas extras': '15' }
[NOMINA] getForRole - baseRow for G => key: G { 'Precio jornada': '100', 'Travel day': '50', 'Horas extras': '15' }
[NOMINA] getForRole - elecRow => key: E { 'Precio jornada': '80', 'Travel day': '40', 'Horas extras': '12' }
[NOMINA] getForRole - calculating for non-REF role: G
[NOMINA] getNumField - candidates: [
  'Precio jornada',
  'Precio Jornada',
  'Jornada',
  'Precio dia',
  'Precio d√≠a'
]
[NOMINA] getNumField - row keys: [ 'Precio jornada', 'Travel day', 'Horas extras' ]
[NOMINA] getNumField - row: { 'Precio jornada': '100', 'Travel day': '50', 'Horas extras': '15' }
[NOMINA] getNumField - trying direct key "Precio jornada": 100
[NOMINA] getNumField - candidates: [
  'Travel day',
  'Travel Day',
  'Travel',
  'D√≠a de viaje',
  'Dia de viaje',
  'D√≠a travel',
  'Dia travel',
  'TD'
]
[NOMINA] getNumField - row keys: [ 'Precio jornada', 'Travel day', 'Horas extras' ]
[NOMINA] getNumField - row: { 'Precio jornada': '100', 'Travel day': '50', 'Horas extras': '15' }
[NOMINA] getNumField - trying direct key "Travel day": 50
[NOMINA] getNumField - candidates: [
  'Horas extras',
  'Horas Extras',
  'Hora extra',
  'Horas extra',
  'HE',
  'Hora Extra'
]
[NOMINA] getNumField - row keys: [ 'Precio jornada', 'Travel day', 'Horas extras' ]
[NOMINA] getNumField - row: { 'Precio jornada': '100', 'Travel day': '50', 'Horas extras': '15' }
[NOMINA] getNumField - trying direct key "Horas extras": 15
[NOMINA] getNumField - candidates: [
  'Precio D√≠a extra/Festivo',
  'Precio D√≠a extra/festivo',
  'D√≠a extra/Festivo',
  'D√≠a festivo',
  'Festivo'
]
[NOMINA] getNumField - row keys: [ 'Precio jornada', 'Travel day', 'Horas extras' ]
[NOMINA] getNumField - row: { 'Precio jornada': '100', 'Travel day': '50', 'Horas extras': '15' }
[NOMINA] getNumField - trying direct key "Precio D√≠a extra/Festivo": undefined
[NOMINA] getNumField - trying direct key "Precio D√≠a extra/festivo": undefined
[NOMINA] getNumField - trying direct key "D√≠a extra/Festivo": undefined
[NOMINA] getNumField - trying direct key "D√≠a festivo": undefined
[NOMINA] getNumField - trying direct key "Festivo": undefined
[NOMINA] getNumField - trying lowercase "precio d√≠a extra/festivo": undefined
[NOMINA] getNumField - trying lowercase "precio d√≠a extra/festivo": undefined
[NOMINA] getNumField - trying lowercase "d√≠a extra/festivo": undefined
[NOMINA] getNumField - trying lowercase "d√≠a festivo": undefined
[NOMINA] getNumField - trying lowercase "festivo": undefined
[NOMINA] getForRole - calculated values: { jornada: 100, travelDay: 50, horaExtra: 15 }
[NOMINA] getForRole - result for G : {
  jornada: 100,
  travelDay: 50,
  horaExtra: 15,
  holidayDay: 0,
  transporte: 20,
  km: 0.5,
  dietas: {
    Comida: 15,
    Cena: 25,
    'Dieta sin pernoctar': 30,
    'Dieta completa + desayuno': 50,
    'Gastos de bolsillo': 10
  }
}

stdout | src/features/nomina/nominas/index.test.jsx > nominas/index > makeRolePrices > handles REF role with base role fallback
[NOMINA.MAIN] makeRolePrices - project type: semanal
[NOMINA] makeRolePrices - model: {
  prices: {
    BB: {
      'Precio jornada': '90',
      'Travel day': '45',
      'Horas extras': '14'
    },
    E: {
      'Precio refuerzo': '70',
      'Precio jornada': '80',
      'Horas extras': '12'
    }
  },
  params: { divTravel: '2' }
}
[NOMINA] makeRolePrices - priceRows: {
  BB: { 'Precio jornada': '90', 'Travel day': '45', 'Horas extras': '14' },
  E: {
    'Precio refuerzo': '70',
    'Precio jornada': '80',
    'Horas extras': '12'
  }
}
[NOMINA] makeRolePrices - params: { divTravel: '2' }
[NOMINA] getForRole - roleCode: REF baseRoleCode: BB
[NOMINA] getForRole - normalized: REF baseNorm: BB
[NOMINA] getForRole - row for REF => key:  {}
[NOMINA] getForRole - baseRow for BB => key: BB { 'Precio jornada': '90', 'Travel day': '45', 'Horas extras': '14' }
[NOMINA] getForRole - elecRow => key: E {
  'Precio refuerzo': '70',
  'Precio jornada': '80',
  'Horas extras': '12'
}
[NOMINA] getNumField - candidates: [ 'Precio refuerzo', 'Precio Refuerzo', 'Refuerzo' ]
[NOMINA] getNumField - row keys: [ 'Precio jornada', 'Travel day', 'Horas extras' ]
[NOMINA] getNumField - row: { 'Precio jornada': '90', 'Travel day': '45', 'Horas extras': '14' }
[NOMINA] getNumField - trying direct key "Precio refuerzo": undefined
[NOMINA] getNumField - trying direct key "Precio Refuerzo": undefined
[NOMINA] getNumField - trying direct key "Refuerzo": undefined
[NOMINA] getNumField - trying lowercase "precio refuerzo": undefined
[NOMINA] getNumField - trying lowercase "precio refuerzo": undefined
[NOMINA] getNumField - trying lowercase "refuerzo": undefined
[NOMINA] getNumField - candidates: [
  'Precio jornada',
  'Precio Jornada',
  'Jornada',
  'Precio dia',
  'Precio d√≠a'
]
[NOMINA] getNumField - row keys: [ 'Precio jornada', 'Travel day', 'Horas extras' ]
[NOMINA] getNumField - row: { 'Precio jornada': '90', 'Travel day': '45', 'Horas extras': '14' }
[NOMINA] getNumField - trying direct key "Precio jornada": 90
[NOMINA] getNumField - candidates: [ 'Precio refuerzo', 'Precio Refuerzo', 'Refuerzo' ]
[NOMINA] getNumField - row keys: [ 'Precio refuerzo', 'Precio jornada', 'Horas extras' ]
[NOMINA] getNumField - row: {
  'Precio refuerzo': '70',
  'Precio jornada': '80',
  'Horas extras': '12'
}
[NOMINA] getNumField - trying direct key "Precio refuerzo": 70
[NOMINA] getNumField - candidates: [
  'Precio jornada',
  'Precio Jornada',
  'Jornada',
  'Precio dia',
  'Precio d√≠a'
]
[NOMINA] getNumField - row keys: [ 'Precio refuerzo', 'Precio jornada', 'Horas extras' ]
[NOMINA] getNumField - row: {
  'Precio refuerzo': '70',
  'Precio jornada': '80',
  'Horas extras': '12'
}
[NOMINA] getNumField - trying direct key "Precio jornada": 80
[NOMINA] getNumField - candidates: [
  'Travel day',
  'Travel Day',
  'Travel',
  'D√≠a de viaje',
  'Dia de viaje',
  'D√≠a travel',
  'Dia travel',
  'TD'
]
[NOMINA] getNumField - row keys: [ 'Precio jornada', 'Travel day', 'Horas extras' ]
[NOMINA] getNumField - row: { 'Precio jornada': '90', 'Travel day': '45', 'Horas extras': '14' }
[NOMINA] getNumField - trying direct key "Travel day": 45
[NOMINA] getNumField - candidates: [
  'Horas extras',
  'Horas Extras',
  'Hora extra',
  'Horas extra',
  'HE',
  'Hora Extra'
]
[NOMINA] getNumField - row keys: [ 'Precio refuerzo', 'Precio jornada', 'Horas extras' ]
[NOMINA] getNumField - row: {
  'Precio refuerzo': '70',
  'Precio jornada': '80',
  'Horas extras': '12'
}
[NOMINA] getNumField - trying direct key "Horas extras": 12
[NOMINA] getNumField - candidates: [
  'Precio D√≠a extra/Festivo',
  'Precio D√≠a extra/festivo',
  'D√≠a extra/Festivo',
  'D√≠a festivo',
  'Festivo'
]
[NOMINA] getNumField - row keys: [ 'Precio refuerzo', 'Precio jornada', 'Horas extras' ]
[NOMINA] getNumField - row: {
  'Precio refuerzo': '70',
  'Precio jornada': '80',
  'Horas extras': '12'
}
[NOMINA] getNumField - trying direct key "Precio D√≠a extra/Festivo": undefined
[NOMINA] getNumField - trying direct key "Precio D√≠a extra/festivo": undefined
[NOMINA] getNumField - trying direct key "D√≠a extra/Festivo": undefined
[NOMINA] getNumField - trying direct key "D√≠a festivo": undefined
[NOMINA] getNumField - trying direct key "Festivo": undefined
[NOMINA] getNumField - trying lowercase "precio d√≠a extra/festivo": undefined
[NOMINA] getNumField - trying lowercase "precio d√≠a extra/festivo": undefined
[NOMINA] getNumField - trying lowercase "d√≠a extra/festivo": undefined
[NOMINA] getNumField - trying lowercase "d√≠a festivo": undefined
[NOMINA] getNumField - trying lowercase "festivo": undefined
[NOMINA] getNumField - candidates: [
  'Precio D√≠a extra/Festivo',
  'Precio D√≠a extra/festivo',
  'D√≠a extra/Festivo',
  'D√≠a festivo',
  'Festivo'
]
[NOMINA] getNumField - row keys: [ 'Precio jornada', 'Travel day', 'Horas extras' ]
[NOMINA] getNumField - row: { 'Precio jornada': '90', 'Travel day': '45', 'Horas extras': '14' }
[NOMINA] getNumField - trying direct key "Precio D√≠a extra/Festivo": undefined
[NOMINA] getNumField - trying direct key "Precio D√≠a extra/festivo": undefined
[NOMINA] getNumField - trying direct key "D√≠a extra/Festivo": undefined
[NOMINA] getNumField - trying direct key "D√≠a festivo": undefined
[NOMINA] getNumField - trying direct key "Festivo": undefined
[NOMINA] getNumField - trying lowercase "precio d√≠a extra/festivo": undefined
[NOMINA] getNumField - trying lowercase "precio d√≠a extra/festivo": undefined
[NOMINA] getNumField - trying lowercase "d√≠a extra/festivo": undefined
[NOMINA] getNumField - trying lowercase "d√≠a festivo": undefined
[NOMINA] getNumField - trying lowercase "festivo": undefined
[NOMINA] getForRole - result for REF : {
  jornada: 90,
  travelDay: 45,
  horaExtra: 12,
  holidayDay: 0,
  transporte: 0,
  km: 0,
  dietas: {
    Comida: 0,
    Cena: 0,
    'Dieta sin pernoctar': 0,
    'Dieta completa + desayuno': 0,
    'Gastos de bolsillo': 0
  }
}

stdout | src/features/nomina/nominas/index.test.jsx > nominas/index > makeRolePrices > handles missing data gracefully
[NOMINA.MAIN] makeRolePrices - project type: semanal
[NOMINA] makeRolePrices - model: { prices: {}, params: {} }
[NOMINA] makeRolePrices - priceRows: {}
[NOMINA] makeRolePrices - params: {}
[NOMINA] getForRole - roleCode: UNKNOWN baseRoleCode: null
[NOMINA] getForRole - normalized: UNKNOWN baseNorm: UNKNOWN
[NOMINA] getForRole - row for UNKNOWN => key:  {}
[NOMINA] getForRole - baseRow for UNKNOWN => key:  {}
[NOMINA] getForRole - elecRow => key:  {}
[NOMINA] getForRole - calculating for non-REF role: UNKNOWN
[NOMINA] getNumField - candidates: [
  'Precio jornada',
  'Precio Jornada',
  'Jornada',
  'Precio dia',
  'Precio d√≠a'
]
[NOMINA] getNumField - row keys: []
[NOMINA] getNumField - row: {}
[NOMINA] getNumField - trying direct key "Precio jornada": undefined
[NOMINA] getNumField - trying direct key "Precio Jornada": undefined
[NOMINA] getNumField - trying direct key "Jornada": undefined
[NOMINA] getNumField - trying direct key "Precio dia": undefined
[NOMINA] getNumField - trying direct key "Precio d√≠a": undefined
[NOMINA] getNumField - trying lowercase "precio jornada": undefined
[NOMINA] getNumField - trying lowercase "precio jornada": undefined
[NOMINA] getNumField - trying lowercase "jornada": undefined
[NOMINA] getNumField - trying lowercase "precio dia": undefined
[NOMINA] getNumField - trying lowercase "precio d√≠a": undefined
[NOMINA] getNumField - candidates: [
  'Travel day',
  'Travel Day',
  'Travel',
  'D√≠a de viaje',
  'Dia de viaje',
  'D√≠a travel',
  'Dia travel',
  'TD'
]
[NOMINA] getNumField - row keys: []
[NOMINA] getNumField - row: {}
[NOMINA] getNumField - trying direct key "Travel day": undefined
[NOMINA] getNumField - trying direct key "Travel Day": undefined
[NOMINA] getNumField - trying direct key "Travel": undefined
[NOMINA] getNumField - trying direct key "D√≠a de viaje": undefined
[NOMINA] getNumField - trying direct key "Dia de viaje": undefined
[NOMINA] getNumField - trying direct key "D√≠a travel": undefined
[NOMINA] getNumField - trying direct key "Dia travel": undefined
[NOMINA] getNumField - trying direct key "TD": undefined
[NOMINA] getNumField - trying lowercase "travel day": undefined
[NOMINA] getNumField - trying lowercase "travel day": undefined
[NOMINA] getNumField - trying lowercase "travel": undefined
[NOMINA] getNumField - trying lowercase "d√≠a de viaje": undefined
[NOMINA] getNumField - trying lowercase "dia de viaje": undefined
[NOMINA] getNumField - trying lowercase "d√≠a travel": undefined
[NOMINA] getNumField - trying lowercase "dia travel": undefined
[NOMINA] getNumField - trying lowercase "td": undefined
[NOMINA] getNumField - candidates: [
  'Horas extras',
  'Horas Extras',
  'Hora extra',
  'Horas extra',
  'HE',
  'Hora Extra'
]
[NOMINA] getNumField - row keys: []
[NOMINA] getNumField - row: {}
[NOMINA] getNumField - trying direct key "Horas extras": undefined
[NOMINA] getNumField - trying direct key "Horas Extras": undefined
[NOMINA] getNumField - trying direct key "Hora extra": undefined
[NOMINA] getNumField - trying direct key "Horas extra": undefined
[NOMINA] getNumField - trying direct key "HE": undefined
[NOMINA] getNumField - trying direct key "Hora Extra": undefined
[NOMINA] getNumField - trying lowercase "horas extras": undefined
[NOMINA] getNumField - trying lowercase "horas extras": undefined
[NOMINA] getNumField - trying lowercase "hora extra": undefined
[NOMINA] getNumField - trying lowercase "horas extra": undefined
[NOMINA] getNumField - trying lowercase "he": undefined
[NOMINA] getNumField - trying lowercase "hora extra": undefined
[NOMINA] getNumField - candidates: [
  'Precio D√≠a extra/Festivo',
  'Precio D√≠a extra/festivo',
  'D√≠a extra/Festivo',
  'D√≠a festivo',
  'Festivo'
]
[NOMINA] getNumField - row keys: []
[NOMINA] getNumField - row: {}
[NOMINA] getNumField - trying direct key "Precio D√≠a extra/Festivo": undefined
[NOMINA] getNumField - trying direct key "Precio D√≠a extra/festivo": undefined
[NOMINA] getNumField - trying direct key "D√≠a extra/Festivo": undefined
[NOMINA] getNumField - trying direct key "D√≠a festivo": undefined
[NOMINA] getNumField - trying direct key "Festivo": undefined
[NOMINA] getNumField - trying lowercase "precio d√≠a extra/festivo": undefined
[NOMINA] getNumField - trying lowercase "precio d√≠a extra/festivo": undefined
[NOMINA] getNumField - trying lowercase "d√≠a extra/festivo": undefined
[NOMINA] getNumField - trying lowercase "d√≠a festivo": undefined
[NOMINA] getNumField - trying lowercase "festivo": undefined
[NOMINA] getForRole - calculated values: { jornada: 0, travelDay: 0, horaExtra: 0 }
[NOMINA] getForRole - result for UNKNOWN : {
  jornada: 0,
  travelDay: 0,
  horaExtra: 0,
  holidayDay: 0,
  transporte: 0,
  km: 0,
  dietas: {
    Comida: 0,
    Cena: 0,
    'Dieta sin pernoctar': 0,
    'Dieta completa + desayuno': 0,
    'Gastos de bolsillo': 0
  }
}

stdout | src/features/nomina/nominas/index.test.jsx > nominas/index > aggregateReports > aggregates reports from weeks data
[NOMINA.MAIN] aggregateReports - project type: semanal
[NOMINA.DEBUG] Semana reportes_test-project_2023-01-01_2023-01-02: {
  'G__John Doe': {
    'Horas extra': { '2023-01-01': '2' },
    'Turn Around': { '2023-01-01': '1' },
    Nocturnidad: { '2023-01-01': 'SI' },
    Dietas: { '2023-01-01': 'Comida' },
    Kilometraje: { '2023-01-01': '50' },
    Transporte: { '2023-01-01': 'SI' }
  }
}
[NOMINA.DEBUG] Claves disponibles: [ 'G__John Doe' ]
[NOMINA.DEBUG] Claves que contienen "cccc": []
[NOMINA.SKV] G__John Doe => 7 variants: [
  'G__John Doe',
  'GP__John Doe',
  'GR__John Doe',
  'G.pre__John Doe',
  'G.pick__John Doe',
  'G_pre__John Doe',
  'G_pick__John Doe'
]
[NOMINA.AGG] week agg person= John Doe roleVis= G pk= G__John Doe iso= 2023-01-01 keysToUse= [
  'G__John Doe',
  'GP__John Doe',
  'GR__John Doe',
  'G.pre__John Doe',
  'G.pick__John Doe',
  'G_pre__John Doe',
  'G_pick__John Doe'
]
[NOMINA.GCVC] Looking for [ 'Horas extra', 'Horas extras', 'HE' ] on 2023-01-01 in keys: [
  'G__John Doe',
  'GP__John Doe',
  'GR__John Doe',
  'G.pre__John Doe',
  'G.pick__John Doe',
  'G_pre__John Doe',
  'G_pick__John Doe'
]
[NOMINA.GCVC] No data for key: G.pre__John Doe
[NOMINA.GCVC] No data for key: G.pick__John Doe
[NOMINA.GCVC] Found data for key: G__John Doe columns: [
  'Horas extra',
  'Turn Around',
  'Nocturnidad',
  'Dietas',
  'Kilometraje',
  'Transporte'
]
[NOMINA.GCVC] Found direct match: G__John Doe Horas extra 2023-01-01 = 2
[NOMINA.GCVC] Looking for [ 'Turn Around', 'TA' ] on 2023-01-01 in keys: [
  'G__John Doe',
  'GP__John Doe',
  'GR__John Doe',
  'G.pre__John Doe',
  'G.pick__John Doe',
  'G_pre__John Doe',
  'G_pick__John Doe'
]
[NOMINA.GCVC] No data for key: G.pre__John Doe
[NOMINA.GCVC] No data for key: G.pick__John Doe
[NOMINA.GCVC] Found data for key: G__John Doe columns: [
  'Horas extra',
  'Turn Around',
  'Nocturnidad',
  'Dietas',
  'Kilometraje',
  'Transporte'
]
[NOMINA.GCVC] Found direct match: G__John Doe Turn Around 2023-01-01 = 1
[NOMINA.GCVC] Looking for [ 'Nocturnidad', 'Noct', 'Nocturnidades' ] on 2023-01-01 in keys: [
  'G__John Doe',
  'GP__John Doe',
  'GR__John Doe',
  'G.pre__John Doe',
  'G.pick__John Doe',
  'G_pre__John Doe',
  'G_pick__John Doe'
]
[NOMINA.GCVC] No data for key: G.pre__John Doe
[NOMINA.GCVC] No data for key: G.pick__John Doe
[NOMINA.GCVC] Found data for key: G__John Doe columns: [
  'Horas extra',
  'Turn Around',
  'Nocturnidad',
  'Dietas',
  'Kilometraje',
  'Transporte'
]
[NOMINA.GCVC] Found direct match: G__John Doe Nocturnidad 2023-01-01 = SI
[NOMINA.GCVC] Looking for [ 'Penalty lunch', 'Penalty Lunch', 'Penalty', 'PL' ] on 2023-01-01 in keys: [
  'G__John Doe',
  'GP__John Doe',
  'GR__John Doe',
  'G.pre__John Doe',
  'G.pick__John Doe',
  'G_pre__John Doe',
  'G_pick__John Doe'
]
[NOMINA.GCVC] No data for key: G.pre__John Doe
[NOMINA.GCVC] No data for key: G.pick__John Doe
[NOMINA.GCVC] Found data for key: G__John Doe columns: [
  'Horas extra',
  'Turn Around',
  'Nocturnidad',
  'Dietas',
  'Kilometraje',
  'Transporte'
]
[NOMINA.GCVC] No data for key: GP__John Doe
[NOMINA.GCVC] No data for key: GR__John Doe
[NOMINA.GCVC] No data for key: G_pre__John Doe
[NOMINA.GCVC] No data for key: G_pick__John Doe
[NOMINA.GCVC] No match found for [ 'Penalty lunch', 'Penalty Lunch', 'Penalty', 'PL' ] on 2023-01-01
[NOMINA.GCVC] Looking for [ 'Transporte', 'Transportes' ] on 2023-01-01 in keys: [
  'G__John Doe',
  'GP__John Doe',
  'GR__John Doe',
  'G.pre__John Doe',
  'G.pick__John Doe',
  'G_pre__John Doe',
  'G_pick__John Doe'
]
[NOMINA.GCVC] No data for key: G.pre__John Doe
[NOMINA.GCVC] No data for key: G.pick__John Doe
[NOMINA.GCVC] Found data for key: G__John Doe columns: [
  'Horas extra',
  'Turn Around',
  'Nocturnidad',
  'Dietas',
  'Kilometraje',
  'Transporte'
]
[NOMINA.GCVC] Found direct match: G__John Doe Transporte 2023-01-01 = SI
[NOMINA.AGG] iso 2023-01-01 he 2 ta 1 noct SI noctYes true pen undefined penYes false transp SI transpYes true
[NOMINA.GCVC] Looking for [ 'Kilometraje', 'KM', 'Km' ] on 2023-01-01 in keys: [
  'G__John Doe',
  'GP__John Doe',
  'GR__John Doe',
  'G.pre__John Doe',
  'G.pick__John Doe',
  'G_pre__John Doe',
  'G_pick__John Doe'
]
[NOMINA.GCVC] No data for key: G.pre__John Doe
[NOMINA.GCVC] No data for key: G.pick__John Doe
[NOMINA.GCVC] Found data for key: G__John Doe columns: [
  'Horas extra',
  'Turn Around',
  'Nocturnidad',
  'Dietas',
  'Kilometraje',
  'Transporte'
]
[NOMINA.GCVC] Found direct match: G__John Doe Kilometraje 2023-01-01 = 50
[NOMINA.GCVC] Looking for [ 'Dietas', 'Dietas / Ticket', 'Ticket', 'Tickets' ] on 2023-01-01 in keys: [ 'G__John Doe' ]
[NOMINA.GCVC] Found data for key: G__John Doe columns: [
  'Horas extra',
  'Turn Around',
  'Nocturnidad',
  'Dietas',
  'Kilometraje',
  'Transporte'
]
[NOMINA.GCVC] Found direct match: G__John Doe Dietas 2023-01-01 = Comida
[NOMINA.SKV] G__John Doe => 7 variants: [
  'G__John Doe',
  'GP__John Doe',
  'GR__John Doe',
  'G.pre__John Doe',
  'G.pick__John Doe',
  'G_pre__John Doe',
  'G_pick__John Doe'
]
[NOMINA.AGG] week agg person= John Doe roleVis= G pk= G__John Doe iso= 2023-01-02 keysToUse= [
  'G__John Doe',
  'GP__John Doe',
  'GR__John Doe',
  'G.pre__John Doe',
  'G.pick__John Doe',
  'G_pre__John Doe',
  'G_pick__John Doe'
]
[NOMINA.GCVC] Looking for [ 'Horas extra', 'Horas extras', 'HE' ] on 2023-01-02 in keys: [
  'G__John Doe',
  'GP__John Doe',
  'GR__John Doe',
  'G.pre__John Doe',
  'G.pick__John Doe',
  'G_pre__John Doe',
  'G_pick__John Doe'
]
[NOMINA.GCVC] No data for key: G.pre__John Doe
[NOMINA.GCVC] No data for key: G.pick__John Doe
[NOMINA.GCVC] Found data for key: G__John Doe columns: [
  'Horas extra',
  'Turn Around',
  'Nocturnidad',
  'Dietas',
  'Kilometraje',
  'Transporte'
]
[NOMINA.GCVC] No data for key: GP__John Doe
[NOMINA.GCVC] No data for key: GR__John Doe
[NOMINA.GCVC] No data for key: G_pre__John Doe
[NOMINA.GCVC] No data for key: G_pick__John Doe
[NOMINA.GCVC] No match found for [ 'Horas extra', 'Horas extras', 'HE' ] on 2023-01-02
[NOMINA.GCVC] Looking for [ 'Turn Around', 'TA' ] on 2023-01-02 in keys: [
  'G__John Doe',
  'GP__John Doe',
  'GR__John Doe',
  'G.pre__John Doe',
  'G.pick__John Doe',
  'G_pre__John Doe',
  'G_pick__John Doe'
]
[NOMINA.GCVC] No data for key: G.pre__John Doe
[NOMINA.GCVC] No data for key: G.pick__John Doe
[NOMINA.GCVC] Found data for key: G__John Doe columns: [
  'Horas extra',
  'Turn Around',
  'Nocturnidad',
  'Dietas',
  'Kilometraje',
  'Transporte'
]
[NOMINA.GCVC] No data for key: GP__John Doe
[NOMINA.GCVC] No data for key: GR__John Doe
[NOMINA.GCVC] No data for key: G_pre__John Doe
[NOMINA.GCVC] No data for key: G_pick__John Doe
[NOMINA.GCVC] No match found for [ 'Turn Around', 'TA' ] on 2023-01-02
[NOMINA.GCVC] Looking for [ 'Nocturnidad', 'Noct', 'Nocturnidades' ] on 2023-01-02 in keys: [
  'G__John Doe',
  'GP__John Doe',
  'GR__John Doe',
  'G.pre__John Doe',
  'G.pick__John Doe',
  'G_pre__John Doe',
  'G_pick__John Doe'
]
[NOMINA.GCVC] No data for key: G.pre__John Doe
[NOMINA.GCVC] No data for key: G.pick__John Doe
[NOMINA.GCVC] Found data for key: G__John Doe columns: [
  'Horas extra',
  'Turn Around',
  'Nocturnidad',
  'Dietas',
  'Kilometraje',
  'Transporte'
]
[NOMINA.GCVC] No data for key: GP__John Doe
[NOMINA.GCVC] No data for key: GR__John Doe
[NOMINA.GCVC] No data for key: G_pre__John Doe
[NOMINA.GCVC] No data for key: G_pick__John Doe
[NOMINA.GCVC] No match found for [ 'Nocturnidad', 'Noct', 'Nocturnidades' ] on 2023-01-02
[NOMINA.GCVC] Looking for [ 'Penalty lunch', 'Penalty Lunch', 'Penalty', 'PL' ] on 2023-01-02 in keys: [
  'G__John Doe',
  'GP__John Doe',
  'GR__John Doe',
  'G.pre__John Doe',
  'G.pick__John Doe',
  'G_pre__John Doe',
  'G_pick__John Doe'
]
[NOMINA.GCVC] No data for key: G.pre__John Doe
[NOMINA.GCVC] No data for key: G.pick__John Doe
[NOMINA.GCVC] Found data for key: G__John Doe columns: [
  'Horas extra',
  'Turn Around',
  'Nocturnidad',
  'Dietas',
  'Kilometraje',
  'Transporte'
]
[NOMINA.GCVC] No data for key: GP__John Doe
[NOMINA.GCVC] No data for key: GR__John Doe
[NOMINA.GCVC] No data for key: G_pre__John Doe
[NOMINA.GCVC] No data for key: G_pick__John Doe
[NOMINA.GCVC] No match found for [ 'Penalty lunch', 'Penalty Lunch', 'Penalty', 'PL' ] on 2023-01-02
[NOMINA.GCVC] Looking for [ 'Transporte', 'Transportes' ] on 2023-01-02 in keys: [
  'G__John Doe',
  'GP__John Doe',
  'GR__John Doe',
  'G.pre__John Doe',
  'G.pick__John Doe',
  'G_pre__John Doe',
  'G_pick__John Doe'
]
[NOMINA.GCVC] No data for key: G.pre__John Doe
[NOMINA.GCVC] No data for key: G.pick__John Doe
[NOMINA.GCVC] Found data for key: G__John Doe columns: [
  'Horas extra',
  'Turn Around',
  'Nocturnidad',
  'Dietas',
  'Kilometraje',
  'Transporte'
]
[NOMINA.GCVC] No data for key: GP__John Doe
[NOMINA.GCVC] No data for key: GR__John Doe
[NOMINA.GCVC] No data for key: G_pre__John Doe
[NOMINA.GCVC] No data for key: G_pick__John Doe
[NOMINA.GCVC] No match found for [ 'Transporte', 'Transportes' ] on 2023-01-02
[NOMINA.AGG] iso 2023-01-02 he 0 ta 0 noct undefined noctYes false pen undefined penYes false transp undefined transpYes false
[NOMINA.GCVC] Looking for [ 'Kilometraje', 'KM', 'Km' ] on 2023-01-02 in keys: [
  'G__John Doe',
  'GP__John Doe',
  'GR__John Doe',
  'G.pre__John Doe',
  'G.pick__John Doe',
  'G_pre__John Doe',
  'G_pick__John Doe'
]
[NOMINA.GCVC] No data for key: G.pre__John Doe
[NOMINA.GCVC] No data for key: G.pick__John Doe
[NOMINA.GCVC] Found data for key: G__John Doe columns: [
  'Horas extra',
  'Turn Around',
  'Nocturnidad',
  'Dietas',
  'Kilometraje',
  'Transporte'
]
[NOMINA.GCVC] No data for key: GP__John Doe
[NOMINA.GCVC] No data for key: GR__John Doe
[NOMINA.GCVC] No data for key: G_pre__John Doe
[NOMINA.GCVC] No data for key: G_pick__John Doe
[NOMINA.GCVC] No match found for [ 'Kilometraje', 'KM', 'Km' ] on 2023-01-02
[NOMINA.GCVC] Looking for [ 'Dietas', 'Dietas / Ticket', 'Ticket', 'Tickets' ] on 2023-01-02 in keys: [ 'G__John Doe' ]
[NOMINA.GCVC] Found data for key: G__John Doe columns: [
  'Horas extra',
  'Turn Around',
  'Nocturnidad',
  'Dietas',
  'Kilometraje',
  'Transporte'
]
[NOMINA.GCVC] No match found for [ 'Dietas', 'Dietas / Ticket', 'Ticket', 'Tickets' ] on 2023-01-02
[NOMINA.SKV] E__Jane Smith => 7 variants: [
  'E__Jane Smith',
  'EP__Jane Smith',
  'ER__Jane Smith',
  'E.pre__Jane Smith',
  'E.pick__Jane Smith',
  'E_pre__Jane Smith',
  'E_pick__Jane Smith'
]
[NOMINA.AGG] week agg person= Jane Smith roleVis= E pk= E__Jane Smith iso= 2023-01-01 keysToUse= [
  'E__Jane Smith',
  'EP__Jane Smith',
  'ER__Jane Smith',
  'E.pre__Jane Smith',
  'E.pick__Jane Smith',
  'E_pre__Jane Smith',
  'E_pick__Jane Smith'
]
[NOMINA.GCVC] Looking for [ 'Horas extra', 'Horas extras', 'HE' ] on 2023-01-01 in keys: [
  'E__Jane Smith',
  'EP__Jane Smith',
  'ER__Jane Smith',
  'E.pre__Jane Smith',
  'E.pick__Jane Smith',
  'E_pre__Jane Smith',
  'E_pick__Jane Smith'
]
[NOMINA.GCVC] No data for key: E.pre__Jane Smith
[NOMINA.GCVC] No data for key: E.pick__Jane Smith
[NOMINA.GCVC] No data for key: E__Jane Smith
[NOMINA.GCVC] No data for key: EP__Jane Smith
[NOMINA.GCVC] No data for key: ER__Jane Smith
[NOMINA.GCVC] No data for key: E_pre__Jane Smith
[NOMINA.GCVC] No data for key: E_pick__Jane Smith
[NOMINA.GCVC] No match found for [ 'Horas extra', 'Horas extras', 'HE' ] on 2023-01-01
[NOMINA.GCVC] Looking for [ 'Turn Around', 'TA' ] on 2023-01-01 in keys: [
  'E__Jane Smith',
  'EP__Jane Smith',
  'ER__Jane Smith',
  'E.pre__Jane Smith',
  'E.pick__Jane Smith',
  'E_pre__Jane Smith',
  'E_pick__Jane Smith'
]
[NOMINA.GCVC] No data for key: E.pre__Jane Smith
[NOMINA.GCVC] No data for key: E.pick__Jane Smith
[NOMINA.GCVC] No data for key: E__Jane Smith
[NOMINA.GCVC] No data for key: EP__Jane Smith
[NOMINA.GCVC] No data for key: ER__Jane Smith
[NOMINA.GCVC] No data for key: E_pre__Jane Smith
[NOMINA.GCVC] No data for key: E_pick__Jane Smith
[NOMINA.GCVC] No match found for [ 'Turn Around', 'TA' ] on 2023-01-01
[NOMINA.GCVC] Looking for [ 'Nocturnidad', 'Noct', 'Nocturnidades' ] on 2023-01-01 in keys: [
  'E__Jane Smith',
  'EP__Jane Smith',
  'ER__Jane Smith',
  'E.pre__Jane Smith',
  'E.pick__Jane Smith',
  'E_pre__Jane Smith',
  'E_pick__Jane Smith'
]
[NOMINA.GCVC] No data for key: E.pre__Jane Smith
[NOMINA.GCVC] No data for key: E.pick__Jane Smith
[NOMINA.GCVC] No data for key: E__Jane Smith
[NOMINA.GCVC] No data for key: EP__Jane Smith
[NOMINA.GCVC] No data for key: ER__Jane Smith
[NOMINA.GCVC] No data for key: E_pre__Jane Smith
[NOMINA.GCVC] No data for key: E_pick__Jane Smith
[NOMINA.GCVC] No match found for [ 'Nocturnidad', 'Noct', 'Nocturnidades' ] on 2023-01-01
[NOMINA.GCVC] Looking for [ 'Penalty lunch', 'Penalty Lunch', 'Penalty', 'PL' ] on 2023-01-01 in keys: [
  'E__Jane Smith',
  'EP__Jane Smith',
  'ER__Jane Smith',
  'E.pre__Jane Smith',
  'E.pick__Jane Smith',
  'E_pre__Jane Smith',
  'E_pick__Jane Smith'
]
[NOMINA.GCVC] No data for key: E.pre__Jane Smith
[NOMINA.GCVC] No data for key: E.pick__Jane Smith
[NOMINA.GCVC] No data for key: E__Jane Smith
[NOMINA.GCVC] No data for key: EP__Jane Smith
[NOMINA.GCVC] No data for key: ER__Jane Smith
[NOMINA.GCVC] No data for key: E_pre__Jane Smith
[NOMINA.GCVC] No data for key: E_pick__Jane Smith
[NOMINA.GCVC] No match found for [ 'Penalty lunch', 'Penalty Lunch', 'Penalty', 'PL' ] on 2023-01-01
[NOMINA.GCVC] Looking for [ 'Transporte', 'Transportes' ] on 2023-01-01 in keys: [
  'E__Jane Smith',
  'EP__Jane Smith',
  'ER__Jane Smith',
  'E.pre__Jane Smith',
  'E.pick__Jane Smith',
  'E_pre__Jane Smith',
  'E_pick__Jane Smith'
]
[NOMINA.GCVC] No data for key: E.pre__Jane Smith
[NOMINA.GCVC] No data for key: E.pick__Jane Smith
[NOMINA.GCVC] No data for key: E__Jane Smith
[NOMINA.GCVC] No data for key: EP__Jane Smith
[NOMINA.GCVC] No data for key: ER__Jane Smith
[NOMINA.GCVC] No data for key: E_pre__Jane Smith
[NOMINA.GCVC] No data for key: E_pick__Jane Smith
[NOMINA.GCVC] No match found for [ 'Transporte', 'Transportes' ] on 2023-01-01
[NOMINA.AGG] iso 2023-01-01 he 0 ta 0 noct undefined noctYes false pen undefined penYes false transp undefined transpYes false
[NOMINA.GCVC] Looking for [ 'Kilometraje', 'KM', 'Km' ] on 2023-01-01 in keys: [
  'E__Jane Smith',
  'EP__Jane Smith',
  'ER__Jane Smith',
  'E.pre__Jane Smith',
  'E.pick__Jane Smith',
  'E_pre__Jane Smith',
  'E_pick__Jane Smith'
]
[NOMINA.GCVC] No data for key: E.pre__Jane Smith
[NOMINA.GCVC] No data for key: E.pick__Jane Smith
[NOMINA.GCVC] No data for key: E__Jane Smith
[NOMINA.GCVC] No data for key: EP__Jane Smith
[NOMINA.GCVC] No data for key: ER__Jane Smith
[NOMINA.GCVC] No data for key: E_pre__Jane Smith
[NOMINA.GCVC] No data for key: E_pick__Jane Smith
[NOMINA.GCVC] No match found for [ 'Kilometraje', 'KM', 'Km' ] on 2023-01-01
[NOMINA.GCVC] Looking for [ 'Dietas', 'Dietas / Ticket', 'Ticket', 'Tickets' ] on 2023-01-01 in keys: [ 'E__Jane Smith' ]
[NOMINA.GCVC] No data for key: E__Jane Smith
[NOMINA.GCVC] No match found for [ 'Dietas', 'Dietas / Ticket', 'Ticket', 'Tickets' ] on 2023-01-01
[NOMINA.SKV] E__Jane Smith => 7 variants: [
  'E__Jane Smith',
  'EP__Jane Smith',
  'ER__Jane Smith',
  'E.pre__Jane Smith',
  'E.pick__Jane Smith',
  'E_pre__Jane Smith',
  'E_pick__Jane Smith'
]
[NOMINA.AGG] week agg person= Jane Smith roleVis= E pk= E__Jane Smith iso= 2023-01-02 keysToUse= [
  'E__Jane Smith',
  'EP__Jane Smith',
  'ER__Jane Smith',
  'E.pre__Jane Smith',
  'E.pick__Jane Smith',
  'E_pre__Jane Smith',
  'E_pick__Jane Smith'
]
[NOMINA.GCVC] Looking for [ 'Horas extra', 'Horas extras', 'HE' ] on 2023-01-02 in keys: [
  'E__Jane Smith',
  'EP__Jane Smith',
  'ER__Jane Smith',
  'E.pre__Jane Smith',
  'E.pick__Jane Smith',
  'E_pre__Jane Smith',
  'E_pick__Jane Smith'
]
[NOMINA.GCVC] No data for key: E.pre__Jane Smith
[NOMINA.GCVC] No data for key: E.pick__Jane Smith
[NOMINA.GCVC] No data for key: E__Jane Smith
[NOMINA.GCVC] No data for key: EP__Jane Smith
[NOMINA.GCVC] No data for key: ER__Jane Smith
[NOMINA.GCVC] No data for key: E_pre__Jane Smith
[NOMINA.GCVC] No data for key: E_pick__Jane Smith
[NOMINA.GCVC] No match found for [ 'Horas extra', 'Horas extras', 'HE' ] on 2023-01-02
[NOMINA.GCVC] Looking for [ 'Turn Around', 'TA' ] on 2023-01-02 in keys: [
  'E__Jane Smith',
  'EP__Jane Smith',
  'ER__Jane Smith',
  'E.pre__Jane Smith',
  'E.pick__Jane Smith',
  'E_pre__Jane Smith',
  'E_pick__Jane Smith'
]
[NOMINA.GCVC] No data for key: E.pre__Jane Smith
[NOMINA.GCVC] No data for key: E.pick__Jane Smith
[NOMINA.GCVC] No data for key: E__Jane Smith
[NOMINA.GCVC] No data for key: EP__Jane Smith
[NOMINA.GCVC] No data for key: ER__Jane Smith
[NOMINA.GCVC] No data for key: E_pre__Jane Smith
[NOMINA.GCVC] No data for key: E_pick__Jane Smith
[NOMINA.GCVC] No match found for [ 'Turn Around', 'TA' ] on 2023-01-02
[NOMINA.GCVC] Looking for [ 'Nocturnidad', 'Noct', 'Nocturnidades' ] on 2023-01-02 in keys: [
  'E__Jane Smith',
  'EP__Jane Smith',
  'ER__Jane Smith',
  'E.pre__Jane Smith',
  'E.pick__Jane Smith',
  'E_pre__Jane Smith',
  'E_pick__Jane Smith'
]
[NOMINA.GCVC] No data for key: E.pre__Jane Smith
[NOMINA.GCVC] No data for key: E.pick__Jane Smith
[NOMINA.GCVC] No data for key: E__Jane Smith
[NOMINA.GCVC] No data for key: EP__Jane Smith
[NOMINA.GCVC] No data for key: ER__Jane Smith
[NOMINA.GCVC] No data for key: E_pre__Jane Smith
[NOMINA.GCVC] No data for key: E_pick__Jane Smith
[NOMINA.GCVC] No match found for [ 'Nocturnidad', 'Noct', 'Nocturnidades' ] on 2023-01-02
[NOMINA.GCVC] Looking for [ 'Penalty lunch', 'Penalty Lunch', 'Penalty', 'PL' ] on 2023-01-02 in keys: [
  'E__Jane Smith',
  'EP__Jane Smith',
  'ER__Jane Smith',
  'E.pre__Jane Smith',
  'E.pick__Jane Smith',
  'E_pre__Jane Smith',
  'E_pick__Jane Smith'
]
[NOMINA.GCVC] No data for key: E.pre__Jane Smith
[NOMINA.GCVC] No data for key: E.pick__Jane Smith
[NOMINA.GCVC] No data for key: E__Jane Smith
[NOMINA.GCVC] No data for key: EP__Jane Smith
[NOMINA.GCVC] No data for key: ER__Jane Smith
[NOMINA.GCVC] No data for key: E_pre__Jane Smith
[NOMINA.GCVC] No data for key: E_pick__Jane Smith
[NOMINA.GCVC] No match found for [ 'Penalty lunch', 'Penalty Lunch', 'Penalty', 'PL' ] on 2023-01-02
[NOMINA.GCVC] Looking for [ 'Transporte', 'Transportes' ] on 2023-01-02 in keys: [
  'E__Jane Smith',
  'EP__Jane Smith',
  'ER__Jane Smith',
  'E.pre__Jane Smith',
  'E.pick__Jane Smith',
  'E_pre__Jane Smith',
  'E_pick__Jane Smith'
]
[NOMINA.GCVC] No data for key: E.pre__Jane Smith
[NOMINA.GCVC] No data for key: E.pick__Jane Smith
[NOMINA.GCVC] No data for key: E__Jane Smith
[NOMINA.GCVC] No data for key: EP__Jane Smith
[NOMINA.GCVC] No data for key: ER__Jane Smith
[NOMINA.GCVC] No data for key: E_pre__Jane Smith
[NOMINA.GCVC] No data for key: E_pick__Jane Smith
[NOMINA.GCVC] No match found for [ 'Transporte', 'Transportes' ] on 2023-01-02
[NOMINA.AGG] iso 2023-01-02 he 0 ta 0 noct undefined noctYes false pen undefined penYes false transp undefined transpYes false
[NOMINA.GCVC] Looking for [ 'Kilometraje', 'KM', 'Km' ] on 2023-01-02 in keys: [
  'E__Jane Smith',
  'EP__Jane Smith',
  'ER__Jane Smith',
  'E.pre__Jane Smith',
  'E.pick__Jane Smith',
  'E_pre__Jane Smith',
  'E_pick__Jane Smith'
]
[NOMINA.GCVC] No data for key: E.pre__Jane Smith
[NOMINA.GCVC] No data for key: E.pick__Jane Smith
[NOMINA.GCVC] No data for key: E__Jane Smith
[NOMINA.GCVC] No data for key: EP__Jane Smith
[NOMINA.GCVC] No data for key: ER__Jane Smith
[NOMINA.GCVC] No data for key: E_pre__Jane Smith
[NOMINA.GCVC] No data for key: E_pick__Jane Smith
[NOMINA.GCVC] No match found for [ 'Kilometraje', 'KM', 'Km' ] on 2023-01-02
[NOMINA.GCVC] Looking for [ 'Dietas', 'Dietas / Ticket', 'Ticket', 'Tickets' ] on 2023-01-02 in keys: [ 'E__Jane Smith' ]
[NOMINA.GCVC] No data for key: E__Jane Smith
[NOMINA.GCVC] No match found for [ 'Dietas', 'Dietas / Ticket', 'Ticket', 'Tickets' ] on 2023-01-02

stdout | src/features/nomina/nominas/index.test.jsx > nominas/index > aggregateReports > handles empty weeks array
[NOMINA.MAIN] aggregateReports - project type: semanal

stdout | src/features/nomina/nominas/index.test.jsx > nominas/index > aggregateReports > filters by ISO dates when filter provided
[NOMINA.MAIN] aggregateReports - project type: semanal
[NOMINA.DEBUG] Semana reportes_test_2023-01-01_2023-01-02: {}
[NOMINA.DEBUG] Claves disponibles: []
[NOMINA.DEBUG] Claves que contienen "cccc": []

stdout | src/features/nomina/nominas/index.test.jsx > nominas/index > getCondParams > returns params from project conditions
[NOMINA.MAIN] getCondParams - project type: semanal

stdout | src/features/nomina/nominas/index.test.jsx > nominas/index > getCondParams > returns empty object when no model found
[NOMINA.MAIN] getCondParams - project type: semanal

stdout | src/features/nomina/nominas/index.test.jsx > nominas/index > getOvertimeWindowForPayrollMonth > returns valid date range for valid parameters
[NOMINA.MAIN] getOvertimeWindowForPayrollMonth - project type: semanal

stdout | src/features/nomina/nominas/index.test.jsx > nominas/index > getOvertimeWindowForPayrollMonth > returns null for invalid parameters
[NOMINA.MAIN] getOvertimeWindowForPayrollMonth - project type: semanal

stdout | src/features/nomina/nominas/index.test.jsx > nominas/index > getOvertimeWindowForPayrollMonth > returns null for missing parameters
[NOMINA.MAIN] getOvertimeWindowForPayrollMonth - project type: semanal

stdout | src/features/nomina/nominas/index.test.jsx > nominas/index > aggregateWindowedReport > aggregates windowed reports correctly
[NOMINA.MAIN] aggregateWindowedReport - project type: semanal
[NOMINA.SKV] G__John => 7 variants: [
  'G__John',
  'GP__John',
  'GR__John',
  'G.pre__John',
  'G.pick__John',
  'G_pre__John',
  'G_pick__John'
]
[NOMINA.AGG] window agg roleVis= G sk= G__John iso= 2023-01-01 keysToUse= [
  'G__John',
  'GP__John',
  'GR__John',
  'G.pre__John',
  'G.pick__John',
  'G_pre__John',
  'G_pick__John'
]
[NOMINA.GCVC] Looking for [ 'Horas extra', 'Horas extras', 'HE' ] on 2023-01-01 in keys: [
  'G__John',
  'GP__John',
  'GR__John',
  'G.pre__John',
  'G.pick__John',
  'G_pre__John',
  'G_pick__John'
]
[NOMINA.GCVC] No data for key: G.pre__John
[NOMINA.GCVC] No data for key: G.pick__John
[NOMINA.GCVC] Found data for key: G__John columns: [ 'Horas extra', 'Dietas' ]
[NOMINA.GCVC] Found direct match: G__John Horas extra 2023-01-01 = 2
[NOMINA.GCVC] Looking for [ 'Turn Around', 'TA' ] on 2023-01-01 in keys: [
  'G__John',
  'GP__John',
  'GR__John',
  'G.pre__John',
  'G.pick__John',
  'G_pre__John',
  'G_pick__John'
]
[NOMINA.GCVC] No data for key: G.pre__John
[NOMINA.GCVC] No data for key: G.pick__John
[NOMINA.GCVC] Found data for key: G__John columns: [ 'Horas extra', 'Dietas' ]
[NOMINA.GCVC] No data for key: GP__John
[NOMINA.GCVC] No data for key: GR__John
[NOMINA.GCVC] No data for key: G_pre__John
[NOMINA.GCVC] No data for key: G_pick__John
[NOMINA.GCVC] No match found for [ 'Turn Around', 'TA' ] on 2023-01-01
[NOMINA.GCVC] Looking for [ 'Nocturnidad', 'Noct', 'Nocturnidades' ] on 2023-01-01 in keys: [
  'G__John',
  'GP__John',
  'GR__John',
  'G.pre__John',
  'G.pick__John',
  'G_pre__John',
  'G_pick__John'
]
[NOMINA.GCVC] No data for key: G.pre__John
[NOMINA.GCVC] No data for key: G.pick__John
[NOMINA.GCVC] Found data for key: G__John columns: [ 'Horas extra', 'Dietas' ]
[NOMINA.GCVC] No data for key: GP__John
[NOMINA.GCVC] No data for key: GR__John
[NOMINA.GCVC] No data for key: G_pre__John
[NOMINA.GCVC] No data for key: G_pick__John
[NOMINA.GCVC] No match found for [ 'Nocturnidad', 'Noct', 'Nocturnidades' ] on 2023-01-01
[NOMINA.GCVC] Looking for [ 'Penalty lunch', 'Penalty Lunch', 'Penalty', 'PL' ] on 2023-01-01 in keys: [
  'G__John',
  'GP__John',
  'GR__John',
  'G.pre__John',
  'G.pick__John',
  'G_pre__John',
  'G_pick__John'
]
[NOMINA.GCVC] No data for key: G.pre__John
[NOMINA.GCVC] No data for key: G.pick__John
[NOMINA.GCVC] Found data for key: G__John columns: [ 'Horas extra', 'Dietas' ]
[NOMINA.GCVC] No data for key: GP__John
[NOMINA.GCVC] No data for key: GR__John
[NOMINA.GCVC] No data for key: G_pre__John
[NOMINA.GCVC] No data for key: G_pick__John
[NOMINA.GCVC] No match found for [ 'Penalty lunch', 'Penalty Lunch', 'Penalty', 'PL' ] on 2023-01-01
[NOMINA.GCVC] Looking for [ 'Transporte', 'Transportes' ] on 2023-01-01 in keys: [
  'G__John',
  'GP__John',
  'GR__John',
  'G.pre__John',
  'G.pick__John',
  'G_pre__John',
  'G_pick__John'
]
[NOMINA.GCVC] No data for key: G.pre__John
[NOMINA.GCVC] No data for key: G.pick__John
[NOMINA.GCVC] Found data for key: G__John columns: [ 'Horas extra', 'Dietas' ]
[NOMINA.GCVC] No data for key: GP__John
[NOMINA.GCVC] No data for key: GR__John
[NOMINA.GCVC] No data for key: G_pre__John
[NOMINA.GCVC] No data for key: G_pick__John
[NOMINA.GCVC] No match found for [ 'Transporte', 'Transportes' ] on 2023-01-01
[NOMINA.AGG] iso 2023-01-01 he+ ta added noct undefined noctYes false pen undefined penYes false transp undefined transpYes false
[NOMINA.GCVC] Looking for [ 'Kilometraje', 'KM', 'Km' ] on 2023-01-01 in keys: [
  'G__John',
  'GP__John',
  'GR__John',
  'G.pre__John',
  'G.pick__John',
  'G_pre__John',
  'G_pick__John'
]
[NOMINA.GCVC] No data for key: G.pre__John
[NOMINA.GCVC] No data for key: G.pick__John
[NOMINA.GCVC] Found data for key: G__John columns: [ 'Horas extra', 'Dietas' ]
[NOMINA.GCVC] No data for key: GP__John
[NOMINA.GCVC] No data for key: GR__John
[NOMINA.GCVC] No data for key: G_pre__John
[NOMINA.GCVC] No data for key: G_pick__John
[NOMINA.GCVC] No match found for [ 'Kilometraje', 'KM', 'Km' ] on 2023-01-01
[NOMINA.GCVC] Looking for [ 'Dietas', 'Dietas / Ticket', 'Ticket', 'Tickets' ] on 2023-01-01 in keys: [ 'G__John' ]
[NOMINA.GCVC] Found data for key: G__John columns: [ 'Horas extra', 'Dietas' ]
[NOMINA.GCVC] Found direct match: G__John Dietas 2023-01-01 = Comida

stdout | src/features/nomina/nominas/index.test.jsx > nominas/index > aggregateWindowedReport > handles empty weeks
[NOMINA.MAIN] aggregateWindowedReport - project type: semanal

 ‚úì src/shared/lib/pdf/exporter.test.jsx (17 tests) 134ms
 ‚úì src/features/nomina/nominas/index.test.jsx (15 tests) 148ms
 ‚úì src/features/reportes/components/ReportBlockScheduleRow.test.jsx (1 test) 326ms
   ‚úì ReportBlockScheduleRow (smoke) > renders label and values  317ms
 ‚úì src/features/planificacion/components/EmptyHint.test.jsx (1 test) 273ms
 ‚úì src/features/planificacion/utils/weekActions.test.jsx (15 tests) 40ms
 ‚úì src/features/reportes/utils/plan.test.jsx (40 tests) 45ms
stdout | src/features/reportes/utils/export.test.jsx > reportes/utils/export > buildReportWeekHTML > generates HTML with project name and title
=== HTML EXPORT DEBUG ===
Persona keys in HTML export: [ 'G1__John' ]
Full data object keys: [ 'G1__John' ]
Data object sample: [
  { key: 'G1__John', data: { Dietas: [Object], Transporte: [Object] } }
]
Keys containing "G" (HTML): [ 'G1__John' ]
All keys with their parsed roles: [ { key: 'G1__John', role: 'G1', name: 'John' } ]
üîç SUSPICIOUS KEYS (might cause G-): [ 'G1__John' ]
  Key: "G1__John" -> role: "G1", name: "John"
üìã Sorted person keys by role hierarchy: [ 'G1 (priority: 1000)' ]
üìä Filtered concepts with data (HTML): [ 'Dietas', 'Transporte' ]
üìä All concepts: [ 'Dietas', 'Transporte' ]
üìä Removed concepts (HTML): []
HTML Parsed from "G1__John": role="G1", name="John"

stdout | src/features/reportes/utils/export.test.jsx > reportes/utils/export > buildReportWeekHTML > generates HTML with default values when project and title are missing
=== HTML EXPORT DEBUG ===
Persona keys in HTML export: [ 'G1__John' ]
Full data object keys: [ 'G1__John' ]
Data object sample: [
  { key: 'G1__John', data: { Dietas: [Object], Transporte: [Object] } }
]
Keys containing "G" (HTML): [ 'G1__John' ]
All keys with their parsed roles: [ { key: 'G1__John', role: 'G1', name: 'John' } ]
üîç SUSPICIOUS KEYS (might cause G-): [ 'G1__John' ]
  Key: "G1__John" -> role: "G1", name: "John"
üìã Sorted person keys by role hierarchy: [ 'G1 (priority: 1000)' ]
üìä Filtered concepts with data (HTML): [ 'Dietas', 'Transporte' ]
üìä All concepts: [ 'Dietas', 'Transporte' ]
üìä Removed concepts (HTML): []
HTML Parsed from "G1__John": role="G1", name="John"

stdout | src/features/reportes/utils/export.test.jsx > reportes/utils/export > buildReportWeekHTML > generates table headers with day names and dates
=== HTML EXPORT DEBUG ===
Persona keys in HTML export: [ 'G1__John' ]
Full data object keys: [ 'G1__John' ]
Data object sample: [
  { key: 'G1__John', data: { Dietas: [Object], Transporte: [Object] } }
]
Keys containing "G" (HTML): [ 'G1__John' ]
All keys with their parsed roles: [ { key: 'G1__John', role: 'G1', name: 'John' } ]
üîç SUSPICIOUS KEYS (might cause G-): [ 'G1__John' ]
  Key: "G1__John" -> role: "G1", name: "John"
üìã Sorted person keys by role hierarchy: [ 'G1 (priority: 1000)' ]
üìä Filtered concepts with data (HTML): [ 'Dietas', 'Transporte' ]
üìä All concepts: [ 'Dietas', 'Transporte' ]
üìä Removed concepts (HTML): []
HTML Parsed from "G1__John": role="G1", name="John"

stdout | src/features/reportes/utils/export.test.jsx > reportes/utils/export > buildReportWeekHTML > generates horario row
=== HTML EXPORT DEBUG ===
Persona keys in HTML export: [ 'G1__John' ]
Full data object keys: [ 'G1__John' ]
Data object sample: [
  { key: 'G1__John', data: { Dietas: [Object], Transporte: [Object] } }
]
Keys containing "G" (HTML): [ 'G1__John' ]
All keys with their parsed roles: [ { key: 'G1__John', role: 'G1', name: 'John' } ]
üîç SUSPICIOUS KEYS (might cause G-): [ 'G1__John' ]
  Key: "G1__John" -> role: "G1", name: "John"
üìã Sorted person keys by role hierarchy: [ 'G1 (priority: 1000)' ]
üìä Filtered concepts with data (HTML): [ 'Dietas', 'Transporte' ]
üìä All concepts: [ 'Dietas', 'Transporte' ]
üìä Removed concepts (HTML): []
HTML Parsed from "G1__John": role="G1", name="John"

stdout | src/features/reportes/utils/export.test.jsx > reportes/utils/export > buildReportWeekHTML > generates person rows with role and name
=== HTML EXPORT DEBUG ===
Persona keys in HTML export: [ 'G1__John' ]
Full data object keys: [ 'G1__John' ]
Data object sample: [
  { key: 'G1__John', data: { Dietas: [Object], Transporte: [Object] } }
]
Keys containing "G" (HTML): [ 'G1__John' ]
All keys with their parsed roles: [ { key: 'G1__John', role: 'G1', name: 'John' } ]
üîç SUSPICIOUS KEYS (might cause G-): [ 'G1__John' ]
  Key: "G1__John" -> role: "G1", name: "John"
üìã Sorted person keys by role hierarchy: [ 'G1 (priority: 1000)' ]
üìä Filtered concepts with data (HTML): [ 'Dietas', 'Transporte' ]
üìä All concepts: [ 'Dietas', 'Transporte' ]
üìä Removed concepts (HTML): []
HTML Parsed from "G1__John": role="G1", name="John"

stdout | src/features/reportes/utils/export.test.jsx > reportes/utils/export > buildReportWeekHTML > generates concept rows for each person
=== HTML EXPORT DEBUG ===
Persona keys in HTML export: [ 'G1__John' ]
Full data object keys: [ 'G1__John' ]
Data object sample: [
  { key: 'G1__John', data: { Dietas: [Object], Transporte: [Object] } }
]
Keys containing "G" (HTML): [ 'G1__John' ]
All keys with their parsed roles: [ { key: 'G1__John', role: 'G1', name: 'John' } ]
üîç SUSPICIOUS KEYS (might cause G-): [ 'G1__John' ]
  Key: "G1__John" -> role: "G1", name: "John"
üìã Sorted person keys by role hierarchy: [ 'G1 (priority: 1000)' ]
üìä Filtered concepts with data (HTML): [ 'Dietas', 'Transporte' ]
üìä All concepts: [ 'Dietas', 'Transporte' ]
üìä Removed concepts (HTML): []
HTML Parsed from "G1__John": role="G1", name="John"

stdout | src/features/reportes/utils/export.test.jsx > reportes/utils/export > buildReportWeekHTML > displays data values in correct cells
=== HTML EXPORT DEBUG ===
Persona keys in HTML export: [ 'G1__John' ]
Full data object keys: [ 'G1__John' ]
Data object sample: [
  { key: 'G1__John', data: { Dietas: [Object], Transporte: [Object] } }
]
Keys containing "G" (HTML): [ 'G1__John' ]
All keys with their parsed roles: [ { key: 'G1__John', role: 'G1', name: 'John' } ]
üîç SUSPICIOUS KEYS (might cause G-): [ 'G1__John' ]
  Key: "G1__John" -> role: "G1", name: "John"
üìã Sorted person keys by role hierarchy: [ 'G1 (priority: 1000)' ]
üìä Filtered concepts with data (HTML): [ 'Dietas', 'Transporte' ]
üìä All concepts: [ 'Dietas', 'Transporte' ]
üìä Removed concepts (HTML): []
HTML Parsed from "G1__John": role="G1", name="John"

stdout | src/features/reportes/utils/export.test.jsx > reportes/utils/export > buildReportWeekHTML > handles empty data gracefully
=== HTML EXPORT DEBUG ===
Persona keys in HTML export: []
Full data object keys: []
Data object sample: []
Keys containing "G" (HTML): []
All keys with their parsed roles: []
üìã Sorted person keys by role hierarchy: []
üìä Filtered concepts with data (HTML): []
üìä All concepts: [ 'Dietas', 'Transporte' ]
üìä Removed concepts (HTML): [ 'Dietas', 'Transporte' ]

stdout | src/features/reportes/utils/export.test.jsx > reportes/utils/export > buildReportWeekHTML > handles empty safeSemana gracefully
=== HTML EXPORT DEBUG ===
Persona keys in HTML export: [ 'G1__John' ]
Full data object keys: [ 'G1__John' ]
Data object sample: [
  { key: 'G1__John', data: { Dietas: [Object], Transporte: [Object] } }
]
Keys containing "G" (HTML): [ 'G1__John' ]
All keys with their parsed roles: [ { key: 'G1__John', role: 'G1', name: 'John' } ]
üîç SUSPICIOUS KEYS (might cause G-): [ 'G1__John' ]
  Key: "G1__John" -> role: "G1", name: "John"
üìã Sorted person keys by role hierarchy: [ 'G1 (priority: 1000)' ]
üìä Filtered concepts with data (HTML): []
üìä All concepts: [ 'Dietas', 'Transporte' ]
üìä Removed concepts (HTML): [ 'Dietas', 'Transporte' ]
üö´ Filtering out person with no meaningful data (HTML): G1__John

stdout | src/features/reportes/utils/export.test.jsx > reportes/utils/export > buildReportWeekHTML > handles null/undefined data gracefully
=== HTML EXPORT DEBUG ===
Persona keys in HTML export: []
Full data object keys: []
Data object sample: []
Keys containing "G" (HTML): []
All keys with their parsed roles: []
üìã Sorted person keys by role hierarchy: []
üìä Filtered concepts with data (HTML): []
üìä All concepts: [ 'Dietas', 'Transporte' ]
üìä Removed concepts (HTML): [ 'Dietas', 'Transporte' ]

stdout | src/features/reportes/utils/export.test.jsx > reportes/utils/export > buildReportWeekHTML > escapes HTML characters in project name
=== HTML EXPORT DEBUG ===
Persona keys in HTML export: [ 'G1__John' ]
Full data object keys: [ 'G1__John' ]
Data object sample: [
  { key: 'G1__John', data: { Dietas: [Object], Transporte: [Object] } }
]
Keys containing "G" (HTML): [ 'G1__John' ]
All keys with their parsed roles: [ { key: 'G1__John', role: 'G1', name: 'John' } ]
üîç SUSPICIOUS KEYS (might cause G-): [ 'G1__John' ]
  Key: "G1__John" -> role: "G1", name: "John"
üìã Sorted person keys by role hierarchy: [ 'G1 (priority: 1000)' ]
üìä Filtered concepts with data (HTML): [ 'Dietas', 'Transporte' ]
üìä All concepts: [ 'Dietas', 'Transporte' ]
üìä Removed concepts (HTML): []
HTML Parsed from "G1__John": role="G1", name="John"

stdout | src/features/reportes/utils/export.test.jsx > reportes/utils/export > buildReportWeekHTML > escapes HTML characters in title
=== HTML EXPORT DEBUG ===
Persona keys in HTML export: [ 'G1__John' ]
Full data object keys: [ 'G1__John' ]
Data object sample: [
  { key: 'G1__John', data: { Dietas: [Object], Transporte: [Object] } }
]
Keys containing "G" (HTML): [ 'G1__John' ]
All keys with their parsed roles: [ { key: 'G1__John', role: 'G1', name: 'John' } ]
üîç SUSPICIOUS KEYS (might cause G-): [ 'G1__John' ]
  Key: "G1__John" -> role: "G1", name: "John"
üìã Sorted person keys by role hierarchy: [ 'G1 (priority: 1000)' ]
üìä Filtered concepts with data (HTML): [ 'Dietas', 'Transporte' ]
üìä All concepts: [ 'Dietas', 'Transporte' ]
üìä Removed concepts (HTML): []
HTML Parsed from "G1__John": role="G1", name="John"

stdout | src/features/reportes/utils/export.test.jsx > reportes/utils/export > buildReportWeekHTML > escapes HTML characters in data values
=== HTML EXPORT DEBUG ===
Persona keys in HTML export: [ 'G1__John' ]
Full data object keys: [ 'G1__John' ]
Data object sample: [ { key: 'G1__John', data: { Dietas: [Object] } } ]
Keys containing "G" (HTML): [ 'G1__John' ]
All keys with their parsed roles: [ { key: 'G1__John', role: 'G1', name: 'John' } ]
üîç SUSPICIOUS KEYS (might cause G-): [ 'G1__John' ]
  Key: "G1__John" -> role: "G1", name: "John"
üìã Sorted person keys by role hierarchy: [ 'G1 (priority: 1000)' ]
üìä Filtered concepts with data (HTML): [ 'Dietas' ]
üìä All concepts: [ 'Dietas', 'Transporte' ]
üìä Removed concepts (HTML): [ 'Transporte' ]
HTML Parsed from "G1__John": role="G1", name="John"

 ‚úì src/features/nomina/utils/cond.test.jsx (17 tests) 24ms
stdout | src/features/nomina/utils/calcMensual.test.ts > calcMensual - makeRolePrices with holidayDay > should include holidayDay price for regular roles in mensual
[NOMINA.MENSUAL] makeRolePrices - model: {
  prices: {
    GAFFER: {
      'Precio jornada': '200',
      'Travel day': '66.67',
      'Horas extras': '30',
      'Precio D√≠a extra/Festivo': '350'
    }
  },
  params: {
    divTravel: '3',
    transporteDia: '15',
    kilometrajeKm: '0.25',
    dietaComida: '12',
    dietaCena: '18',
    dietaSinPernocta: '25',
    dietaAlojDes: '35',
    gastosBolsillo: '8'
  }
}
[NOMINA.MENSUAL] makeRolePrices - priceRows: {
  GAFFER: {
    'Precio jornada': '200',
    'Travel day': '66.67',
    'Horas extras': '30',
    'Precio D√≠a extra/Festivo': '350'
  }
}
[NOMINA.MENSUAL] makeRolePrices - params: {
  divTravel: '3',
  transporteDia: '15',
  kilometrajeKm: '0.25',
  dietaComida: '12',
  dietaCena: '18',
  dietaSinPernocta: '25',
  dietaAlojDes: '35',
  gastosBolsillo: '8'
}
[NOMINA.MENSUAL] getForRole - roleCode: GAFFER baseRoleCode: null
[NOMINA.MENSUAL] getForRole - normalized: GAFFE baseNorm: GAFFE
[NOMINA.MENSUAL] getForRole - row for GAFFE => key: GAFFER {
  'Precio jornada': '200',
  'Travel day': '66.67',
  'Horas extras': '30',
  'Precio D√≠a extra/Festivo': '350'
}
[NOMINA.MENSUAL] getForRole - baseRow for GAFFE => key: GAFFER {
  'Precio jornada': '200',
  'Travel day': '66.67',
  'Horas extras': '30',
  'Precio D√≠a extra/Festivo': '350'
}
[NOMINA.MENSUAL] getForRole - elecRow => key:  {}
[NOMINA.MENSUAL] getForRole - calculating for non-REF role: GAFFE
[NOMINA.MENSUAL] getNumField - candidates: [
  'Precio jornada',
  'Precio Jornada',
  'Jornada',
  'Precio dia',
  'Precio d√≠a'
]
[NOMINA.MENSUAL] getNumField - row keys: [
  'Precio jornada',
  'Travel day',
  'Horas extras',
  'Precio D√≠a extra/Festivo'
]
[NOMINA.MENSUAL] getNumField - row: {
  'Precio jornada': '200',
  'Travel day': '66.67',
  'Horas extras': '30',
  'Precio D√≠a extra/Festivo': '350'
}
[NOMINA.MENSUAL] getNumField - trying direct key "Precio jornada": 200
[NOMINA.MENSUAL] getNumField - candidates: [
  'Travel day',
  'Travel Day',
  'Travel',
  'D√≠a de viaje',
  'Dia de viaje',
  'D√≠a travel',
  'Dia travel',
  'TD'
]
[NOMINA.MENSUAL] getNumField - row keys: [
  'Precio jornada',
  'Travel day',
  'Horas extras',
  'Precio D√≠a extra/Festivo'
]
[NOMINA.MENSUAL] getNumField - row: {
  'Precio jornada': '200',
  'Travel day': '66.67',
  'Horas extras': '30',
  'Precio D√≠a extra/Festivo': '350'
}
[NOMINA.MENSUAL] getNumField - trying direct key "Travel day": 66.67
[NOMINA.MENSUAL] getNumField - candidates: [
  'Horas extras',
  'Horas Extras',
  'Hora extra',
  'Horas extra',
  'HE',
  'Hora Extra'
]
[NOMINA.MENSUAL] getNumField - row keys: [
  'Precio jornada',
  'Travel day',
  'Horas extras',
  'Precio D√≠a extra/Festivo'
]
[NOMINA.MENSUAL] getNumField - row: {
  'Precio jornada': '200',
  'Travel day': '66.67',
  'Horas extras': '30',
  'Precio D√≠a extra/Festivo': '350'
}
[NOMINA.MENSUAL] getNumField - trying direct key "Horas extras": 30
[NOMINA.MENSUAL] getNumField - candidates: [
  'Precio D√≠a extra/Festivo',
  'Precio D√≠a extra/festivo',
  'D√≠a extra/Festivo',
  'D√≠a festivo',
  'Festivo'
]
[NOMINA.MENSUAL] getNumField - row keys: [
  'Precio jornada',
  'Travel day',
  'Horas extras',
  'Precio D√≠a extra/Festivo'
]
[NOMINA.MENSUAL] getNumField - row: {
  'Precio jornada': '200',
  'Travel day': '66.67',
  'Horas extras': '30',
  'Precio D√≠a extra/Festivo': '350'
}
[NOMINA.MENSUAL] getNumField - trying direct key "Precio D√≠a extra/Festivo": 350
[NOMINA.MENSUAL] getForRole - calculated values: { jornada: 200, travelDay: 66.67, horaExtra: 30 }
[NOMINA.MENSUAL] getNumField - candidates: [ 'Precio mensual', 'Precio Mensual', 'Mensual' ]
[NOMINA.MENSUAL] getNumField - row keys: [
  'Precio jornada',
  'Travel day',
  'Horas extras',
  'Precio D√≠a extra/Festivo'
]
[NOMINA.MENSUAL] getNumField - row: {
  'Precio jornada': '200',
  'Travel day': '66.67',
  'Horas extras': '30',
  'Precio D√≠a extra/Festivo': '350'
}
[NOMINA.MENSUAL] getNumField - trying direct key "Precio mensual": undefined
[NOMINA.MENSUAL] getNumField - trying direct key "Precio Mensual": undefined
[NOMINA.MENSUAL] getNumField - trying direct key "Mensual": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "precio mensual": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "precio mensual": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "mensual": undefined
[NOMINA.MENSUAL] getForRole - result for GAFFER : {
  jornada: 200,
  travelDay: 66.67,
  horaExtra: 30,
  holidayDay: 350,
  precioMensual: 0,
  transporte: 15,
  km: 0.25,
  dietas: {
    Comida: 12,
    Cena: 18,
    'Dieta sin pernoctar': 25,
    'Dieta completa + desayuno': 35,
    'Gastos de bolsillo': 8
  }
}

stdout | src/features/nomina/utils/calcMensual.test.ts > calcMensual - makeRolePrices with holidayDay > should include holidayDay price for REF roles in mensual
[NOMINA.MENSUAL] makeRolePrices - model: {
  prices: {
    GAFFER: { 'Precio refuerzo': '150', 'Precio D√≠a extra/Festivo': '262.5' },
    'EL√âCTRICO': { 'Precio refuerzo': '120', 'Precio D√≠a extra/Festivo': '210' }
  },
  params: {
    divTravel: '3',
    transporteDia: '15',
    kilometrajeKm: '0.25',
    dietaComida: '12',
    dietaCena: '18',
    dietaSinPernocta: '25',
    dietaAlojDes: '35',
    gastosBolsillo: '8'
  }
}
[NOMINA.MENSUAL] makeRolePrices - priceRows: {
  GAFFER: { 'Precio refuerzo': '150', 'Precio D√≠a extra/Festivo': '262.5' },
  'EL√âCTRICO': { 'Precio refuerzo': '120', 'Precio D√≠a extra/Festivo': '210' }
}
[NOMINA.MENSUAL] makeRolePrices - params: {
  divTravel: '3',
  transporteDia: '15',
  kilometrajeKm: '0.25',
  dietaComida: '12',
  dietaCena: '18',
  dietaSinPernocta: '25',
  dietaAlojDes: '35',
  gastosBolsillo: '8'
}
[NOMINA.MENSUAL] getForRole - roleCode: REF baseRoleCode: GAFFER
[NOMINA.MENSUAL] getForRole - normalized: REF baseNorm: GAFFE
[NOMINA.MENSUAL] getForRole - row for REF => key:  {}
[NOMINA.MENSUAL] getForRole - baseRow for GAFFE => key: GAFFER { 'Precio refuerzo': '150', 'Precio D√≠a extra/Festivo': '262.5' }
[NOMINA.MENSUAL] getForRole - elecRow => key: EL√âCTRICO { 'Precio refuerzo': '120', 'Precio D√≠a extra/Festivo': '210' }
[NOMINA.MENSUAL] getNumField - candidates: [ 'Precio refuerzo', 'Precio Refuerzo', 'Refuerzo' ]
[NOMINA.MENSUAL] getNumField - row keys: [ 'Precio refuerzo', 'Precio D√≠a extra/Festivo' ]
[NOMINA.MENSUAL] getNumField - row: { 'Precio refuerzo': '150', 'Precio D√≠a extra/Festivo': '262.5' }
[NOMINA.MENSUAL] getNumField - trying direct key "Precio refuerzo": 150
[NOMINA.MENSUAL] getNumField - candidates: [
  'Precio jornada',
  'Precio Jornada',
  'Jornada',
  'Precio dia',
  'Precio d√≠a'
]
[NOMINA.MENSUAL] getNumField - row keys: [ 'Precio refuerzo', 'Precio D√≠a extra/Festivo' ]
[NOMINA.MENSUAL] getNumField - row: { 'Precio refuerzo': '150', 'Precio D√≠a extra/Festivo': '262.5' }
[NOMINA.MENSUAL] getNumField - trying direct key "Precio jornada": undefined
[NOMINA.MENSUAL] getNumField - trying direct key "Precio Jornada": undefined
[NOMINA.MENSUAL] getNumField - trying direct key "Jornada": undefined
[NOMINA.MENSUAL] getNumField - trying direct key "Precio dia": undefined
[NOMINA.MENSUAL] getNumField - trying direct key "Precio d√≠a": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "precio jornada": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "precio jornada": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "jornada": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "precio dia": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "precio d√≠a": undefined
[NOMINA.MENSUAL] getNumField - candidates: [ 'Precio refuerzo', 'Precio Refuerzo', 'Refuerzo' ]
[NOMINA.MENSUAL] getNumField - row keys: [ 'Precio refuerzo', 'Precio D√≠a extra/Festivo' ]
[NOMINA.MENSUAL] getNumField - row: { 'Precio refuerzo': '120', 'Precio D√≠a extra/Festivo': '210' }
[NOMINA.MENSUAL] getNumField - trying direct key "Precio refuerzo": 120
[NOMINA.MENSUAL] getNumField - candidates: [
  'Precio jornada',
  'Precio Jornada',
  'Jornada',
  'Precio dia',
  'Precio d√≠a'
]
[NOMINA.MENSUAL] getNumField - row keys: [ 'Precio refuerzo', 'Precio D√≠a extra/Festivo' ]
[NOMINA.MENSUAL] getNumField - row: { 'Precio refuerzo': '120', 'Precio D√≠a extra/Festivo': '210' }
[NOMINA.MENSUAL] getNumField - trying direct key "Precio jornada": undefined
[NOMINA.MENSUAL] getNumField - trying direct key "Precio Jornada": undefined
[NOMINA.MENSUAL] getNumField - trying direct key "Jornada": undefined
[NOMINA.MENSUAL] getNumField - trying direct key "Precio dia": undefined
[NOMINA.MENSUAL] getNumField - trying direct key "Precio d√≠a": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "precio jornada": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "precio jornada": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "jornada": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "precio dia": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "precio d√≠a": undefined
[NOMINA.MENSUAL] getNumField - candidates: [
  'Travel day',
  'Travel Day',
  'Travel',
  'D√≠a de viaje',
  'Dia de viaje',
  'D√≠a travel',
  'Dia travel',
  'TD'
]
[NOMINA.MENSUAL] getNumField - row keys: [ 'Precio refuerzo', 'Precio D√≠a extra/Festivo' ]
[NOMINA.MENSUAL] getNumField - row: { 'Precio refuerzo': '150', 'Precio D√≠a extra/Festivo': '262.5' }
[NOMINA.MENSUAL] getNumField - trying direct key "Travel day": undefined
[NOMINA.MENSUAL] getNumField - trying direct key "Travel Day": undefined
[NOMINA.MENSUAL] getNumField - trying direct key "Travel": undefined
[NOMINA.MENSUAL] getNumField - trying direct key "D√≠a de viaje": undefined
[NOMINA.MENSUAL] getNumField - trying direct key "Dia de viaje": undefined
[NOMINA.MENSUAL] getNumField - trying direct key "D√≠a travel": undefined
[NOMINA.MENSUAL] getNumField - trying direct key "Dia travel": undefined
[NOMINA.MENSUAL] getNumField - trying direct key "TD": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "travel day": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "travel day": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "travel": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "d√≠a de viaje": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "dia de viaje": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "d√≠a travel": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "dia travel": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "td": undefined
[NOMINA.MENSUAL] getNumField - candidates: [
  'Horas extras',
  'Horas Extras',
  'Hora extra',
  'Horas extra',
  'HE',
  'Hora Extra'
]
[NOMINA.MENSUAL] getNumField - row keys: [ 'Precio refuerzo', 'Precio D√≠a extra/Festivo' ]
[NOMINA.MENSUAL] getNumField - row: { 'Precio refuerzo': '120', 'Precio D√≠a extra/Festivo': '210' }
[NOMINA.MENSUAL] getNumField - trying direct key "Horas extras": undefined
[NOMINA.MENSUAL] getNumField - trying direct key "Horas Extras": undefined
[NOMINA.MENSUAL] getNumField - trying direct key "Hora extra": undefined
[NOMINA.MENSUAL] getNumField - trying direct key "Horas extra": undefined
[NOMINA.MENSUAL] getNumField - trying direct key "HE": undefined
[NOMINA.MENSUAL] getNumField - trying direct key "Hora Extra": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "horas extras": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "horas extras": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "hora extra": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "horas extra": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "he": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "hora extra": undefined
[NOMINA.MENSUAL] getNumField - candidates: [
  'Horas extras',
  'Horas Extras',
  'Hora extra',
  'Horas extra',
  'HE',
  'Hora Extra'
]
[NOMINA.MENSUAL] getNumField - row keys: [ 'Precio refuerzo', 'Precio D√≠a extra/Festivo' ]
[NOMINA.MENSUAL] getNumField - row: { 'Precio refuerzo': '150', 'Precio D√≠a extra/Festivo': '262.5' }
[NOMINA.MENSUAL] getNumField - trying direct key "Horas extras": undefined
[NOMINA.MENSUAL] getNumField - trying direct key "Horas Extras": undefined
[NOMINA.MENSUAL] getNumField - trying direct key "Hora extra": undefined
[NOMINA.MENSUAL] getNumField - trying direct key "Horas extra": undefined
[NOMINA.MENSUAL] getNumField - trying direct key "HE": undefined
[NOMINA.MENSUAL] getNumField - trying direct key "Hora Extra": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "horas extras": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "horas extras": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "hora extra": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "horas extra": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "he": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "hora extra": undefined
[NOMINA.MENSUAL] getNumField - candidates: [
  'Precio D√≠a extra/Festivo',
  'Precio D√≠a extra/festivo',
  'D√≠a extra/Festivo',
  'D√≠a festivo',
  'Festivo'
]
[NOMINA.MENSUAL] getNumField - row keys: [ 'Precio refuerzo', 'Precio D√≠a extra/Festivo' ]
[NOMINA.MENSUAL] getNumField - row: { 'Precio refuerzo': '120', 'Precio D√≠a extra/Festivo': '210' }
[NOMINA.MENSUAL] getNumField - trying direct key "Precio D√≠a extra/Festivo": 210
[NOMINA.MENSUAL] getNumField - candidates: [ 'Precio mensual', 'Precio Mensual', 'Mensual' ]
[NOMINA.MENSUAL] getNumField - row keys: []
[NOMINA.MENSUAL] getNumField - row: {}
[NOMINA.MENSUAL] getNumField - trying direct key "Precio mensual": undefined
[NOMINA.MENSUAL] getNumField - trying direct key "Precio Mensual": undefined
[NOMINA.MENSUAL] getNumField - trying direct key "Mensual": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "precio mensual": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "precio mensual": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "mensual": undefined
[NOMINA.MENSUAL] getForRole - result for REF : {
  jornada: 150,
  travelDay: 50,
  horaExtra: 0,
  holidayDay: 210,
  precioMensual: 0,
  transporte: 15,
  km: 0.25,
  dietas: {
    Comida: 12,
    Cena: 18,
    'Dieta sin pernoctar': 25,
    'Dieta completa + desayuno': 35,
    'Gastos de bolsillo': 8
  }
}

stdout | src/features/nomina/utils/calcMensual.test.ts > calcMensual - makeRolePrices with holidayDay > should return 0 for holidayDay when not defined in mensual
[NOMINA.MENSUAL] makeRolePrices - model: {
  prices: { GAFFER: { 'Precio jornada': '200' } },
  params: { divTravel: '3' }
}
[NOMINA.MENSUAL] makeRolePrices - priceRows: { GAFFER: { 'Precio jornada': '200' } }
[NOMINA.MENSUAL] makeRolePrices - params: { divTravel: '3' }
[NOMINA.MENSUAL] getForRole - roleCode: GAFFER baseRoleCode: null
[NOMINA.MENSUAL] getForRole - normalized: GAFFE baseNorm: GAFFE
[NOMINA.MENSUAL] getForRole - row for GAFFE => key: GAFFER { 'Precio jornada': '200' }
[NOMINA.MENSUAL] getForRole - baseRow for GAFFE => key: GAFFER { 'Precio jornada': '200' }
[NOMINA.MENSUAL] getForRole - elecRow => key:  {}
[NOMINA.MENSUAL] getForRole - calculating for non-REF role: GAFFE
[NOMINA.MENSUAL] getNumField - candidates: [
  'Precio jornada',
  'Precio Jornada',
  'Jornada',
  'Precio dia',
  'Precio d√≠a'
]
[NOMINA.MENSUAL] getNumField - row keys: [ 'Precio jornada' ]
[NOMINA.MENSUAL] getNumField - row: { 'Precio jornada': '200' }
[NOMINA.MENSUAL] getNumField - trying direct key "Precio jornada": 200
[NOMINA.MENSUAL] getNumField - candidates: [
  'Travel day',
  'Travel Day',
  'Travel',
  'D√≠a de viaje',
  'Dia de viaje',
  'D√≠a travel',
  'Dia travel',
  'TD'
]
[NOMINA.MENSUAL] getNumField - row keys: [ 'Precio jornada' ]
[NOMINA.MENSUAL] getNumField - row: { 'Precio jornada': '200' }
[NOMINA.MENSUAL] getNumField - trying direct key "Travel day": undefined
[NOMINA.MENSUAL] getNumField - trying direct key "Travel Day": undefined
[NOMINA.MENSUAL] getNumField - trying direct key "Travel": undefined
[NOMINA.MENSUAL] getNumField - trying direct key "D√≠a de viaje": undefined
[NOMINA.MENSUAL] getNumField - trying direct key "Dia de viaje": undefined
[NOMINA.MENSUAL] getNumField - trying direct key "D√≠a travel": undefined
[NOMINA.MENSUAL] getNumField - trying direct key "Dia travel": undefined
[NOMINA.MENSUAL] getNumField - trying direct key "TD": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "travel day": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "travel day": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "travel": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "d√≠a de viaje": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "dia de viaje": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "d√≠a travel": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "dia travel": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "td": undefined
[NOMINA.MENSUAL] getNumField - candidates: [
  'Horas extras',
  'Horas Extras',
  'Hora extra',
  'Horas extra',
  'HE',
  'Hora Extra'
]
[NOMINA.MENSUAL] getNumField - row keys: [ 'Precio jornada' ]
[NOMINA.MENSUAL] getNumField - row: { 'Precio jornada': '200' }
[NOMINA.MENSUAL] getNumField - trying direct key "Horas extras": undefined
[NOMINA.MENSUAL] getNumField - trying direct key "Horas Extras": undefined
[NOMINA.MENSUAL] getNumField - trying direct key "Hora extra": undefined
[NOMINA.MENSUAL] getNumField - trying direct key "Horas extra": undefined
[NOMINA.MENSUAL] getNumField - trying direct key "HE": undefined
[NOMINA.MENSUAL] getNumField - trying direct key "Hora Extra": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "horas extras": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "horas extras": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "hora extra": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "horas extra": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "he": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "hora extra": undefined
[NOMINA.MENSUAL] getNumField - candidates: [
  'Precio D√≠a extra/Festivo',
  'Precio D√≠a extra/festivo',
  'D√≠a extra/Festivo',
  'D√≠a festivo',
  'Festivo'
]
[NOMINA.MENSUAL] getNumField - row keys: [ 'Precio jornada' ]
[NOMINA.MENSUAL] getNumField - row: { 'Precio jornada': '200' }
[NOMINA.MENSUAL] getNumField - trying direct key "Precio D√≠a extra/Festivo": undefined
[NOMINA.MENSUAL] getNumField - trying direct key "Precio D√≠a extra/festivo": undefined
[NOMINA.MENSUAL] getNumField - trying direct key "D√≠a extra/Festivo": undefined
[NOMINA.MENSUAL] getNumField - trying direct key "D√≠a festivo": undefined
[NOMINA.MENSUAL] getNumField - trying direct key "Festivo": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "precio d√≠a extra/festivo": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "precio d√≠a extra/festivo": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "d√≠a extra/festivo": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "d√≠a festivo": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "festivo": undefined
[NOMINA.MENSUAL] getForRole - calculated values: { jornada: 200, travelDay: 66.66666666666667, horaExtra: 0 }
[NOMINA.MENSUAL] getNumField - candidates: [ 'Precio mensual', 'Precio Mensual', 'Mensual' ]
[NOMINA.MENSUAL] getNumField - row keys: [ 'Precio jornada' ]
[NOMINA.MENSUAL] getNumField - row: { 'Precio jornada': '200' }
[NOMINA.MENSUAL] getNumField - trying direct key "Precio mensual": undefined
[NOMINA.MENSUAL] getNumField - trying direct key "Precio Mensual": undefined
[NOMINA.MENSUAL] getNumField - trying direct key "Mensual": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "precio mensual": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "precio mensual": undefined
[NOMINA.MENSUAL] getNumField - trying lowercase "mensual": undefined
[NOMINA.MENSUAL] getForRole - result for GAFFER : {
  jornada: 200,
  travelDay: 66.66666666666667,
  horaExtra: 0,
  holidayDay: 0,
  precioMensual: 0,
  transporte: 0,
  km: 0,
  dietas: {
    Comida: 0,
    Cena: 0,
    'Dieta sin pernoctar': 0,
    'Dieta completa + desayuno': 0,
    'Gastos de bolsillo': 0
  }
}

 ‚úì src/features/nomina/utils/calcMensual.test.ts (3 tests) 112ms
stdout | src/features/reportes/utils/export.test.jsx > reportes/utils/export > buildReportWeekHTML > handles multiple persons
=== HTML EXPORT DEBUG ===
Persona keys in HTML export: [ 'G1__John', 'E2__Jane' ]
Full data object keys: [ 'G1__John', 'E2__Jane' ]
Data object sample: [
  { key: 'G1__John', data: { Dietas: [Object] } },
  { key: 'E2__Jane', data: { Dietas: [Object] } }
]
Keys containing "G" (HTML): [ 'G1__John' ]
All keys with their parsed roles: [
  { key: 'G1__John', role: 'G1', name: 'John' },
  { key: 'E2__Jane', role: 'E2', name: 'Jane' }
]
üîç SUSPICIOUS KEYS (might cause G-): [ 'G1__John', 'E2__Jane' ]
  Key: "G1__John" -> role: "G1", name: "John"
  Key: "E2__Jane" -> role: "E2", name: "Jane"
üìã Sorted person keys by role hierarchy: [ 'E2 (priority: 1000)', 'G1 (priority: 1000)' ]
üìä Filtered concepts with data (HTML): [ 'Dietas' ]
üìä All concepts: [ 'Dietas', 'Transporte' ]
üìä Removed concepts (HTML): [ 'Transporte' ]
HTML Parsed from "E2__Jane": role="E2", name="Jane"
HTML Parsed from "G1__John": role="G1", name="John"

stdout | src/features/reportes/utils/export.test.jsx > reportes/utils/export > buildReportWeekHTML > handles person key without role part
=== HTML EXPORT DEBUG ===
Persona keys in HTML export: [ '__John' ]
Full data object keys: [ '__John' ]
Data object sample: [ { key: '__John', data: { Dietas: [Object] } } ]
Keys containing "G" (HTML): []
All keys with their parsed roles: [ { key: '__John', role: '', name: 'John' } ]
üîç SUSPICIOUS KEYS (might cause G-): [ '__John' ]
  Key: "__John" -> role: "", name: "John"
üìã Sorted person keys by role hierarchy: [ ' (priority: 1000)' ]
üìä Filtered concepts with data (HTML): [ 'Dietas' ]
üìä All concepts: [ 'Dietas', 'Transporte' ]
üìä Removed concepts (HTML): [ 'Transporte' ]
HTML Parsed from "__John": role="", name="John"

stdout | src/features/reportes/utils/export.test.jsx > reportes/utils/export > buildReportWeekHTML > includes SetLux footer
=== HTML EXPORT DEBUG ===
Persona keys in HTML export: [ 'G1__John' ]
Full data object keys: [ 'G1__John' ]
Data object sample: [
  { key: 'G1__John', data: { Dietas: [Object], Transporte: [Object] } }
]
Keys containing "G" (HTML): [ 'G1__John' ]
All keys with their parsed roles: [ { key: 'G1__John', role: 'G1', name: 'John' } ]
üîç SUSPICIOUS KEYS (might cause G-): [ 'G1__John' ]
  Key: "G1__John" -> role: "G1", name: "John"
üìã Sorted person keys by role hierarchy: [ 'G1 (priority: 1000)' ]
üìä Filtered concepts with data (HTML): [ 'Dietas', 'Transporte' ]
üìä All concepts: [ 'Dietas', 'Transporte' ]
üìä Removed concepts (HTML): []
HTML Parsed from "G1__John": role="G1", name="John"

stdout | src/features/reportes/utils/export.test.jsx > reportes/utils/export > buildReportWeekHTML > generates valid HTML structure
=== HTML EXPORT DEBUG ===
Persona keys in HTML export: [ 'G1__John' ]
Full data object keys: [ 'G1__John' ]
Data object sample: [
  { key: 'G1__John', data: { Dietas: [Object], Transporte: [Object] } }
]
Keys containing "G" (HTML): [ 'G1__John' ]
All keys with their parsed roles: [ { key: 'G1__John', role: 'G1', name: 'John' } ]
üîç SUSPICIOUS KEYS (might cause G-): [ 'G1__John' ]
  Key: "G1__John" -> role: "G1", name: "John"
üìã Sorted person keys by role hierarchy: [ 'G1 (priority: 1000)' ]
üìä Filtered concepts with data (HTML): [ 'Dietas', 'Transporte' ]
üìä All concepts: [ 'Dietas', 'Transporte' ]
üìä Removed concepts (HTML): []
HTML Parsed from "G1__John": role="G1", name="John"

 ‚úì src/features/reportes/utils/export.test.jsx (17 tests) 411ms
 ‚úì src/features/reportes/utils/runtime.test.jsx (45 tests) 144ms
 ‚úì src/features/planificacion/utils/calendar.test.jsx (10 tests) 156ms
stdout | src/features/reportes/hooks/useReportData.test.jsx > useReportData > should initialize with empty data structure
[REPORTES.DEBUG] useReportData initialized with storageKey: test-key personas: 2 semana: [ '2024-01-15', '2024-01-16', '2024-01-17' ]

stdout | src/features/reportes/hooks/useReportData.test.jsx > useReportData > should provide setCell function
[REPORTES.DEBUG] useReportData initialized with storageKey: test-key personas: 2 semana: [ '2024-01-15', '2024-01-16', '2024-01-17' ]

 ‚úì src/features/reportes/hooks/useReportData.test.jsx (2 tests) 40ms
 ‚úì src/features/planificacion/utils/exportRuntime.test.jsx (11 tests) 22ms
stdout | src/features/nomina/utils/calcSemanal.test.ts > calcSemanal - makeRolePrices with holidayDay > should include holidayDay price for regular roles
[NOMINA] makeRolePrices - model: {
  prices: {
    GAFFER: {
      'Precio jornada': '150',
      'Travel day': '75',
      'Horas extras': '25',
      'Precio D√≠a extra/Festivo': '262.5'
    }
  },
  params: {
    transporteDia: '15',
    kilometrajeKm: '0.25',
    dietaComida: '12',
    dietaCena: '18',
    dietaSinPernocta: '25',
    dietaAlojDes: '35',
    gastosBolsillo: '8'
  }
}
[NOMINA] makeRolePrices - priceRows: {
  GAFFER: {
    'Precio jornada': '150',
    'Travel day': '75',
    'Horas extras': '25',
    'Precio D√≠a extra/Festivo': '262.5'
  }
}
[NOMINA] makeRolePrices - params: {
  transporteDia: '15',
  kilometrajeKm: '0.25',
  dietaComida: '12',
  dietaCena: '18',
  dietaSinPernocta: '25',
  dietaAlojDes: '35',
  gastosBolsillo: '8'
}
[NOMINA] getForRole - roleCode: GAFFER baseRoleCode: null
[NOMINA] getForRole - normalized: GAFFE baseNorm: GAFFE
[NOMINA] getForRole - row for GAFFE => key: GAFFER {
  'Precio jornada': '150',
  'Travel day': '75',
  'Horas extras': '25',
  'Precio D√≠a extra/Festivo': '262.5'
}
[NOMINA] getForRole - baseRow for GAFFE => key: GAFFER {
  'Precio jornada': '150',
  'Travel day': '75',
  'Horas extras': '25',
  'Precio D√≠a extra/Festivo': '262.5'
}
[NOMINA] getForRole - elecRow => key:  {}
[NOMINA] getForRole - calculating for non-REF role: GAFFE
[NOMINA] getNumField - candidates: [
  'Precio jornada',
  'Precio Jornada',
  'Jornada',
  'Precio dia',
  'Precio d√≠a'
]
[NOMINA] getNumField - row keys: [
  'Precio jornada',
  'Travel day',
  'Horas extras',
  'Precio D√≠a extra/Festivo'
]
[NOMINA] getNumField - row: {
  'Precio jornada': '150',
  'Travel day': '75',
  'Horas extras': '25',
  'Precio D√≠a extra/Festivo': '262.5'
}
[NOMINA] getNumField - trying direct key "Precio jornada": 150
[NOMINA] getNumField - candidates: [
  'Travel day',
  'Travel Day',
  'Travel',
  'D√≠a de viaje',
  'Dia de viaje',
  'D√≠a travel',
  'Dia travel',
  'TD'
]
[NOMINA] getNumField - row keys: [
  'Precio jornada',
  'Travel day',
  'Horas extras',
  'Precio D√≠a extra/Festivo'
]
[NOMINA] getNumField - row: {
  'Precio jornada': '150',
  'Travel day': '75',
  'Horas extras': '25',
  'Precio D√≠a extra/Festivo': '262.5'
}
[NOMINA] getNumField - trying direct key "Travel day": 75
[NOMINA] getNumField - candidates: [
  'Horas extras',
  'Horas Extras',
  'Hora extra',
  'Horas extra',
  'HE',
  'Hora Extra'
]
[NOMINA] getNumField - row keys: [
  'Precio jornada',
  'Travel day',
  'Horas extras',
  'Precio D√≠a extra/Festivo'
]
[NOMINA] getNumField - row: {
  'Precio jornada': '150',
  'Travel day': '75',
  'Horas extras': '25',
  'Precio D√≠a extra/Festivo': '262.5'
}
[NOMINA] getNumField - trying direct key "Horas extras": 25
[NOMINA] getNumField - candidates: [
  'Precio D√≠a extra/Festivo',
  'Precio D√≠a extra/festivo',
  'D√≠a extra/Festivo',
  'D√≠a festivo',
  'Festivo'
]
[NOMINA] getNumField - row keys: [
  'Precio jornada',
  'Travel day',
  'Horas extras',
  'Precio D√≠a extra/Festivo'
]
[NOMINA] getNumField - row: {
  'Precio jornada': '150',
  'Travel day': '75',
  'Horas extras': '25',
  'Precio D√≠a extra/Festivo': '262.5'
}
[NOMINA] getNumField - trying direct key "Precio D√≠a extra/Festivo": 262.5
[NOMINA] getForRole - calculated values: { jornada: 150, travelDay: 75, horaExtra: 25 }
[NOMINA] getForRole - result for GAFFER : {
  jornada: 150,
  travelDay: 75,
  horaExtra: 25,
  holidayDay: 262.5,
  transporte: 15,
  km: 0.25,
  dietas: {
    Comida: 12,
    Cena: 18,
    'Dieta sin pernoctar': 25,
    'Dieta completa + desayuno': 35,
    'Gastos de bolsillo': 8
  }
}

 ‚úì src/shared/constants/roles.test.jsx (21 tests) 36ms
 ‚úì src/features/nomina/utils/date.test.jsx (37 tests) 303ms
stdout | src/features/nomina/utils/calcSemanal.test.ts > calcSemanal - makeRolePrices with holidayDay > should include holidayDay price for REF roles
[NOMINA] makeRolePrices - model: {
  prices: {
    GAFFER: { 'Precio refuerzo': '120', 'Precio D√≠a extra/Festivo': '210' },
    'EL√âCTRICO': { 'Precio refuerzo': '100', 'Precio D√≠a extra/Festivo': '175' }
  },
  params: {
    transporteDia: '15',
    kilometrajeKm: '0.25',
    dietaComida: '12',
    dietaCena: '18',
    dietaSinPernocta: '25',
    dietaAlojDes: '35',
    gastosBolsillo: '8'
  }
}
[NOMINA] makeRolePrices - priceRows: {
  GAFFER: { 'Precio refuerzo': '120', 'Precio D√≠a extra/Festivo': '210' },
  'EL√âCTRICO': { 'Precio refuerzo': '100', 'Precio D√≠a extra/Festivo': '175' }
}
[NOMINA] makeRolePrices - params: {
  transporteDia: '15',
  kilometrajeKm: '0.25',
  dietaComida: '12',
  dietaCena: '18',
  dietaSinPernocta: '25',
  dietaAlojDes: '35',
  gastosBolsillo: '8'
}
[NOMINA] getForRole - roleCode: REF baseRoleCode: GAFFER
[NOMINA] getForRole - normalized: REF baseNorm: GAFFE
[NOMINA] getForRole - row for REF => key:  {}
[NOMINA] getForRole - baseRow for GAFFE => key: GAFFER { 'Precio refuerzo': '120', 'Precio D√≠a extra/Festivo': '210' }
[NOMINA] getForRole - elecRow => key: EL√âCTRICO { 'Precio refuerzo': '100', 'Precio D√≠a extra/Festivo': '175' }
[NOMINA] getNumField - candidates: [ 'Precio refuerzo', 'Precio Refuerzo', 'Refuerzo' ]
[NOMINA] getNumField - row keys: [ 'Precio refuerzo', 'Precio D√≠a extra/Festivo' ]
[NOMINA] getNumField - row: { 'Precio refuerzo': '120', 'Precio D√≠a extra/Festivo': '210' }
[NOMINA] getNumField - trying direct key "Precio refuerzo": 120
[NOMINA] getNumField - candidates: [
  'Precio jornada',
  'Precio Jornada',
  'Jornada',
  'Precio dia',
  'Precio d√≠a'
]
[NOMINA] getNumField - row keys: [ 'Precio refuerzo', 'Precio D√≠a extra/Festivo' ]
[NOMINA] getNumField - row: { 'Precio refuerzo': '120', 'Precio D√≠a extra/Festivo': '210' }
[NOMINA] getNumField - trying direct key "Precio jornada": undefined
[NOMINA] getNumField - trying direct key "Precio Jornada": undefined
[NOMINA] getNumField - trying direct key "Jornada": undefined
[NOMINA] getNumField - trying direct key "Precio dia": undefined
[NOMINA] getNumField - trying direct key "Precio d√≠a": undefined
[NOMINA] getNumField - trying lowercase "precio jornada": undefined
[NOMINA] getNumField - trying lowercase "precio jornada": undefined
[NOMINA] getNumField - trying lowercase "jornada": undefined
[NOMINA] getNumField - trying lowercase "precio dia": undefined
[NOMINA] getNumField - trying lowercase "precio d√≠a": undefined
[NOMINA] getNumField - candidates: [ 'Precio refuerzo', 'Precio Refuerzo', 'Refuerzo' ]
[NOMINA] getNumField - row keys: [ 'Precio refuerzo', 'Precio D√≠a extra/Festivo' ]
[NOMINA] getNumField - row: { 'Precio refuerzo': '100', 'Precio D√≠a extra/Festivo': '175' }
[NOMINA] getNumField - trying direct key "Precio refuerzo": 100
[NOMINA] getNumField - candidates: [
  'Precio jornada',
  'Precio Jornada',
  'Jornada',
  'Precio dia',
  'Precio d√≠a'
]
[NOMINA] getNumField - row keys: [ 'Precio refuerzo', 'Precio D√≠a extra/Festivo' ]
[NOMINA] getNumField - row: { 'Precio refuerzo': '100', 'Precio D√≠a extra/Festivo': '175' }
[NOMINA] getNumField - trying direct key "Precio jornada": undefined
[NOMINA] getNumField - trying direct key "Precio Jornada": undefined
[NOMINA] getNumField - trying direct key "Jornada": undefined
[NOMINA] getNumField - trying direct key "Precio dia": undefined
[NOMINA] getNumField - trying direct key "Precio d√≠a": undefined
[NOMINA] getNumField - trying lowercase "precio jornada": undefined
[NOMINA] getNumField - trying lowercase "precio jornada": undefined
[NOMINA] getNumField - trying lowercase "jornada": undefined
[NOMINA] getNumField - trying lowercase "precio dia": undefined
[NOMINA] getNumField - trying lowercase "precio d√≠a": undefined
[NOMINA] getNumField - candidates: [
  'Travel day',
  'Travel Day',
  'Travel',
  'D√≠a de viaje',
  'Dia de viaje',
  'D√≠a travel',
  'Dia travel',
  'TD'
]
[NOMINA] getNumField - row keys: [ 'Precio refuerzo', 'Precio D√≠a extra/Festivo' ]
[NOMINA] getNumField - row: { 'Precio refuerzo': '120', 'Precio D√≠a extra/Festivo': '210' }
[NOMINA] getNumField - trying direct key "Travel day": undefined
[NOMINA] getNumField - trying direct key "Travel Day": undefined
[NOMINA] getNumField - trying direct key "Travel": undefined
[NOMINA] getNumField - trying direct key "D√≠a de viaje": undefined
[NOMINA] getNumField - trying direct key "Dia de viaje": undefined
[NOMINA] getNumField - trying direct key "D√≠a travel": undefined
[NOMINA] getNumField - trying direct key "Dia travel": undefined
[NOMINA] getNumField - trying direct key "TD": undefined
[NOMINA] getNumField - trying lowercase "travel day": undefined
[NOMINA] getNumField - trying lowercase "travel day": undefined
[NOMINA] getNumField - trying lowercase "travel": undefined
[NOMINA] getNumField - trying lowercase "d√≠a de viaje": undefined
[NOMINA] getNumField - trying lowercase "dia de viaje": undefined
[NOMINA] getNumField - trying lowercase "d√≠a travel": undefined
[NOMINA] getNumField - trying lowercase "dia travel": undefined
[NOMINA] getNumField - trying lowercase "td": undefined
[NOMINA] getNumField - candidates: [
  'Horas extras',
  'Horas Extras',
  'Hora extra',
  'Horas extra',
  'HE',
  'Hora Extra'
]
[NOMINA] getNumField - row keys: [ 'Precio refuerzo', 'Precio D√≠a extra/Festivo' ]
[NOMINA] getNumField - row: { 'Precio refuerzo': '100', 'Precio D√≠a extra/Festivo': '175' }
[NOMINA] getNumField - trying direct key "Horas extras": undefined
[NOMINA] getNumField - trying direct key "Horas Extras": undefined
[NOMINA] getNumField - trying direct key "Hora extra": undefined
[NOMINA] getNumField - trying direct key "Horas extra": undefined
[NOMINA] getNumField - trying direct key "HE": undefined
[NOMINA] getNumField - trying direct key "Hora Extra": undefined
[NOMINA] getNumField - trying lowercase "horas extras": undefined
[NOMINA] getNumField - trying lowercase "horas extras": undefined
[NOMINA] getNumField - trying lowercase "hora extra": undefined
[NOMINA] getNumField - trying lowercase "horas extra": undefined
[NOMINA] getNumField - trying lowercase "he": undefined
[NOMINA] getNumField - trying lowercase "hora extra": undefined
[NOMINA] getNumField - candidates: [
  'Horas extras',
  'Horas Extras',
  'Hora extra',
  'Horas extra',
  'HE',
  'Hora Extra'
]
[NOMINA] getNumField - row keys: [ 'Precio refuerzo', 'Precio D√≠a extra/Festivo' ]
[NOMINA] getNumField - row: { 'Precio refuerzo': '120', 'Precio D√≠a extra/Festivo': '210' }
[NOMINA] getNumField - trying direct key "Horas extras": undefined
[NOMINA] getNumField - trying direct key "Horas Extras": undefined
[NOMINA] getNumField - trying direct key "Hora extra": undefined
[NOMINA] getNumField - trying direct key "Horas extra": undefined
[NOMINA] getNumField - trying direct key "HE": undefined
[NOMINA] getNumField - trying direct key "Hora Extra": undefined
[NOMINA] getNumField - trying lowercase "horas extras": undefined
[NOMINA] getNumField - trying lowercase "horas extras": undefined
[NOMINA] getNumField - trying lowercase "hora extra": undefined
[NOMINA] getNumField - trying lowercase "horas extra": undefined
[NOMINA] getNumField - trying lowercase "he": undefined
[NOMINA] getNumField - trying lowercase "hora extra": undefined
[NOMINA] getNumField - candidates: [
  'Precio D√≠a extra/Festivo',
  'Precio D√≠a extra/festivo',
  'D√≠a extra/Festivo',
  'D√≠a festivo',
  'Festivo'
]
[NOMINA] getNumField - row keys: [ 'Precio refuerzo', 'Precio D√≠a extra/Festivo' ]
[NOMINA] getNumField - row: { 'Precio refuerzo': '100', 'Precio D√≠a extra/Festivo': '175' }
[NOMINA] getNumField - trying direct key "Precio D√≠a extra/Festivo": 175
[NOMINA] getForRole - result for REF : {
  jornada: 120,
  travelDay: 60,
  horaExtra: 0,
  holidayDay: 175,
  transporte: 15,
  km: 0.25,
  dietas: {
    Comida: 12,
    Cena: 18,
    'Dieta sin pernoctar': 25,
    'Dieta completa + desayuno': 35,
    'Gastos de bolsillo': 8
  }
}

stdout | src/features/nomina/utils/calcSemanal.test.ts > calcSemanal - makeRolePrices with holidayDay > should return 0 for holidayDay when not defined
[NOMINA] makeRolePrices - model: { prices: { GAFFER: { 'Precio jornada': '150' } }, params: {} }
[NOMINA] makeRolePrices - priceRows: { GAFFER: { 'Precio jornada': '150' } }
[NOMINA] makeRolePrices - params: {}
[NOMINA] getForRole - roleCode: GAFFER baseRoleCode: null
[NOMINA] getForRole - normalized: GAFFE baseNorm: GAFFE
[NOMINA] getForRole - row for GAFFE => key: GAFFER { 'Precio jornada': '150' }
[NOMINA] getForRole - baseRow for GAFFE => key: GAFFER { 'Precio jornada': '150' }
[NOMINA] getForRole - elecRow => key:  {}
[NOMINA] getForRole - calculating for non-REF role: GAFFE
[NOMINA] getNumField - candidates: [
  'Precio jornada',
  'Precio Jornada',
  'Jornada',
  'Precio dia',
  'Precio d√≠a'
]
[NOMINA] getNumField - row keys: [ 'Precio jornada' ]
[NOMINA] getNumField - row: { 'Precio jornada': '150' }
[NOMINA] getNumField - trying direct key "Precio jornada": 150
[NOMINA] getNumField - candidates: [
  'Travel day',
  'Travel Day',
  'Travel',
  'D√≠a de viaje',
  'Dia de viaje',
  'D√≠a travel',
  'Dia travel',
  'TD'
]
[NOMINA] getNumField - row keys: [ 'Precio jornada' ]
[NOMINA] getNumField - row: { 'Precio jornada': '150' }
[NOMINA] getNumField - trying direct key "Travel day": undefined
[NOMINA] getNumField - trying direct key "Travel Day": undefined
[NOMINA] getNumField - trying direct key "Travel": undefined
[NOMINA] getNumField - trying direct key "D√≠a de viaje": undefined
[NOMINA] getNumField - trying direct key "Dia de viaje": undefined
[NOMINA] getNumField - trying direct key "D√≠a travel": undefined
[NOMINA] getNumField - trying direct key "Dia travel": undefined
[NOMINA] getNumField - trying direct key "TD": undefined
[NOMINA] getNumField - trying lowercase "travel day": undefined
[NOMINA] getNumField - trying lowercase "travel day": undefined
[NOMINA] getNumField - trying lowercase "travel": undefined
[NOMINA] getNumField - trying lowercase "d√≠a de viaje": undefined
[NOMINA] getNumField - trying lowercase "dia de viaje": undefined
[NOMINA] getNumField - trying lowercase "d√≠a travel": undefined
[NOMINA] getNumField - trying lowercase "dia travel": undefined
[NOMINA] getNumField - trying lowercase "td": undefined
[NOMINA] getNumField - candidates: [
  'Horas extras',
  'Horas Extras',
  'Hora extra',
  'Horas extra',
  'HE',
  'Hora Extra'
]
[NOMINA] getNumField - row keys: [ 'Precio jornada' ]
[NOMINA] getNumField - row: { 'Precio jornada': '150' }
[NOMINA] getNumField - trying direct key "Horas extras": undefined
[NOMINA] getNumField - trying direct key "Horas Extras": undefined
[NOMINA] getNumField - trying direct key "Hora extra": undefined
[NOMINA] getNumField - trying direct key "Horas extra": undefined
[NOMINA] getNumField - trying direct key "HE": undefined
[NOMINA] getNumField - trying direct key "Hora Extra": undefined
[NOMINA] getNumField - trying lowercase "horas extras": undefined
[NOMINA] getNumField - trying lowercase "horas extras": undefined
[NOMINA] getNumField - trying lowercase "hora extra": undefined
[NOMINA] getNumField - trying lowercase "horas extra": undefined
[NOMINA] getNumField - trying lowercase "he": undefined
[NOMINA] getNumField - trying lowercase "hora extra": undefined
[NOMINA] getNumField - candidates: [
  'Precio D√≠a extra/Festivo',
  'Precio D√≠a extra/festivo',
  'D√≠a extra/Festivo',
  'D√≠a festivo',
  'Festivo'
]
[NOMINA] getNumField - row keys: [ 'Precio jornada' ]
[NOMINA] getNumField - row: { 'Precio jornada': '150' }
[NOMINA] getNumField - trying direct key "Precio D√≠a extra/Festivo": undefined
[NOMINA] getNumField - trying direct key "Precio D√≠a extra/festivo": undefined
[NOMINA] getNumField - trying direct key "D√≠a extra/Festivo": undefined
[NOMINA] getNumField - trying direct key "D√≠a festivo": undefined
[NOMINA] getNumField - trying direct key "Festivo": undefined
[NOMINA] getNumField - trying lowercase "precio d√≠a extra/festivo": undefined
[NOMINA] getNumField - trying lowercase "precio d√≠a extra/festivo": undefined
[NOMINA] getNumField - trying lowercase "d√≠a extra/festivo": undefined
[NOMINA] getNumField - trying lowercase "d√≠a festivo": undefined
[NOMINA] getNumField - trying lowercase "festivo": undefined
[NOMINA] getForRole - calculated values: { jornada: 150, travelDay: 75, horaExtra: 0 }
[NOMINA] getForRole - result for GAFFER : {
  jornada: 150,
  travelDay: 75,
  horaExtra: 0,
  holidayDay: 0,
  transporte: 0,
  km: 0,
  dietas: {
    Comida: 0,
    Cena: 0,
    'Dieta sin pernoctar': 0,
    'Dieta completa + desayuno': 0,
    'Gastos de bolsillo': 0
  }
}

 ‚úì src/features/nomina/utils/calcSemanal.test.ts (3 tests) 304ms
 ‚úì src/features/reportes/utils/derive.test.jsx (28 tests) 187ms
 ‚úì src/features/planificacion/utils/export.test.jsx (19 tests) 302ms
stdout | src/shared/services/localStorage.service.test.jsx > shared/services/localStorage.service > setString/getString/remove work as expected
[STORAGE.DEBUG] setString called: test_key hello
[STORAGE.DEBUG] setString success

stdout | src/shared/services/localStorage.service.test.jsx > shared/services/localStorage.service > setJSON/getJSON store and retrieve structured data
[STORAGE.DEBUG] setString called: test_key {"a":1,"b":"two","c":[3,4],"d":{"e":true}}
[STORAGE.DEBUG] setString success
[STORAGE.DEBUG] setString called: test_key [1,2,3]
[STORAGE.DEBUG] setString success
[STORAGE.DEBUG] setString called: test_key "plain"
[STORAGE.DEBUG] setString success

stdout | src/shared/services/localStorage.service.test.jsx > shared/services/localStorage.service > methods are resilient to localStorage errors
[STORAGE.DEBUG] setString called: test_key x

stderr | src/shared/services/localStorage.service.test.jsx > shared/services/localStorage.service > methods are resilient to localStorage errors
[STORAGE.DEBUG] setString error: Error: set fail
    at Object.<anonymous> (/Users/raul/Desktop/MIS COSAS/02_Set_Lux/SetLux_Beta/src/shared/services/localStorage.service.test.jsx:58:15)
    at Object.mockCall (file:///Users/raul/Desktop/MIS%20COSAS/02_Set_Lux/SetLux_Beta/node_modules/@vitest/spy/dist/index.js:96:15)
    at Object.spy [as setItem] (file:///Users/raul/Desktop/MIS%20COSAS/02_Set_Lux/SetLux_Beta/node_modules/tinyspy/dist/index.js:47:80)
    at Object.setString (/Users/raul/Desktop/MIS COSAS/02_Set_Lux/SetLux_Beta/src/shared/services/localStorage.service.ts:25:27)
    at /Users/raul/Desktop/MIS COSAS/02_Set_Lux/SetLux_Beta/src/shared/services/localStorage.service.test.jsx:72:26
    at Proxy.assertThrows (file:///Users/raul/Desktop/MIS%20COSAS/02_Set_Lux/SetLux_Beta/node_modules/chai/index.js:2767:5)
    at Proxy.methodWrapper (file:///Users/raul/Desktop/MIS%20COSAS/02_Set_Lux/SetLux_Beta/node_modules/chai/index.js:1686:25)
    at Proxy.<anonymous> (file:///Users/raul/Desktop/MIS%20COSAS/02_Set_Lux/SetLux_Beta/node_modules/@vitest/expect/dist/index.js:1088:12)
    at Proxy.overwritingMethodWrapper (file:///Users/raul/Desktop/MIS%20COSAS/02_Set_Lux/SetLux_Beta/node_modules/chai/index.js:1735:33)
    at Proxy.<anonymous> (file:///Users/raul/Desktop/MIS%20COSAS/02_Set_Lux/SetLux_Beta/node_modules/@vitest/expect/dist/index.js:1420:16)

 ‚úì src/shared/services/localStorage.service.test.jsx (4 tests) 75ms
 ‚úì src/features/planificacion/utils/holidays.test.jsx (14 tests) 187ms
 ‚úì src/features/planificacion/utils/sync.test.jsx (28 tests) 207ms
stdout | src/features/nomina/utils/calcPublicidad.test.ts > calcPublicidad - makeRolePrices with holidayDay > should include holidayDay price for regular roles in publicidad
[NOMINA.PUBLICIDAD] getForRole - roleCode: GAFFER baseRoleCode: null
[NOMINA.PUBLICIDAD] getForRole - normalized: GAFFE baseNorm: GAFFE
[NOMINA.PUBLICIDAD] getForRole - row for GAFFE => key: GAFFER {
  'Precio jornada': '180',
  'Travel day': '72',
  'Horas extras': '28',
  'Precio D√≠a extra/Festivo': '315'
}
[NOMINA.PUBLICIDAD] getForRole - baseRow for GAFFE => key: GAFFER {
  'Precio jornada': '180',
  'Travel day': '72',
  'Horas extras': '28',
  'Precio D√≠a extra/Festivo': '315'
}
[NOMINA.PUBLICIDAD] getForRole - elecRow => key:  {}
[NOMINA.PUBLICIDAD] getNumField - trying direct key "Precio jornada": 180
[NOMINA.PUBLICIDAD] getNumField - trying direct key "Travel day": 72
[NOMINA.PUBLICIDAD] getNumField - trying direct key "Horas extras": 28
[NOMINA.PUBLICIDAD] getNumField - trying direct key "Precio D√≠a extra/Festivo": 315
[NOMINA.PUBLICIDAD] getForRole - calculated values: { jornada: 180, travelDay: 72, horaExtra: 28 }
[NOMINA.PUBLICIDAD] getForRole - result for GAFFER : {
  jornada: 180,
  travelDay: 72,
  horaExtra: 28,
  holidayDay: 315,
  transporte: 15,
  km: 0.25,
  dietas: {
    Desayuno: 0,
    Comida: 12,
    Cena: 18,
    'Dieta sin pernoctar': 25,
    'Dieta completa + desayuno': 35,
    'Gastos de bolsillo': 8
  },
  cargaDescarga: 0,
  localizacionTecnica: 0,
  factorHoraExtraFestiva: 1.5
}

stdout | src/features/nomina/utils/calcPublicidad.test.ts > calcPublicidad - makeRolePrices with holidayDay > should include holidayDay price for REF roles in publicidad
[NOMINA.PUBLICIDAD] getForRole - roleCode: REF baseRoleCode: GAFFER
[NOMINA.PUBLICIDAD] getForRole - normalized: REF baseNorm: GAFFE
[NOMINA.PUBLICIDAD] getForRole - row for REF => key:  {}
[NOMINA.PUBLICIDAD] getForRole - baseRow for GAFFE => key: GAFFER { 'Precio refuerzo': '140', 'Precio D√≠a extra/Festivo': '245' }
[NOMINA.PUBLICIDAD] getForRole - elecRow => key: EL√âCTRICO { 'Precio refuerzo': '110', 'Precio D√≠a extra/Festivo': '192.5' }
[NOMINA.PUBLICIDAD] getNumField - trying direct key "Precio refuerzo": 140
[NOMINA.PUBLICIDAD] getNumField - trying direct key "Precio refuerzo": 110
[NOMINA.PUBLICIDAD] getNumField - trying direct key "Precio D√≠a extra/Festivo": 245
[NOMINA.PUBLICIDAD] getForRole - calculated values: { jornada: 140, travelDay: 56, horaExtra: 0 }
[NOMINA.PUBLICIDAD] getForRole - result for REF : {
  jornada: 140,
  travelDay: 56,
  horaExtra: 0,
  holidayDay: 245,
  transporte: 15,
  km: 0.25,
  dietas: {
    Desayuno: 0,
    Comida: 12,
    Cena: 18,
    'Dieta sin pernoctar': 25,
    'Dieta completa + desayuno': 35,
    'Gastos de bolsillo': 8
  },
  cargaDescarga: 0,
  localizacionTecnica: 0,
  factorHoraExtraFestiva: 1.5
}

stdout | src/features/nomina/utils/calcPublicidad.test.ts > calcPublicidad - makeRolePrices with holidayDay > should return 0 for holidayDay when not defined in publicidad
[NOMINA.PUBLICIDAD] getForRole - roleCode: GAFFER baseRoleCode: null
[NOMINA.PUBLICIDAD] getForRole - normalized: GAFFE baseNorm: GAFFE
[NOMINA.PUBLICIDAD] getForRole - row for GAFFE => key: GAFFER { 'Precio jornada': '180' }
[NOMINA.PUBLICIDAD] getForRole - baseRow for GAFFE => key: GAFFER { 'Precio jornada': '180' }
[NOMINA.PUBLICIDAD] getForRole - elecRow => key:  {}
[NOMINA.PUBLICIDAD] getNumField - trying direct key "Precio jornada": 180
[NOMINA.PUBLICIDAD] getForRole - calculated values: { jornada: 180, travelDay: 72, horaExtra: 0 }
[NOMINA.PUBLICIDAD] getForRole - result for GAFFER : {
  jornada: 180,
  travelDay: 72,
  horaExtra: 0,
  holidayDay: 0,
  transporte: 0,
  km: 0,
  dietas: {
    Desayuno: 0,
    Comida: 0,
    Cena: 0,
    'Dieta sin pernoctar': 0,
    'Dieta completa + desayuno': 0,
    'Gastos de bolsillo': 0
  },
  cargaDescarga: 0,
  localizacionTecnica: 0,
  factorHoraExtraFestiva: 1.5
}

 ‚úì src/features/nomina/utils/calcPublicidad.test.ts (3 tests) 217ms
 ‚úì src/features/reportes/utils/model.test.jsx (28 tests) 176ms
 ‚úì src/features/nomina/utils/parse.test.ts (22 tests) 214ms
 ‚úì src/features/reportes/utils/text.test.jsx (35 tests) 19ms
 ‚úì src/features/nomina/utils/plan.test.ts (21 tests) 20ms
 ‚úì src/features/nomina/utils/parse.test.jsx (35 tests) 195ms
 ‚úì src/features/planificacion/constants.test.jsx (15 tests) 174ms
 ‚úì src/features/reportes/utils/date.test.jsx (13 tests) 31ms
 ‚úì src/features/planificacion/utils/weeks.test.jsx (6 tests) 58ms
 ‚úì src/shared/utils/date.test.jsx (23 tests) 19ms
 ‚úì src/features/reportes/constants.test.jsx (12 tests) 30ms
 ‚úì src/features/nomina/utils/date.test.ts (13 tests) 38ms
 ‚úì src/features/reportes/utils/numbers.test.jsx (13 tests) 37ms
 ‚úì src/features/condiciones/condiciones/shared.test.jsx (2 tests) 28ms
 ‚úì src/features/planificacion/utils/calendar.test.ts (4 tests) 13ms
 ‚úì src/shared/constants/festivos.test.ts (4 tests) 12ms

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ Failed Tests 16 ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ

 FAIL  src/test/setup.test.jsx > setup.ts > sets up localStorage mock correctly
 FAIL  src/test/setup.test.jsx > setup.ts > sets up matchMedia mock correctly
 FAIL  src/test/setup.test.jsx > setup.ts > sets up ResizeObserver mock correctly
 FAIL  src/test/setup.test.jsx > setup.ts > sets up IntersectionObserver mock correctly
 FAIL  src/test/setup.test.jsx > setup.ts > suppresses ReactDOM.render warnings
 FAIL  src/test/setup.test.jsx > setup.ts > allows other console.error messages through
 FAIL  src/test/setup.test.jsx > setup.ts > restores console.error after tests
 FAIL  src/test/setup.test.jsx > setup.ts > handles multiple matchMedia calls
 FAIL  src/test/setup.test.jsx > setup.ts > provides working mock methods
TypeError: Module "file:///Users/raul/Desktop/MIS%20COSAS/02_Set_Lux/SetLux_Beta/src/locales/es.json" needs an import attribute of "type: json"
‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1/16]‚éØ

 FAIL  src/app/layouts/MainLayout.test.jsx > MainLayout > renders without crashing
TestingLibraryElementError: Unable to find an element with the text: ‚Üê Volver a proyectos. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"min-h-screen grid grid-cols-[260px_1fr] bg-neutral-bg text-neutral-text pb-12"[39m
    [36m>[39m
      [36m<aside[39m
        [33mclass[39m=[32m"border-r border-neutral-border p-4 space-y-4"[39m
      [36m>[39m
        [36m<button[39m
          [33mclass[39m=[32m"w-full px-3 py-2 rounded-lg border border-neutral-border hover:border-brand text-sm"[39m
        [36m>[39m
          [0m‚Üê [0m
          [0m‚Üê Volver a proyectos[0m
        [36m</button>[39m
        [36m<div[39m
          [33mclass[39m=[32m"text-xs text-zinc-400"[39m
        [36m>[39m
          [0mProyecto[0m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"text-sm font-semibold break-words"[39m
        [36m>[39m
          [0mTest Project[0m
        [36m</div>[39m
      [36m</aside>[39m
      [36m<main[39m
        [33mclass[39m=[32m"p-5"[39m
      [36m>[39m
        [36m<div[39m
          [33mdata-testid[39m=[32m"outlet"[39m
        [36m>[39m
          [0mOutlet Content[0m
        [36m</div>[39m
      [36m</main>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 ‚ùØ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 ‚ùØ node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ‚ùØ node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ‚ùØ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ‚ùØ src/app/layouts/MainLayout.test.jsx:50:19
     48| 
     49|     expect(screen.getByText('Test Project')).toBeInTheDocument();
     50|     expect(screen.getByText('‚Üê Volver a proyectos')).toBeInTheDocument‚Ä¶
       |                   ^
     51|   });
     52| 

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[2/16]‚éØ

 FAIL  src/app/layouts/MainLayout.test.jsx > MainLayout > calls onBack when back button is clicked
TestingLibraryElementError: Unable to find an element with the text: ‚Üê Volver a proyectos. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"min-h-screen grid grid-cols-[260px_1fr] bg-neutral-bg text-neutral-text pb-12"[39m
    [36m>[39m
      [36m<aside[39m
        [33mclass[39m=[32m"border-r border-neutral-border p-4 space-y-4"[39m
      [36m>[39m
        [36m<button[39m
          [33mclass[39m=[32m"w-full px-3 py-2 rounded-lg border border-neutral-border hover:border-brand text-sm"[39m
        [36m>[39m
          [0m‚Üê [0m
          [0m‚Üê Volver a proyectos[0m
        [36m</button>[39m
        [36m<div[39m
          [33mclass[39m=[32m"text-xs text-zinc-400"[39m
        [36m>[39m
          [0mProyecto[0m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"text-sm font-semibold break-words"[39m
        [36m>[39m
          [0mTest Project[0m
        [36m</div>[39m
      [36m</aside>[39m
      [36m<main[39m
        [33mclass[39m=[32m"p-5"[39m
      [36m>[39m
        [36m<div[39m
          [33mdata-testid[39m=[32m"outlet"[39m
        [36m>[39m
          [0mOutlet Content[0m
        [36m</div>[39m
      [36m</main>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 ‚ùØ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 ‚ùØ node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ‚ùØ node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ‚ùØ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ‚ùØ src/app/layouts/MainLayout.test.jsx:101:28
     99|     );
    100| 
    101|     fireEvent.click(screen.getByText('‚Üê Volver a proyectos'));
       |                            ^
    102|     expect(mockOnBack).toHaveBeenCalledTimes(1);
    103|   });

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[3/16]‚éØ

 FAIL  src/features/necesidades/utils/export.test.jsx > necesidades/utils/export > renderExportHTML > should include project name and week label in title
AssertionError: expected '\n    <!DOCTYPE html>\n    <html>\n  ‚Ä¶' to contain '<h1>Necesidades - Producci√≥n</h1>'

- Expected
+ Received

- <h1>Necesidades - Producci√≥n</h1>
+
+     <!DOCTYPE html>
+     <html>
+     <head>
+       <meta charset="utf-8">
+       <title>Test Project ‚Äì Necesidades de Rodaje (Semana 1)</title>
+       <style>
+         body {
+           font-family: 'Segoe UI', system-ui, -apple-system, Roboto, Ubuntu, Cantarell, 'Noto Sans', sans-serif;
+           color: #1e293b;
+           line-height: 1.5;
+           font-size: 12px;
+           margin: 0;
+           padding: 0;
+           background: white;
+         }
+         
+         .container {
+           max-width: 100%;
+           margin: 0 auto;
+           background: white;
+           min-height: 100vh;
+           display: flex;
+           flex-direction: column;
+           padding-bottom: 0;
+           position: relative;
+         }
+         
+         .header {
+           background: linear-gradient(135deg, #f97316 0%, #3b82f6 100%);
+           color: white;
+           padding: 12px 20px;
+           text-align: center;
+           flex-shrink: 0;
+         }
+         
+         .header h1 {
+           margin: 0;
+           font-size: 16px;
+           font-weight: 700;
+           letter-spacing: -0.5px;
+         }
+         
+         .content {
+           padding: 12px 20px;
+           flex: 1;
+           margin-bottom: 0;
+         }
+         
+         .info-panel {
+           background: #f1f5f9;
+           padding: 8px 12px;
+           border-radius: 6px;
+           margin-bottom: 12px;
+           display: flex;
+           gap: 24px;
+           align-items: center;
+           justify-content: flex-start;
+         }
+         
+         .info-item {
+           display: flex;
+           flex-direction: column;
+           align-items: flex-start;
+         }
+         
+         .info-label {
+           font-size: 9px;
+           font-weight: 600;
+           color: #64748b;
+           text-transform: uppercase;
+           letter-spacing: 0.5px;
+         }
+         
+         .info-value {
+           font-size: 11px;
+           color: #1e293b;
+           font-weight: 500;
+         }
+         
+         .week-title {
+           font-size: 14px;
+           font-weight: 600;
+           color: #1e293b;
+           margin: 12px 0 8px 0;
+           padding: 4px 0;
+           border-bottom: 1px solid #e2e8f0;
+         }
+         
+         .table-container {
+           background: white;
+           border-radius: 6px;
+           overflow: hidden;
+           box-shadow: 0 1px 3px rgba(0,0,0,0.1);
+         }
+         
+         table {
+           width: 100%;
+           border-collapse: collapse;
+           font-size: 10px;
+           border: 2px solid #1e40af;
+         }
+         
+         th {
+           background: #1e40af;
+           color: white;
+           padding: 6px 6px;
+           text-align: left;
+           font-weight: 600;
+           font-size: 9px;
+           text-transform: uppercase;
+           border: 1px solid white;
+         }
+         
+         td {
+           padding: 6px 6px;
+           border: 1px solid #e2e8f0;
+           background: white;
+           vertical-align: top;
+           color: #1e293b;
+         }
+         
+         .footer {
+           text-align: center;
+           padding: 10px 0;
+           color: #64748b;
+           font-size: 6px;
+           border-top: 1px solid #e2e8f0;
+           display: flex;
+           align-items: center;
+           justify-content: center;
+           gap: 2px;
+           flex-shrink: 0;
+           width: 100%;
+           margin-bottom: 8px;
+         }
+         
+         .setlux-logo { 
+           font-weight: 700; 
+         }
+         .setlux-logo .set { 
+           color: #f97316; 
+         }
+         .setlux-logo .lux { 
+           color: #3b82f6; 
+         }
+       </style>
+     </head>
+     <body>
+       <div class="container">
+         <div class="header">
+           <h1>Necesidades de rodaje - Producci√≥n</h1>
+         </div>
+         
+         <div class="content">
+           <div class="info-panel">
+             <div class="info-item">
+               <div class="info-label">Producci√≥n</div>
+               <div class="info-value">‚Äî</div>
+             </div>
+             <div class="info-item">
+               <div class="info-label">Proyecto</div>
+               <div class="info-value">Test Project</div>
+             </div>
+           </div>
+           
+           <div class="week-title">Semana 1</div>
+           
+           <div class="table-container">
+             <table>
+               <thead>
+                 <tr>
+                   <th>Campo / D√≠a</th>
+                   <th style="border:1px solid #999;padding:6px;text-align:left;background:#1e40af;color:#fff;">
+         Lunes<br/>15/01
+       </th><th style="border:1px solid #999;padding:6px;text-align:left;background:#1e40af;color:#fff;">
+         Martes<br/>16/01
+       </th><th style="border:1px solid #999;padding:6px;text-align:left;background:#1e40af;color:#fff;">
+         Mi√©rcoles<br/>17/01
+       </th><th style="border:1px solid #999;padding:6px;text-align:left;background:#1e40af;color:#fff;">
+         Jueves<br/>18/01
+       </th><th style="border:1px solid #999;padding:6px;text-align:left;background:#1e40af;color:#fff;">
+         Viernes<br/>19/01
+       </th><th style="border:1px solid #999;padding:6px;text-align:left;background:#1e40af;color:#fff;">
+         S√°bado<br/>20/01
+       </th><th style="border:1px solid #999;padding:6px;text-align:left;background:#1e40af;color:#fff;">
+         Domingo<br/>21/01
+       </th>
+                 </tr>
+               </thead>
+               <tbody>
+                 <tr><td style="border:1px solid #999;padding:6px;font-weight:600;background:#f8fafc;">Localizaci√≥n</td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35">Estudio A</div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td></tr><tr><td style="border:1px solid #999;padding:6px;font-weight:600;background:#f8fafc;">Secuencias</td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35">Secuencia 1</div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td></tr><tr><td style="border:1px solid #999;padding:6px;font-weight:600;background:#f8fafc;">Equipo t√©cnico</td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div>‚Ä¢ DIRECTOR: Juan</div><div>‚Ä¢ PRODUCTOR: Mar√≠a</div><hr style="margin:6px 0;border:none;border-top:1px solid #ddd;"/><div style="white-space:pre-wrap;line-height:1.35">Notas del equipo</div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td></tr><tr><td style="border:1px solid #999;padding:6px;font-weight:600;background:#f8fafc;">Necesidades localizaciones</td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35">Necesidades loc</div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td></tr><tr><td style="border:1px solid #999;padding:6px;font-weight:600;background:#f8fafc;">Necesidades producci√≥n</td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35">Necesidades prod</div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td></tr><tr><td style="border:1px solid #999;padding:6px;font-weight:600;background:#f8fafc;">Necesidades luz</td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35">Necesidades light</div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td></tr><tr><td style="border:1px solid #999;padding:6px;font-weight:600;background:#f8fafc;">Material extra</td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35">Material extra</div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td></tr><tr><td style="border:1px solid #999;padding:6px;font-weight:600;background:#f8fafc;">Precall</td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35">Precall info</div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td></tr><tr><td style="border:1px solid #999;padding:6px;font-weight:600;background:#f8fafc;">Equipo Prelight</td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div>‚Ä¢ T√âCNICO: Carlos</div><hr style="margin:6px 0;border:none;border-top:1px solid #ddd;"/><div style="white-space:pre-wrap;line-height:1.35">Notas prelight</div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td></tr><tr><td style="border:1px solid #999;padding:6px;font-weight:600;background:#f8fafc;">Equipo Recogida</td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div>‚Ä¢ T√âCNICO: Ana</div><hr style="margin:6px 0;border:none;border-top:1px solid #ddd;"/><div style="white-space:pre-wrap;line-height:1.35">Notas pickup</div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td></tr><tr><td style="border:1px solid #999;padding:6px;font-weight:600;background:#f8fafc;">Observaciones</td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35">Observaciones</div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td><td style="border:1px solid #999;padding:6px;vertical-align:top;"><div style="white-space:pre-wrap;line-height:1.35"></div></td></tr>
+               </tbody>
+             </table>
+           </div>
+         </div>
+         
+         <div class="footer">
+           <span>Generado autom√°ticamente por</span>
+           <span class="setlux-logo">
+             <span class="set">Set</span><span class="lux">Lux</span>
+           </span>
+         </div>
+       </div>
+     </body>
+     </html>
+   

 ‚ùØ src/features/necesidades/utils/export.test.jsx:87:20
     85|         `<title>${mockProjectName} ‚Äì Necesidades de Rodaje (${mockWeek‚Ä¶
     86|       );
     87|       expect(html).toContain('<h1>Necesidades - Producci√≥n</h1>');
       |                    ^
     88|     });
     89| 

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[4/16]‚éØ

 FAIL  src/features/nomina/utils/export.test.jsx > nomina/utils/export > buildNominaMonthHTML > includes all required table headers
AssertionError: expected '<!DOCTYPE html>\n<html>\n<head>\n  <m‚Ä¶' to contain 'D√≠as Travel Day'

- Expected
+ Received

- D√≠as Travel Day
+ <!DOCTYPE html>
+ <html>
+ <head>
+   <meta charset="utf-8">
+   <title>Test Project ‚Äì N√≥mina Enero 2023</title>
+   <style>
+     @page { size: A4 landscape; margin: 12mm; }
+     @media print { body { margin: 0; } }
+     
+     body {
+       font-family: 'Segoe UI', system-ui, -apple-system, Roboto, Ubuntu, Cantarell, 'Noto Sans', sans-serif;
+       margin: 0;
+       padding: 0;
+       background: #f8fafc;
+       color: #1e293b;
+       line-height: 1.5;
+     }
+     
+     .container {
+       max-width: 100%;
+       margin: 0 auto;
+       background: white;
+       min-height: 100vh;
+     }
+     
+     .header {
+       background: linear-gradient(135deg, #f97316 0%, #3b82f6 100%);
+       color: white;
+       padding: 12px 20px;
+       text-align: center;
+       flex-shrink: 0;
+     }
+     
+     .header h1 {
+       margin: 0;
+       font-size: 16px;
+       font-weight: 700;
+       letter-spacing: -0.5px;
+     }
+     
+     .content {
+       padding: 12px 20px;
+       flex: 1;
+       margin-bottom: 0;
+     }
+     
+     .info-panel {
+       background: #f1f5f9;
+       padding: 8px 12px;
+       border-radius: 6px;
+       margin-bottom: 12px;
+       display: flex;
+       gap: 24px;
+       align-items: center;
+       justify-content: flex-start;
+     }
+     
+     .info-item {
+       display: flex;
+       flex-direction: column;
+       align-items: flex-start;
+     }
+     
+     .info-label {
+       font-size: 9px;
+       font-weight: 600;
+       color: #64748b;
+       text-transform: uppercase;
+       letter-spacing: 0.5px;
+     }
+     
+     .info-value {
+       font-size: 11px;
+       color: #1e293b;
+       font-weight: 500;
+     }
+     
+     .table-container {
+       background: white;
+       border-radius: 6px;
+       overflow: hidden;
+       box-shadow: 0 1px 3px rgba(0,0,0,0.1);
+     }
+     
+     table {
+       width: 100%;
+       border-collapse: collapse;
+       font-size: 10px;
+       border: 2px solid #1e3a8a;
+     }
+     
+     th {
+       background: #1e40af !important;
+       color: white !important;
+       padding: 8px 6px !important;
+       text-align: center !important;
+       vertical-align: middle !important;
+       font-weight: 600 !important;
+       font-size: 9px !important;
+       text-transform: uppercase !important;
+       border: 1px solid white !important;
+       height: 40px !important;
+       line-height: 1.2 !important;
+       display: table-cell !important;
+     }
+     
+     thead th {
+       text-align: center !important;
+       vertical-align: middle !important;
+       height: 40px !important;
+       line-height: 1.2 !important;
+     }
+     
+     td {
+       padding: 6px 6px;
+       border: 1px solid #999;
+       background: white;
+       vertical-align: middle !important;
+       text-align: center !important;
+       color: #1e293b;
+     }
+     
+     td.text-right {
+       text-align: right !important;
+     }
+     
+     td.text-left {
+       text-align: left !important;
+     }
+     
+     tr:hover td {
+       background: #f8fafc;
+     }
+     
+     tr:last-child td {
+       border-bottom: none;
+     }
+     
+     .person-cell {
+       font-weight: 600;
+       color: #1e293b;
+     }
+     
+     .total-cell {
+       font-weight: 700;
+       font-size: 14px;
+       color: #f97316;
+     }
+     
+     .extras-cell, .dietas-cell {
+       font-size: 10px;
+     }
+     
+     .extras-cell br + *, .dietas-cell br + * {
+       font-size: 10px !important;
+     }
+     
+     .dietas-cell {
+       font-size: 10px !important;
+     }
+     
+     .dietas-cell br + * {
+       font-size: 10px !important;
+     }
+     
+     .footer {
+       text-align: center;
+       padding: 6px 0; /* increase padding to ensure visibility */
+       color: #64748b;
+       font-size: 6px;
+       border-top: 1px solid #e2e8f0;
+       display: flex;
+       align-items: center;
+       justify-content: center;
+       gap: 2px;
+       flex-shrink: 0;
+       width: 100%;
+       margin-bottom: 8px; /* separate from bottom edge */
+     }
+     
+     .setlux-logo {
+       font-weight: 700;
+       font-size: 7px;
+     }
+     
+     .setlux-logo .set {
+       color: #f97316;
+     }
+     
+     .setlux-logo .lux {
+       color: #3b82f6;
+     }
+   </style>
+ </head>
+ <body>
+   <div class="container">
+     <div class="header">
+       <h1>N√≥mina - Enero 2023</h1>
+     </div>
+     
+     <div class="content">
+       <div class="info-panel">
+         <div class="info-item">
+           <div class="info-label">Producci√≥n</div>
+           <div class="info-value">‚Äî</div>
+         </div>
+         <div class="info-item">
+           <div class="info-label">Proyecto</div>
+           <div class="info-value">Test Project</div>
+         </div>
+       </div>
+       
+       <div class="table-container">
+         <table>
+           <thead><tr><th style="text-align:center !important;vertical-align:middle !important;">Persona</th><th style="text-align:center !important;vertical-align:middle !important;">D√≠as trabajados</th><th style="text-align:center !important;vertical-align:middle !important;">Total d√≠as</th><th style="text-align:center !important;vertical-align:middle !important;">D√≠as festivos</th><th style="text-align:center !important;vertical-align:middle !important;">Total d√≠as festivos</th><th style="text-align:center !important;vertical-align:middle !important;">D√≠as travel day</th><th style="text-align:center !important;vertical-align:middle !important;">Total travel day</th><th style="text-align:center !important;vertical-align:middle !important;">Horas extras</th><th style="text-align:center !important;vertical-align:middle !important;">Total horas extra</th><th style="text-align:center !important;vertical-align:middle !important;">Dietas</th><th style="text-align:center !important;vertical-align:middle !important;">Total dietas</th><th style="text-align:center !important;vertical-align:middle !important;">Transportes</th><th style="text-align:center !important;vertical-align:middle !important;">Total transportes</th><th style="text-align:center !important;vertical-align:middle !important;">Kilometraje</th><th style="text-align:center !important;vertical-align:middle !important;">Total kilometraje</th><th style="text-align:center !important;vertical-align:middle !important;">TOTAL BRUTO</th></tr></thead>
+           <tbody><tr><td class="text-left" style="font-weight:600;vertical-align:middle !important;">Gaffer ‚Äî John Doe</td><td style="text-align:center !important;vertical-align:middle !important;">5</td><td style="text-align:center !important;vertical-align:middle !important;">250‚Ç¨</td><td style="text-align:center !important;vertical-align:middle !important;">2</td><td style="text-align:center !important;vertical-align:middle !important;">87.50‚Ç¨</td><td style="text-align:center !important;vertical-align:middle !important;">2</td><td style="text-align:center !important;vertical-align:middle !important;">100‚Ç¨</td><td class="extras-cell" style="text-align:center !important;vertical-align:middle !important;"><div style="text-align:center;"><strong>3</strong><br/><div>Horas extra x2</div> <div>Turn Around x1</div></div></td><td style="text-align:center !important;vertical-align:middle !important;">45‚Ç¨</td><td class="dietas-cell" style="text-align:center !important;vertical-align:middle !important;"><div style="text-align:center;"><strong>3</strong><br/>Comida x2 Cena x1</div></td><td style="text-align:center !important;vertical-align:middle !important;">40‚Ç¨</td><td style="text-align:center !important;vertical-align:middle !important;">1</td><td style="text-align:center !important;vertical-align:middle !important;">20‚Ç¨</td><td style="text-align:center !important;vertical-align:middle !important;">50.5</td><td style="text-align:center !important;vertical-align:middle !important;">25.25‚Ç¨</td><td class="total-cell" style="text-align:center !important;vertical-align:middle !important;">440.25‚Ç¨</td></tr><tr><td class="text-left" style="font-weight:600;vertical-align:middle !important;">El√©ctrico ‚Äî Jane Smith</td><td style="text-align:center !important;vertical-align:middle !important;">4</td><td style="text-align:center !important;vertical-align:middle !important;">200‚Ç¨</td><td style="text-align:center !important;vertical-align:middle !important;">1</td><td style="text-align:center !important;vertical-align:middle !important;">35‚Ç¨</td><td style="text-align:center !important;vertical-align:middle !important;">1</td><td style="text-align:center !important;vertical-align:middle !important;">40‚Ç¨</td><td class="extras-cell" style="text-align:center !important;vertical-align:middle !important;"><div style="text-align:center;"><strong>2</strong><br/><div>Horas extra x1</div> <div class="nocturnidad">Nocturnidad x1</div></div></td><td style="text-align:center !important;vertical-align:middle !important;">24‚Ç¨</td><td class="dietas-cell" style="text-align:center !important;vertical-align:middle !important;"><div style="text-align:center;"><strong>1</strong><br/>Dieta completa + desayuno x1</div></td><td style="text-align:center !important;vertical-align:middle !important;">50‚Ç¨</td><td style="text-align:center !important;vertical-align:middle !important;"></td><td style="text-align:center !important;vertical-align:middle !important;"></td><td style="text-align:center !important;vertical-align:middle !important;">25.0</td><td style="text-align:center !important;vertical-align:middle !important;">12.50‚Ç¨</td><td class="total-cell" style="text-align:center !important;vertical-align:middle !important;">326.50‚Ç¨</td></tr></tbody>
+         </table>
+       </div>
+     </div>
+     
+     <div class="footer">
+       <span>Generado autom√°ticamente por</span>
+       <span class="setlux-logo">
+         <span class="set">Set</span><span class="lux">Lux</span>
+       </span>
+     </div>
+   </div>
+ </body>
+ </html>

 ‚ùØ src/features/nomina/utils/export.test.jsx:138:20
    136|       expect(html).toContain('D√≠as trabajados');
    137|       expect(html).toContain('Total d√≠as');
    138|       expect(html).toContain('D√≠as Travel Day');
       |                    ^
    139|       expect(html).toContain('Total travel days');
    140|       expect(html).toContain('Horas extras');

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[5/16]‚éØ

 FAIL  src/features/nomina/utils/export.test.jsx > nomina/utils/export > buildNominaMonthHTML > should format extras correctly with pills format
AssertionError: expected '<!DOCTYPE html>\n<html>\n<head>\n  <m‚Ä¶' to contain 'Hora extra x2'

- Expected
+ Received

- Hora extra x2
+ <!DOCTYPE html>
+ <html>
+ <head>
+   <meta charset="utf-8">
+   <title>Test Project ‚Äì N√≥mina Enero 2023</title>
+   <style>
+     @page { size: A4 landscape; margin: 12mm; }
+     @media print { body { margin: 0; } }
+     
+     body {
+       font-family: 'Segoe UI', system-ui, -apple-system, Roboto, Ubuntu, Cantarell, 'Noto Sans', sans-serif;
+       margin: 0;
+       padding: 0;
+       background: #f8fafc;
+       color: #1e293b;
+       line-height: 1.5;
+     }
+     
+     .container {
+       max-width: 100%;
+       margin: 0 auto;
+       background: white;
+       min-height: 100vh;
+     }
+     
+     .header {
+       background: linear-gradient(135deg, #f97316 0%, #3b82f6 100%);
+       color: white;
+       padding: 12px 20px;
+       text-align: center;
+       flex-shrink: 0;
+     }
+     
+     .header h1 {
+       margin: 0;
+       font-size: 16px;
+       font-weight: 700;
+       letter-spacing: -0.5px;
+     }
+     
+     .content {
+       padding: 12px 20px;
+       flex: 1;
+       margin-bottom: 0;
+     }
+     
+     .info-panel {
+       background: #f1f5f9;
+       padding: 8px 12px;
+       border-radius: 6px;
+       margin-bottom: 12px;
+       display: flex;
+       gap: 24px;
+       align-items: center;
+       justify-content: flex-start;
+     }
+     
+     .info-item {
+       display: flex;
+       flex-direction: column;
+       align-items: flex-start;
+     }
+     
+     .info-label {
+       font-size: 9px;
+       font-weight: 600;
+       color: #64748b;
+       text-transform: uppercase;
+       letter-spacing: 0.5px;
+     }
+     
+     .info-value {
+       font-size: 11px;
+       color: #1e293b;
+       font-weight: 500;
+     }
+     
+     .table-container {
+       background: white;
+       border-radius: 6px;
+       overflow: hidden;
+       box-shadow: 0 1px 3px rgba(0,0,0,0.1);
+     }
+     
+     table {
+       width: 100%;
+       border-collapse: collapse;
+       font-size: 10px;
+       border: 2px solid #1e3a8a;
+     }
+     
+     th {
+       background: #1e40af !important;
+       color: white !important;
+       padding: 8px 6px !important;
+       text-align: center !important;
+       vertical-align: middle !important;
+       font-weight: 600 !important;
+       font-size: 9px !important;
+       text-transform: uppercase !important;
+       border: 1px solid white !important;
+       height: 40px !important;
+       line-height: 1.2 !important;
+       display: table-cell !important;
+     }
+     
+     thead th {
+       text-align: center !important;
+       vertical-align: middle !important;
+       height: 40px !important;
+       line-height: 1.2 !important;
+     }
+     
+     td {
+       padding: 6px 6px;
+       border: 1px solid #999;
+       background: white;
+       vertical-align: middle !important;
+       text-align: center !important;
+       color: #1e293b;
+     }
+     
+     td.text-right {
+       text-align: right !important;
+     }
+     
+     td.text-left {
+       text-align: left !important;
+     }
+     
+     tr:hover td {
+       background: #f8fafc;
+     }
+     
+     tr:last-child td {
+       border-bottom: none;
+     }
+     
+     .person-cell {
+       font-weight: 600;
+       color: #1e293b;
+     }
+     
+     .total-cell {
+       font-weight: 700;
+       font-size: 14px;
+       color: #f97316;
+     }
+     
+     .extras-cell, .dietas-cell {
+       font-size: 10px;
+     }
+     
+     .extras-cell br + *, .dietas-cell br + * {
+       font-size: 10px !important;
+     }
+     
+     .dietas-cell {
+       font-size: 10px !important;
+     }
+     
+     .dietas-cell br + * {
+       font-size: 10px !important;
+     }
+     
+     .footer {
+       text-align: center;
+       padding: 6px 0; /* increase padding to ensure visibility */
+       color: #64748b;
+       font-size: 6px;
+       border-top: 1px solid #e2e8f0;
+       display: flex;
+       align-items: center;
+       justify-content: center;
+       gap: 2px;
+       flex-shrink: 0;
+       width: 100%;
+       margin-bottom: 8px; /* separate from bottom edge */
+     }
+     
+     .setlux-logo {
+       font-weight: 700;
+       font-size: 7px;
+     }
+     
+     .setlux-logo .set {
+       color: #f97316;
+     }
+     
+     .setlux-logo .lux {
+       color: #3b82f6;
+     }
+   </style>
+ </head>
+ <body>
+   <div class="container">
+     <div class="header">
+       <h1>N√≥mina - Enero 2023</h1>
+     </div>
+     
+     <div class="content">
+       <div class="info-panel">
+         <div class="info-item">
+           <div class="info-label">Producci√≥n</div>
+           <div class="info-value">‚Äî</div>
+         </div>
+         <div class="info-item">
+           <div class="info-label">Proyecto</div>
+           <div class="info-value">Test Project</div>
+         </div>
+       </div>
+       
+       <div class="table-container">
+         <table>
+           <thead><tr><th style="text-align:center !important;vertical-align:middle !important;">Persona</th><th style="text-align:center !important;vertical-align:middle !important;">D√≠as trabajados</th><th style="text-align:center !important;vertical-align:middle !important;">Total d√≠as</th><th style="text-align:center !important;vertical-align:middle !important;">Horas extras</th><th style="text-align:center !important;vertical-align:middle !important;">Total horas extra</th><th style="text-align:center !important;vertical-align:middle !important;">TOTAL BRUTO</th></tr></thead>
+           <tbody><tr><td class="text-left" style="font-weight:600;vertical-align:middle !important;">Gaffer ‚Äî John Doe</td><td style="text-align:center !important;vertical-align:middle !important;">5</td><td style="text-align:center !important;vertical-align:middle !important;">250‚Ç¨</td><td class="extras-cell" style="text-align:center !important;vertical-align:middle !important;"><div style="text-align:center;"><strong>4</strong><br/><div>Horas extra x2</div> <div>Turn Around x1</div> <div class="nocturnidad">Nocturnidad x1</div></div></td><td style="text-align:center !important;vertical-align:middle !important;">60‚Ç¨</td><td class="total-cell" style="text-align:center !important;vertical-align:middle !important;">310‚Ç¨</td></tr></tbody>
+         </table>
+       </div>
+     </div>
+     
+     <div class="footer">
+       <span>Generado autom√°ticamente por</span>
+       <span class="setlux-logo">
+         <span class="set">Set</span><span class="lux">Lux</span>
+       </span>
+     </div>
+   </div>
+ </body>
+ </html>

 ‚ùØ src/features/nomina/utils/export.test.jsx:533:20
    531| 
    532|       // Should contain the formatted extras text
    533|       expect(html).toContain('Hora extra x2');
       |                    ^
    534|       expect(html).toContain('Turn Around x1');
    535|       expect(html).toContain('Nocturnidad x1');

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[6/16]‚éØ

 FAIL  src/features/reportes/components/ReportWeekHeader.test.jsx > ReportWeekHeader (smoke) > renders title and triggers actions
TestingLibraryElementError: Unable to find an accessible element with the role "button" and name "Alternar semana"

Here are the accessible roles:

  button:

  Name "Contenido de la semana":
  [36m<button[39m
    [33maria-expanded[39m=[32m"true"[39m
    [33maria-label[39m=[32m"Contenido de la semana"[39m
    [33mclass[39m=[32m"w-6 h-6 rounded-lg border border-neutral-border flex items-center justify-center text-sm hover:border-accent "[39m
    [33mtitle[39m=[32m"Contraer"[39m
    [33mtype[39m=[32m"button"[39m
  [36m/>[39m

  Name "PDF":
  [36m<button[39m
    [33mclass[39m=[32m"btn"[39m
    [33mstyle[39m=[32m"background: rgb(245, 158, 11);"[39m
    [33mtitle[39m=[32m"Exportar semana (PDF)"[39m
    [33mtype[39m=[32m"button"[39m
  [36m/>[39m

  --------------------------------------------------
  heading:

  Name "Semana A":
  [36m<h4[39m
    [33mclass[39m=[32m"text-brand font-semibold m-0"[39m
  [36m/>[39m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex items-center gap-2 px-5 py-4"[39m
    [36m>[39m
      [36m<button[39m
        [33maria-expanded[39m=[32m"true"[39m
        [33maria-label[39m=[32m"Contenido de la semana"[39m
        [33mclass[39m=[32m"w-6 h-6 rounded-lg border border-neutral-border flex items-center justify-center text-sm hover:border-accent "[39m
        [33mtitle[39m=[32m"Contraer"[39m
        [33mtype[39m=[32m"button"[39m
      [36m>[39m
        [0m‚àí[0m
      [36m</button>[39m
      [36m<h4[39m
        [33mclass[39m=[32m"text-brand font-semibold m-0"[39m
      [36m>[39m
        [0mSemana A[0m
      [36m</h4>[39m
      [36m<div[39m
        [33mclass[39m=[32m"ml-auto flex gap-2"[39m
      [36m>[39m
        [36m<button[39m
          [33mclass[39m=[32m"btn"[39m
          [33mstyle[39m=[32m"background: rgb(245, 158, 11);"[39m
          [33mtitle[39m=[32m"Exportar semana (PDF)"[39m
          [33mtype[39m=[32m"button"[39m
        [36m>[39m
          [0mPDF[0m
        [36m</button>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 ‚ùØ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 ‚ùØ node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ‚ùØ node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ‚ùØ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ‚ùØ src/features/reportes/components/ReportWeekHeader.test.jsx:26:28
     24|     expect(onExportPDF).toHaveBeenCalled();
     25| 
     26|     fireEvent.click(screen.getByRole('button', { name: 'Alternar seman‚Ä¶
       |                            ^
     27|     expect(onToggle).toHaveBeenCalled();
     28|   });

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[7/16]‚éØ

 FAIL  src/features/planificacion/components/WeekCard.test.jsx > WeekCard (smoke) > renders header and actions
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 ‚ùØ src/features/planificacion/components/WeekCard.test.jsx:27:3
     25|   };
     26| 
     27|   it('renders header and actions', () => {
       |   ^
     28|     const onExportWeekPDF = vi.fn();
     29|     const duplicateWeek = vi.fn();

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[8/16]‚éØ


 Test Files  6 failed | 86 passed (92)
      Tests  16 failed | 1018 passed (1034)
   Start at  01:14:59
   Duration  61.80s (transform 29.15s, setup 76.84s, collect 110.49s, tests 90.02s, environment 403.14s, prepare 59.66s)

